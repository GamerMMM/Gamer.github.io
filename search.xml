<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>DeepLearning</title>
    <url>/2023/%E5%AD%A6%E7%82%B9/AndrewNg-DeepLearning/</url>
    <content><![CDATA[<h1 id="AndrewNg"><a href="#AndrewNg" class="headerlink" title="AndrewNg"></a>AndrewNg</h1><p>看着吴恩达老师的网课稍微用自己的理解来记一记东西~非常业余只供看乐子</p>
<h2 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h2><ul>
<li>Structured Data : Refers to the data that each of the features has a very well defined meaning.</li>
<li>Unstructured Data : audio,raw audio or images where you may want to recognize what’s in the image or text. And the features might be the pixel values(像素值) in an image.What should be paid attention to is that humans are really good at interpret unstructing data,as a word or a text can be regarded as a form of unstructured data.</li>
<li>piont: deal with a huge amount of data.Especially “labled data”</li>
<li>algorithm innovation(data computation): transform sigmoid to RELU function(help computation),more convient for bigger nn trains and trying your new idea,improving your efficiency.</li>
<li>Label : things you’re going to predict.</li>
<li>Feature : </li>
<li>Example : labened&#x2F;unlabeled(features only) ;</li>
<li>model : </li>
<li>training :</li>
<li>inference :</li>
<li>overfitting ；</li>
<li>convergence :</li>
<li>parameter :</li>
<li>hyperparameter :</li>
<li>模型训练的一次迭代（一次梯度更新）</li>
</ul>
<h2 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h2><h3 id="Logistic-Regression"><a href="#Logistic-Regression" class="headerlink" title="Logistic Regression"></a>Logistic Regression</h3><ul>
<li>The dimension of feature vector:the number of elements.n&#x3D;num*row*col(of the matrixes);m refers to the number of examples we have in total;</li>
<li>create a matrix (nx,m);python:X.shape;Y.shape(1,m)</li>
<li>We assume that the parameters(参数) of logistic regression will be w an nx-dimensional vector.</li>
<li>you can use the following function to get a estimated value:<br>$$<br>\widehat{y}&#x3D;\sigma(wx+b)<br>$$</li>
<li><strong>Loss Function:</strong> Logistic Rsgression lost function,we can find the local optima(best solution).You can assume y equals to a certain value like 1 or 0,then see what value we hope the $\widehat{y}$ be.<br>$$<br>L(\widehat{y},y)&#x3D;-(ylog\widehat{y}+(1-y)log(1-\widehat{y}))<br>$$</li>
<li><strong>Cost Function:</strong> It is the additive sum of every loss of the predictive value,and it measures how well the parameters w and b are doing. We should find apprioate w and b to make the J(w,b) as small as possible.<br>$$<br>J(w,b) &#x3D; \frac{1}{m}\sum L(\widehat{y}^{(i)},y^{(i)})<br>$$<br>Interpret:<br>First, we want to minimum the cost function J(w,b).<br>Second, we’re supposed to maximum the minus L, for we always want the max through the maximum likehood estimition.<br>Then we assume that our model were IID(identically independently distributed).<br>$$y &#x3D; 1 : p(y|x) &#x3D; \widehat{y}$$<br>$$y &#x3D; 0 : p(y|x) &#x3D; 1 - \widehat{y}$$<br>We mix the two function together:<br>$$p(y|x) &#x3D;  \widehat{y}^y + (1-\widehat{y})^{(1-y)}$$<br>log the both side we get the -L.</li>
</ul>
<h3 id="Use-the-gradient-descent-algorithm"><a href="#Use-the-gradient-descent-algorithm" class="headerlink" title="Use the gradient descent algorithm"></a>Use the gradient descent algorithm</h3><ul>
<li>to train the w and b,get the best result;</li>
<li>progress:as you should know that J(w,b) is a convex(凹函数),so we’re supposed to find the minus,at least the local minus. so we repeat:<br>$$<br>w&#x3D;w-\alpha \frac{\delta J(w,b)}{\delta w}<br>$$</li>
</ul>
<h3 id="Implement-gradient-for-logistic-regression"><a href="#Implement-gradient-for-logistic-regression" class="headerlink" title="Implement gradient for logistic regression"></a>Implement gradient for logistic regression</h3><ul>
<li>three core formulas:<br>$$z &#x3D; w^Tx+b$$<br>$$\widehat{y} &#x3D; a &#x3D; \sigma(z)$$<br>$$L(a,y) &#x3D; -(ylog(a)+(1-y)log(1-a))$$</li>
<li>the number of fearures equals to the unmber of w(i),and only a sigle b.We compute the loss based on a sigle example.</li>
<li>Caculate:<br>$$<br>dz &#x3D; a - y , db &#x3D; dz<br>$$<br>then you cancompute $w_1,w_2$….the same way as the former<br>$$dw_1 &#x3D; x_1dz,w_1 &#x3D; w_1 - \alpha dw<br>$$</li>
</ul>
<h4 id="for-the-m-examples-make-a-for-loop"><a href="#for-the-m-examples-make-a-for-loop" class="headerlink" title="for the m examples,make a for loop"></a>for the m examples,make a for loop</h4><ul>
<li>you add every value up,include $J,w_i,z_i,dz_i$,then you get the additive sum of $j,dw_i,b$,then &#x2F;m.<br>$$w_i &#x3D; w_i - \alpha dw_i<br>$$<br>$$b &#x3D; b - \alpha db$$</li>
</ul>
<h3 id="Vectorization"><a href="#Vectorization" class="headerlink" title="Vectorization"></a>Vectorization</h3><ul>
<li>use special command so that you can accelarate your efficiency.for loop is too slow. </li>
<li>feature: transform the for loop compute to the special matrix algorithm,so we can call out numpy to perform better.Second you can achieve work out all the results at a sigle time through transform the vector to the matrix.</li>
</ul>
<h3 id="broadcasting-in-Python"><a href="#broadcasting-in-Python" class="headerlink" title="broadcasting in Python"></a>broadcasting in Python</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">cal = A.sum(axis = <span class="number">0</span>) <span class="comment"># to sum vertically, 1 means sum horizontally</span></span><br><span class="line">percentage = <span class="number">100</span>*A/(cal.reshape(<span class="number">1</span>,<span class="number">4</span>)) <span class="comment"># make sure that the shape is you want</span></span><br></pre></td></tr></table></figure>
<p>In fact, Python can automatically transforms the matrix too suit the compute, by copying vertically or horizontally.<br>You can read NumPy documention.</p>
<h4 id="Do-not-use-rank-1-arries"><a href="#Do-not-use-rank-1-arries" class="headerlink" title="Do not use rank 1 arries"></a>Do not use rank 1 arries</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">a = np.random.dandn(<span class="number">5</span>) <span class="comment"># to create a special arry ranking 1</span></span><br><span class="line">a.shape = (<span class="number">5</span>,) <span class="comment"># rank = 1, behavior differently from vector</span></span><br></pre></td></tr></table></figure>
<h4 id="instead-do-this"><a href="#instead-do-this" class="headerlink" title="instead  do this"></a>instead  do this</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">a = np.random,randn(<span class="number">5</span>,<span class="number">1</span>) <span class="comment"># column vector</span></span><br><span class="line">a = np.random.randn(<span class="number">1</span>,<span class="number">5</span>) <span class="comment"># row vector</span></span><br><span class="line">assert(a.shape == (<span class="number">5</span>,<span class="number">1</span>)) <span class="comment"># to confirm the shape</span></span><br><span class="line">a = a.reshape((<span class="number">1</span>,<span class="number">5</span>)) <span class="comment"># to ensure its behavior</span></span><br></pre></td></tr></table></figure>

<h2 id="Neural-Network"><a href="#Neural-Network" class="headerlink" title="Neural Network"></a>Neural Network</h2><h3 id="Overview-Representation"><a href="#Overview-Representation" class="headerlink" title="Overview&amp;Representation"></a>Overview&amp;Representation</h3><ul>
<li>input layer -&gt; hinden layer -&gt; output layer</li>
<li>we call the input layer the zero layer, according to that role to define the number of layer.</li>
<li></li>
<li></li>
<li></li>
</ul>
<h1 id="西瓜书"><a href="#西瓜书" class="headerlink" title="西瓜书"></a>西瓜书</h1><h2 id="性能度量"><a href="#性能度量" class="headerlink" title="性能度量"></a>性能度量</h2><p>错误率精度略，这里主要说明查准率与查全率<br>查准率：<br>$$<br> P &#x3D; \frac{TP}{TP+FP}<br>$$<br>查全率：<br>$$<br>R &#x3D; \frac{TP}{TP+FN}<br>$$<br>直观反映：PR图</p>
<h1 id="神经网络"><a href="#神经网络" class="headerlink" title="神经网络"></a>神经网络</h1><h2 id="前馈型（FNN）"><a href="#前馈型（FNN）" class="headerlink" title="前馈型（FNN）"></a>前馈型（FNN）</h2><ul>
<li>最简单</li>
<li>各神经元之间没有反馈连接，信息只能向前流动</li>
<li>没有记忆效应，适用于多监督学习任务</li>
</ul>
<h3 id="典型：卷积神经网络（CNN）"><a href="#典型：卷积神经网络（CNN）" class="headerlink" title="典型：卷积神经网络（CNN）"></a>典型：卷积神经网络（CNN）</h3><h2 id="后馈型（递归型）"><a href="#后馈型（递归型）" class="headerlink" title="后馈型（递归型）"></a>后馈型（递归型）</h2><ul>
<li>具备反馈&#x2F;循环连接</li>
<li>输出可以在后续的时间步骤被送回给网络的输入端</li>
<li>适于处理需要记忆和上下文信息的任务，处理时序数据</li>
</ul>
<h3 id="典型：循环神经网络（RNN）"><a href="#典型：循环神经网络（RNN）" class="headerlink" title="典型：循环神经网络（RNN）"></a>典型：循环神经网络（RNN）</h3><h4 id="LSTM"><a href="#LSTM" class="headerlink" title="LSTM"></a>LSTM</h4><p>一种改进后的RNN</p>
<h1 id="非线性分类器"><a href="#非线性分类器" class="headerlink" title="非线性分类器"></a>非线性分类器</h1><p>升高维度</p>
<h2 id="决策树"><a href="#决策树" class="headerlink" title="决策树"></a>决策树</h2><h2 id="随机森林"><a href="#随机森林" class="headerlink" title="随机森林"></a>随机森林</h2><h2 id="GBDT"><a href="#GBDT" class="headerlink" title="GBDT"></a>GBDT</h2><h2 id="SVM（非线性核）"><a href="#SVM（非线性核）" class="headerlink" title="SVM（非线性核）"></a>SVM（非线性核）</h2><h2 id="多层感知机"><a href="#多层感知机" class="headerlink" title="多层感知机"></a>多层感知机</h2><h1 id=""><a href="#" class="headerlink" title=""></a></h1>]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>深度学习</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo-Next的写文小技巧</title>
    <url>/2024/%E5%AD%A6%E7%82%B9/Hexo-Next%E7%9A%84%E5%86%99%E6%96%87%E5%B0%8F%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<p>有一些tag插件在8以下版本是不能用的，还有一些用markdown完全可以轻松代替，这里不作过多赘述，只是列出来一些笨人觉得有用并且很方便的~<br>以及，本文中的<code>[]</code>只是分割名字，实际用的时候不需要敲出来。</p>
<h1 id="Note"><a href="#Note" class="headerlink" title="Note"></a><a href="https://theme-next.js.org/docs/tag-plugins/note">Note</a></h1><h2 id="Next配置"><a href="#Next配置" class="headerlink" title="Next配置"></a>Next配置</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  <span class="symbol">style:</span> simple</span><br><span class="line">  <span class="symbol">icons:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  <span class="symbol">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">&#123;% note [<span class="keyword">class</span>] [no-icon] [summary] %&#125;</span><br><span class="line"><span class="title class_">Any</span> content (support inline tags too).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>
<p>所有的参数都是自选的</p>
<ul>
<li><code>class</code>:Supported values:default（灰色向右箭头） | primary（紫色加号）  | success（绿色对号） | info（蓝色i） | warning（黄色感叹号） | danger（红色减号）.</li>
<li>[no-icon] : Disable icon in note.</li>
<li>[summary] : Optional summary of the note.前边会自带一个小三角<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">&#123;% note primary %&#125;</span><br><span class="line"><span class="comment">#### Primary Header</span></span><br><span class="line">**<span class="title class_">Welcome</span>** to [<span class="title class_">Hexo</span>!](<span class="symbol">https:</span>/<span class="regexp">/hexo.io)</span></span><br><span class="line"><span class="regexp">&#123;% endnote %&#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="Tabs"><a href="#Tabs" class="headerlink" title="Tabs"></a><a href="https://theme-next.js.org/docs/tag-plugins/tabs">Tabs</a></h1><h2 id="Next配置-1"><a href="#Next配置-1" class="headerlink" title="Next配置"></a>Next配置</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">tabs:</span></span><br><span class="line">  <span class="comment"># Make the nav bar of tabs with long content stick to the top.</span></span><br><span class="line">  <span class="symbol">sticky:</span> <span class="literal">false</span></span><br><span class="line">  <span class="symbol">transition:</span></span><br><span class="line">    <span class="symbol">tabs:</span> <span class="literal">false</span></span><br><span class="line">    <span class="symbol">labels:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="用法-1"><a href="#用法-1" class="headerlink" title="用法"></a>用法</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">&#123;% tabs <span class="title class_">Unique</span> name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [<span class="title class_">Tab</span> caption] [<span class="variable">@icon</span>] --&gt;</span><br><span class="line"><span class="title class_">Any</span> content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>Unique name</code> : Unique name of tabs block tag without comma.<br>Will be used in #id’s as prefix for each tab with their index numbers.<br>If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes.<br>Only for current url of post&#x2F;page must be unique!<br>就是说这个参数是给你的表设一个名字，在本篇文章中仅此一个。如果要单独给某个表格设置名字在Tab caption处设置就可以。</li>
<li><code>[index]</code> : Index number of active tab.<br>If not specified, first tab (1) will be selected.<br>If index is -1, no tab will be selected. It’s will be something like spoiler.<br>选择初始时显示的表，默认是1，-1是全收缩<br>Optional parameter.</li>
<li><code>[Tab caption]</code> : Caption of current tab.<br>If not caption specified, unique name with tab index suffix will be used as caption of tab.<br>If not caption specified, but specified icon, caption will empty.<br>给表头单独添加索引，默认是从1编号；-1是不制表；如果是空的，就是name+id<br>Optional parameter.</li>
<li>[@icon] : Font Awesome icon name.<br>Can be specified with or without space; e.g. ‘Tab caption @icon’ is the same as ‘Tab caption@icon’.<br>@+font的名字，和name之间有没有空格都可以<br>Optional parameter</li>
</ul>
<h1 id="Mermaid"><a href="#Mermaid" class="headerlink" title="Mermaid"></a><a href="https://theme-next.js.org/docs/tag-plugins/mermaid">Mermaid</a></h1><h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><h3 id="hexo设置"><a href="#hexo设置" class="headerlink" title="hexo设置"></a>hexo设置</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">highlight:</span></span><br><span class="line">  <span class="symbol">exclude_languages:</span></span><br><span class="line">    - mermaid</span><br></pre></td></tr></table></figure>
<h3 id="Next设置"><a href="#Next设置" class="headerlink" title="Next设置"></a>Next设置</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Mermaid tag</span></span><br><span class="line"><span class="symbol">mermaid:</span></span><br><span class="line">  <span class="symbol">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Available themes: default | dark | forest | neutral</span></span><br><span class="line">  <span class="symbol">theme:</span></span><br><span class="line">    <span class="symbol">light:</span> default</span><br><span class="line">    <span class="symbol">dark:</span> dark</span><br></pre></td></tr></table></figure>
<h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><pre><code class="highlight mermaid">graph TD
A[Hard] --&gt;|Text| B(Round)
B --&gt; C&#123;Decision&#125;
C --&gt;|One| D[Result 1]
C --&gt;|Two| E[Result 2]</code></pre>



<h1 id="让你的Hexo-Next支持数学公式"><a href="#让你的Hexo-Next支持数学公式" class="headerlink" title="让你的Hexo-Next支持数学公式"></a>让你的Hexo-Next支持数学公式</h1><p>注意在把next.config文件中的<code>mathjax</code>改为<code>true</code>之后还要在文章标题添加<code>mathjax: true</code>，这样仅在需要的界面渲染公式，可以提高加载速度</p>
<h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="-1"><a href="#-1" class="headerlink" title=""></a></h1>]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>UI</tag>
        <tag>hexo</tag>
        <tag>writing</tag>
      </tags>
  </entry>
  <entry>
    <title>CNN</title>
    <url>/2023/%E5%AD%A6%E7%82%B9/CNN/</url>
    <content><![CDATA[<h1 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h1><h2 id="Convolutions"><a href="#Convolutions" class="headerlink" title="Convolutions"></a>Convolutions</h2><ul>
<li>Conv layers consist of a set of <strong>filters</strong>, which you can think of as just 2d matrices of numbers.</li>
</ul>
]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>机器学习</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo的Next美化教程</title>
    <url>/2023/%E5%AD%A6%E7%82%B9/Hexo%E7%9A%84Next%E7%BE%8E%E5%8C%96%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<p><a href="https://theme-next.js.org/">在这里放个官方教程的链接先</a><br>文中目录分为两类：<code>site root directory</code>指根目录，也就是点进你的hexo文件夹的第一个目录；<code>Next directory</code>指主题目录，也就是点进Next文件夹后的第一个目录。</p>
<h1 id="自定义特征"><a href="#自定义特征" class="headerlink" title="自定义特征"></a>自定义特征</h1><h2 id="界面"><a href="#界面" class="headerlink" title="界面"></a>界面</h2><ol>
<li>favicon:将图标存储于<code>hexo/source/images</code>下,小图标为16*16，中等为32*32</li>
</ol>
<h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><h3 id="cc协定设置-creative-commons"><a href="#cc协定设置-creative-commons" class="headerlink" title="cc协定设置(creative commons)"></a>cc协定设置(creative commons)</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">creative_commons:</span></span><br><span class="line">  <span class="symbol">license:</span> by-nc-sa</span><br><span class="line">  <span class="symbol">size:</span> small</span><br><span class="line">  <span class="symbol">sidebar:</span> <span class="literal">true</span></span><br><span class="line">  <span class="symbol">post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="symbol">language:</span> deed.zh</span><br></pre></td></tr></table></figure>
<h3 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h3><h4 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h4><p>在根目录下执行</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>hexo new page [custom-page-name]</span><br></pre></td></tr></table></figure>
<h4 id="设置-1"><a href="#设置-1" class="headerlink" title="设置"></a>设置</h4><p>通过设置根目录下的<code>_config.yml</code>管理页面,注意如果path在上文已使用要删去或改成<code>/</code></p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">index_generator:</span></span><br><span class="line">  <span class="symbol">path:</span> archives</span><br><span class="line">  <span class="symbol">per_page:</span> <span class="number">10</span></span><br><span class="line">  <span class="symbol">order_by:</span> -date</span><br></pre></td></tr></table></figure>

<h3 id="分类与标签"><a href="#分类与标签" class="headerlink" title="分类与标签"></a>分类与标签</h3><p>tag和categories是相同的操作，改个名就可以，以下以tag为例</p>
<h4 id="添加标签页"><a href="#添加标签页" class="headerlink" title="添加标签页"></a>添加标签页</h4><ol>
<li>根目录下执行<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure></li>
<li>编辑新页面index如下：<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">title:</span> <span class="title class_">Tags</span></span><br><span class="line"><span class="symbol">date:</span> <span class="number">2014</span>-<span class="number">12</span>-<span class="number">22</span> <span class="number">12</span><span class="symbol">:</span><span class="number">39</span><span class="symbol">:</span><span class="number">04</span></span><br><span class="line"><span class="symbol">type:</span> tags</span><br><span class="line">---</span><br></pre></td></tr></table></figure></li>
<li>向next设置界面的<code>menu</code>中加入<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">tags:</span> /tags/ |<span class="params"></span>| fa fa-tags</span><br></pre></td></tr></table></figure></li>
<li>默认的hexo配置文件会与上方教程冲突，需要在根目录设置文件中将这个设置关闭<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">tag_generator:</span></span><br><span class="line">  <span class="symbol">enable_index_page:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="标签页美化"><a href="#标签页美化" class="headerlink" title="标签页美化"></a>标签页美化</h4><ol>
<li>修改next设置文件<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">tagcloud:</span></span><br><span class="line">  <span class="symbol">min:</span> <span class="number">12</span> <span class="comment"># Minimun font size in px</span></span><br><span class="line">  <span class="symbol">max:</span> <span class="number">20</span> <span class="comment"># Maxium font size in px</span></span><br><span class="line">  <span class="comment"># 我喜欢小一点字所以设定的字偏小</span></span><br><span class="line">  <span class="symbol">start:</span>  <span class="string">&quot;#476D80&quot;</span><span class="comment"># Start color (hex, rgba, hsla or color keywords)</span></span><br><span class="line">  <span class="symbol">end:</span>  <span class="string">&quot;#98A9A3&quot;</span><span class="comment"># End color (hex, rgba, hsla or color keywords)</span></span><br><span class="line">  <span class="comment">#实际上是字体从小到大会有一个渐变，从start color变到end color，建议start颜色浅于end，会更好看一些，色系与主题周边色系相类似</span></span><br><span class="line">  <span class="symbol">amount:</span> <span class="number">200</span> <span class="comment"># Amount of tags, change it if you have more than 200 tags</span></span><br><span class="line">  <span class="symbol">orderby:</span> name <span class="comment"># Order of tags</span></span><br><span class="line">  <span class="symbol">order:</span> <span class="number">1</span> <span class="comment"># Sort order</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="定义文章标签"><a href="#定义文章标签" class="headerlink" title="定义文章标签"></a>定义文章标签</h4><p>在你文章标题下添加代码</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">tags:</span> [<span class="title class_">Tag1</span>,<span class="title class_">Tag2</span>]</span><br></pre></td></tr></table></figure>

<h3 id="添加谷歌日历-Google-Calendar-页"><a href="#添加谷歌日历-Google-Calendar-页" class="headerlink" title="添加谷歌日历(Google Calendar)页"></a>添加谷歌日历(Google Calendar)页</h3><h3 id="动态设置菜单栏"><a href="#动态设置菜单栏" class="headerlink" title="动态设置菜单栏"></a>动态设置菜单栏</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">menu:</span></span><br><span class="line">  <span class="comment"># 静态区</span></span><br><span class="line">  <span class="symbol">home:</span> / |<span class="params"></span>| fa fa-home</span><br><span class="line">  <span class="symbol">archives:</span> /archives/ |<span class="params"></span>| fa fa-archive</span><br><span class="line">  <span class="comment"># 动态区</span></span><br><span class="line">  <span class="title class_">Docs</span>: <span class="comment">#动态栏名称</span></span><br><span class="line">    <span class="symbol">default:</span> /docs/ |<span class="params"></span>| fa fa-book <span class="comment"># 文件地址+图标，每个子菜单都需要一个默认界面</span></span><br><span class="line">    <span class="comment"># 以下为两个子界面，排列在上方</span></span><br><span class="line">    <span class="title class_">Getting</span> <span class="title class_">Started</span>: <span class="comment">#子界面名称，都是地址+标题</span></span><br><span class="line">      <span class="symbol">default:</span> /getting-started/ |<span class="params"></span>| fa fa-flag</span><br><span class="line">      <span class="title class_">Installation</span>: <span class="regexp">/installation.html || fa fa-download</span></span><br><span class="line"><span class="regexp">      Configuration: /configuration</span>.html |<span class="params"></span>| fa fa-wrench</span><br><span class="line">    <span class="title class_">Third</span> <span class="title class_">Party</span> <span class="title class_">Plugins</span>:</span><br><span class="line">      <span class="symbol">default:</span> /third-party-services/ |<span class="params"></span>| fa fa-puzzle-piece</span><br><span class="line">      <span class="title class_">Math</span> <span class="title class_">Equations</span>: <span class="regexp">/math-equations.html || fa fa-square-root-alt</span></span><br><span class="line"><span class="regexp">      Comment Systems: /comments</span>.html |<span class="params"></span>| fa fa-comment-alt</span><br></pre></td></tr></table></figure>

<h1 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h1><h2 id="Fancybox"><a href="#Fancybox" class="headerlink" title="Fancybox"></a>Fancybox</h2><p>展示音频，可以高度自定义的插件</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="Busuanzi-Counting-China"><a href="#Busuanzi-Counting-China" class="headerlink" title="Busuanzi Counting(China)"></a>Busuanzi Counting(China)</h2><p>将NexT设置文件中的相关按钮全打开，会在标题下显示本文总浏览量，页末显示网站的访问人数和浏览量</p>
<h1 id="源代码美化"><a href="#源代码美化" class="headerlink" title="源代码美化"></a>源代码美化</h1><h2 id="修改颜色"><a href="#修改颜色" class="headerlink" title="修改颜色"></a>修改颜色</h2><h3 id="sidebar修改侧边栏字体颜色"><a href="#sidebar修改侧边栏字体颜色" class="headerlink" title="sidebar修改侧边栏字体颜色"></a>sidebar修改侧边栏字体颜色</h3><p><code>next/source/css/_variables/主题名.styl</code>下搜索sidebar<br>第一个是未选择项的颜色，第二个是鼠标高亮，第三个是选择高亮，我的设置如下：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="variable">$sidebar</span>-nav-color                = <span class="comment">#A9BACB;</span></span><br><span class="line"><span class="variable">$sidebar</span>-nav-hover-color          = <span class="comment">#1e50a2;</span></span><br><span class="line"><span class="variable">$sidebar</span>-highlight                = <span class="comment">#0482B5;</span></span><br></pre></td></tr></table></figure>

<h1 id="一些报错"><a href="#一些报错" class="headerlink" title="一些报错"></a>一些报错</h1><h2 id="hexo打开后页面一片空白"><a href="#hexo打开后页面一片空白" class="headerlink" title="hexo打开后页面一片空白"></a>hexo打开后页面一片空白</h2><p>一开始的时候给我报错<code>./soure/_data/header.swig</code>中有一个变量不能调用，笨人看了同学的目录之后发现人家根本没这个文件夹…索性把这个文件夹删掉了，然后还是不行（但是不报错了），于是我去看了<a href="https://blog.csdn.net/qq_35760825/article/details/124862679">这个教程</a></p>
]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>UI</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>pyQt5一步到位笔记</title>
    <url>/2023/%E5%AD%A6%E7%82%B9/QtDesigner/</url>
    <content><![CDATA[<h1 id="QtDesiner的安装与配置"><a href="#QtDesiner的安装与配置" class="headerlink" title="QtDesiner的安装与配置"></a>QtDesiner的安装与配置</h1><h2 id="pyuic自动生成代码运行大法"><a href="#pyuic自动生成代码运行大法" class="headerlink" title="pyuic自动生成代码运行大法"></a>pyuic自动生成代码运行大法</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Ui</span>_Dialog(<span class="title class_">QDialog</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span>, parent=<span class="title class_">None</span></span>):</span><br><span class="line">        <span class="variable language_">super</span>(<span class="title class_">Ui</span>_Dialog, <span class="variable language_">self</span>).__init__(parent)</span><br><span class="line">        <span class="variable language_">self</span>.showDialog(<span class="variable language_">self</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">showDialog</span>(<span class="params"><span class="variable language_">self</span>, <span class="title class_">Dialog</span></span>)<span class="symbol">:</span></span><br></pre></td></tr></table></figure>
<h2 id="动态加载已保存的界面"><a href="#动态加载已保存的界面" class="headerlink" title="动态加载已保存的界面"></a>动态加载已保存的界面</h2><p>注意只有designer中已经保存的界面加载时才会更新</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainForm</span>(<span class="title class_">QMainWindow</span>, <span class="title class_">Ui</span>_MainWindow):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">        <span class="variable language_">super</span>().__init__()</span><br><span class="line">        <span class="variable language_">self</span>.ui = uic.loadUi(<span class="string">&quot;new_UI_full.ui&quot;</span>,<span class="variable language_">self</span>)</span><br></pre></td></tr></table></figure>
<p>对于显示，运行操作，写在main函数里！<br>属性调用：<br><code>self.ui.pushButton.clicked.connect(self.bindButton)</code></p>
<h1 id="槽函数与连接"><a href="#槽函数与连接" class="headerlink" title="槽函数与连接"></a>槽函数与连接</h1><h2 id="注意事项（未解决）"><a href="#注意事项（未解决）" class="headerlink" title="注意事项（未解决）"></a>注意事项（未解决）</h2><p>如果使用自定义信号，一定要记得<strong>信号是类变量，必须在类中定义</strong>，不能在实例方法中定义，否则后面发射信号和连接槽方法时都会报错。<br>不过我是这么解决的：(强行定制函数ing)</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">self</span>.dia.comboBox_ImgType.currentIndexChanged.connect(<span class="symbol">lambda:</span> <span class="variable language_">self</span>.<span class="title class_">RadiomicsFunc</span>.<span class="title class_">ImgType</span>_init(</span><br><span class="line">    <span class="variable language_">self</span>.comboBox_ImgType.currentIndex()))  <span class="comment"># currentIndex返回当前项的序号(int)，第一个项的序号为0</span></span><br><span class="line"><span class="variable language_">self</span>.dia.comboBox_ImgType.currentIndexChanged.connect(<span class="symbol">lambda:</span> <span class="variable language_">self</span>.stackedWidget.setCurrentIndex(</span><br><span class="line">    <span class="variable language_">self</span>.comboBox_ImgType.currentIndex()-<span class="number">1</span>))<span class="comment">#对应换页</span></span><br></pre></td></tr></table></figure>
<blockquote>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">class</span> configWin(ui_configWin.<span class="title class_">Ui</span>_configWin,<span class="title class_">QtWidgets</span>.<span class="title class_">QWidget</span>):</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span>,parent=<span class="title class_">None</span></span>):</span><br><span class="line">       <span class="variable language_">super</span>().__init__(parent)</span><br><span class="line">       <span class="variable language_">self</span>.setupUi(<span class="variable language_">self</span>)</span><br><span class="line">       <span class="variable language_">self</span>.sizeChanged = <span class="title class_">QtCore</span>.pyqtSignal(int)</span><br><span class="line">       </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">resize</span>(<span class="params"><span class="variable language_">self</span>,width,height</span>):</span><br><span class="line">       <span class="variable language_">self</span>.sizeChanged.emit(width)</span><br><span class="line">       print(<span class="string">&quot;sizeChanged....&quot;</span>)</span><br><span class="line">       <span class="variable language_">super</span>().resize(width,height)</span><br><span class="line">       </span><br><span class="line"><span class="keyword">class</span> mainWin(<span class="title class_">QtWidgets</span>.<span class="title class_">QMainWindow</span>,ui_mainWin.<span class="title class_">Ui</span>_mainWindow):</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">       <span class="variable language_">super</span>().__init__()</span><br><span class="line">       <span class="variable language_">self</span>.setupUi(<span class="variable language_">self</span>)       </span><br><span class="line">	<span class="variable language_">self</span>.configWin = configWin(<span class="variable language_">self</span>)</span><br><span class="line">       <span class="variable language_">self</span>.configWin.sizeChanged.connect(<span class="variable language_">self</span>.sizeChanged)</span><br></pre></td></tr></table></figure>
<p>报错<code>AttributeError: &#39;builtin_function_or_method&#39; object has no attribute &#39;connect&#39;</code><br>修正：<br>    <figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">from <span class="title class_">PyQt5</span>.<span class="title class_">QtCore</span> import pyqtSignal</span><br><span class="line">from <span class="title class_">PyQt5</span>.<span class="title class_">QtGui</span> import <span class="title class_">QWindow</span></span><br><span class="line"><span class="keyword">class</span> configWin(ui_configWin.<span class="title class_">Ui</span>_configWin,<span class="title class_">QtWidgets</span>.<span class="title class_">QWidget</span>):</span><br><span class="line"></span><br><span class="line"> sizeChanged =pyqtSignal(int)<span class="comment">#写在这里</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span>,parent=<span class="title class_">None</span></span>):</span><br><span class="line">        <span class="variable language_">super</span>().__init__(parent)</span><br><span class="line">        <span class="variable language_">self</span>.setupUi(<span class="variable language_">self</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">resize</span>(<span class="params"><span class="variable language_">self</span>,width,height</span>):</span><br><span class="line">        <span class="variable language_">self</span>.sizeChanged.emit(width)</span><br><span class="line">        <span class="variable language_">super</span>().resize(width,height)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> mainWin(<span class="title class_">QtWidgets</span>.<span class="title class_">QMainWindow</span>,ui_mainWin.<span class="title class_">Ui</span>_mainWindow):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">        <span class="variable language_">super</span>().__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setupUi(<span class="variable language_">self</span>)       </span><br><span class="line">  <span class="variable language_">self</span>.configWin = configWin(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.configWin.sizeChanged.connect(<span class="variable language_">self</span>.sizeChanged)</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="关于-connect-函数"><a href="#关于-connect-函数" class="headerlink" title="关于.connect()函数"></a>关于<code>.connect()</code>函数</h2><p>需要注意的是，如果你的<code>connect()</code>里边是一个函数，以及你的函数传参是函数，你需要注意你书写函数的格式<br>一个改了很久的两行：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">timer.timeout.connect(<span class="symbol">lambda:</span> <span class="title class_">Bar</span>.setValue(<span class="title class_">Bar</span>.value()+<span class="number">10</span>)) <span class="comment"># 设置参数</span></span><br><span class="line">timer.timeout.connect(<span class="symbol">lambda:</span> checkState(<span class="title class_">Bar</span>.value(),timer))<span class="comment"># 检查时间</span></span><br></pre></td></tr></table></figure>
<ol>
<li>报错：传入的组件参数是<code>NoneType</code><br>这就需要区分<code>progressBar.setValue()</code>与<code>progressBar.setValue</code>的区别：</li>
</ol>
<ul>
<li>前者其实默认是一种call(None)，而返回值是NoneType</li>
<li>后者是一个函数(Reference the Method)</li>
</ul>
<ol start="2">
<li>关于<code>lambda</code></li>
</ol>
<ul>
<li>可以认为是函数的声明，整个式子其实是对函数的调用，但是在<code>.connect()</code>中调用函数时，必须要使用该声明</li>
</ul>
<p><a href="https://stackoverflow.com/questions/45793966/clicked-connect-error">讨论区有一个类似的例子</a></p>
<h2 id="几种连接方法"><a href="#几种连接方法" class="headerlink" title="几种连接方法"></a>几种连接方法</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 第一种信号与槽连接的方法</span></span><br><span class="line">cb_font = <span class="title class_">QFontComboBox</span>(currentFontChanged=<span class="variable language_">self</span>.changeLabelFont)</span><br><span class="line">cb_font.pyqtConfigure(objectName=<span class="string">&#x27;fontCombo&#x27;</span>, editable=<span class="title class_">False</span>)</span><br><span class="line"><span class="comment"># 第二种信号与槽连接的方法</span></span><br><span class="line">cb_font.currentFontChanged.connect(<span class="variable language_">self</span>.changeButtonFont)</span><br><span class="line">main_layout.addWidget(cb_font)</span><br><span class="line"></span><br><span class="line">label = <span class="title class_">QLabel</span>()</span><br><span class="line">label.pyqtConfigure(text=<span class="string">&#x27;示例文本！&#x27;</span>, objectName=<span class="string">&#x27;label&#x27;</span>)</span><br><span class="line"></span><br><span class="line">main_layout.addWidget(label)</span><br><span class="line"></span><br><span class="line">closeButton = <span class="title class_">QPushButton</span>(<span class="string">&#x27;关闭&#x27;</span>)</span><br><span class="line"><span class="comment"># 第三种连接信号与槽的方法</span></span><br><span class="line">closeButton.pyqtConfigure(objectName=<span class="string">&#x27;button&#x27;</span>, clicked=<span class="variable language_">self</span>.close)</span><br><span class="line">main_layout.addWidget(closeButton)</span><br><span class="line"></span><br><span class="line">vhbox = <span class="title class_">QVBoxLayout</span>()</span><br><span class="line">vhbox.addLayout(main_layout)</span><br><span class="line">vhbox.addStretch(<span class="number">1</span>)</span><br><span class="line"><span class="variable language_">self</span>.setLayout(vhbox)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第四种连接信号与槽的方法</span></span><br><span class="line"><span class="title class_">QMetaObject</span>.connectSlotsByName(<span class="variable language_">self</span>)</span><br></pre></td></tr></table></figure>

<h1 id="MainWindow-主窗口-系列设置"><a href="#MainWindow-主窗口-系列设置" class="headerlink" title="MainWindow(主窗口)系列设置"></a>MainWindow(主窗口)系列设置</h1><h2 id="Menu-一定要注意只有新建主窗口才会有菜单栏"><a href="#Menu-一定要注意只有新建主窗口才会有菜单栏" class="headerlink" title="Menu(一定要注意只有新建主窗口才会有菜单栏)"></a>Menu(一定要注意只有新建主窗口才会有菜单栏)</h2><h3 id="菜单键的相关函数"><a href="#菜单键的相关函数" class="headerlink" title="菜单键的相关函数"></a>菜单键的相关函数</h3><p>self.menu_1.setTitle(_translate(“MainWindow”, “####”)) #菜单名称<br>self.action_1.setText(_translate(“MainWindow”, “#####”)) #菜单选项<br>self.action_1.triggered.connect(self.actionHandler_1) #点击菜单选项绑定响应（def 函数）</p>
<h3 id="提供四种Action信号"><a href="#提供四种Action信号" class="headerlink" title="提供四种Action信号"></a>提供四种Action信号</h3><p>changed():修改Action的属性时触发（如修改toolTip的信息）<br>hovered():Action关联的菜单项或者鼠标停留或者按下快捷键时触发<br>toggled(bool checked):Action设置checkable属性，关联的菜单项或toolBar在点击后会改变选中状态，触发toggled信号，参数为是否选中的最新状态。<br>triggered(bool checked):鼠标点击或者快捷键时触发。</p>
<ul>
<li>给动作绑定事件：<br><code>self.savelog.triggered.connect(self.saveLogs)</code><br>其中<code>self.saveLog</code>是动作名称，<code>self.aveLogs</code>是需要绑定的事件。<br>表示<code>self.saveLog</code>被触发时调用<code>self.aveLogs</code>函数事件</li>
</ul>
<h1 id="Scroll-Area"><a href="#Scroll-Area" class="headerlink" title="Scroll Area"></a>Scroll Area</h1><p>设置 ScrollAreaWidgetContents 的minimumSize属性，只有窗口大小小于这个值的时候，滑块才生效。<br>实际上相当于scrollArea内部创建了一个子区域，如果子区域大于最外区域，则出现滑块，如果只想出现一边有滑块，没有的那一边建议子块的最小值设置为0</p>
<h1 id="ComboBox"><a href="#ComboBox" class="headerlink" title="ComboBox"></a>ComboBox</h1><h2 id="访问QComboBox的列表项"><a href="#访问QComboBox的列表项" class="headerlink" title="访问QComboBox的列表项"></a>访问QComboBox的列表项</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">int currentlndex()：返回当前项的序号，第一个项的序号为<span class="number">0</span>。</span><br><span class="line"><span class="title class_">QString</span> currentText()：返回当前项的文本</span><br><span class="line"><span class="title class_">QVariant</span> currentData(int role = <span class="title class_">Qt</span><span class="symbol">:</span><span class="symbol">:UserRole</span>)：返回当前项的关联数据</span><br><span class="line"><span class="title class_">QString</span> itemText(int index) 返回指定索引号的项的文本</span><br><span class="line"><span class="title class_">QVariant</span> itemData(int index, int role = <span class="title class_">Qt</span>%<span class="symbol">:UserRole</span>) 返回指定索引号的项的关联数据。</span><br><span class="line">int count()：返回项的个数。</span><br></pre></td></tr></table></figure>
<h2 id="槽函数"><a href="#槽函数" class="headerlink" title="槽函数"></a>槽函数</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">self</span>.reco_comboBox.currentIndexChanged.connect(</span><br><span class="line">    <span class="symbol">lambda:</span> <span class="variable language_">self</span>.model_init(<span class="variable language_">self</span>.reco_comboBox.currentIndex()))</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">#model_init函数的实现的核心代码</span></span><br><span class="line"><span class="comment"># 加载相关参数，并初始化模型</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">model_init</span>(<span class="params"><span class="variable language_">self</span>,tag</span>):</span><br><span class="line">    <span class="keyword">if</span> tag == <span class="number">1</span>:   <span class="comment">#当下拉框选中&quot;1&quot;触发事件</span></span><br><span class="line">    <span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">    代码省略</span></span><br><span class="line"><span class="string">    &quot;</span><span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="QSlider"><a href="#QSlider" class="headerlink" title="QSlider"></a>QSlider</h1><h2 id="重写slider点哪里到哪里"><a href="#重写slider点哪里到哪里" class="headerlink" title="重写slider点哪里到哪里"></a><a href="https://blog.csdn.net/xiaochou199604/article/details/127464749">重写slider点哪里到哪里</a></h2><p>新建包mySlider(或者直接新建类也行)，就差个导入么</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">from <span class="title class_">PyQt5</span> import <span class="title class_">QtCore</span>, <span class="title class_">QtGui</span>, <span class="title class_">QtWidgets</span></span><br><span class="line">from <span class="title class_">PyQt5</span>.<span class="title class_">QtCore</span> import pyqtSignal</span><br><span class="line">from <span class="title class_">PyQt5</span>.<span class="title class_">QtWidgets</span> import <span class="title class_">QSlider</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MySlider</span>(<span class="title class_">QSlider</span>):  <span class="comment"># 继承QSlider</span></span><br><span class="line">    customSliderClicked = pyqtSignal(str)  <span class="comment"># 创建信号</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span>, parent=<span class="title class_">None</span></span>):</span><br><span class="line">        <span class="variable language_">super</span>(<span class="title class_">QSlider</span>, <span class="variable language_">self</span>).__init__(parent)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mousePressEvent</span>(<span class="params"><span class="variable language_">self</span>, <span class="title class_">QMouseEvent</span></span>):  <span class="comment"># 重写的鼠标点击事件</span></span><br><span class="line">        <span class="variable language_">super</span>().mousePressEvent(<span class="title class_">QMouseEvent</span>)</span><br><span class="line">        pos = <span class="title class_">QMouseEvent</span>.pos().x() / <span class="variable language_">self</span>.width()</span><br><span class="line">        <span class="variable language_">self</span>.setValue(round(pos * (<span class="variable language_">self</span>.maximum() - <span class="variable language_">self</span>.minimum()) + <span class="variable language_">self</span>.minimum()))  <span class="comment"># 设定滑动条滑块位置为鼠标点击处</span></span><br><span class="line">        <span class="variable language_">self</span>.customSliderClicked.emit(<span class="string">&quot;mouse Press&quot;</span>)  <span class="comment"># 发送信号</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui</span>_Form(object):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setupUi</span>(<span class="params"><span class="variable language_">self</span>, <span class="title class_">Form</span></span>):</span><br><span class="line">        <span class="title class_">Form</span>.setObjectName(<span class="string">&quot;Form&quot;</span>)</span><br><span class="line">        <span class="title class_">Form</span>.resize(<span class="number">487</span>, <span class="number">402</span>)</span><br><span class="line">        <span class="variable language_">self</span>.horizontalSlider = <span class="title class_">QtWidgets</span>.<span class="title class_">QSlider</span>(<span class="title class_">Form</span>)  <span class="comment"># 滑动条1</span></span><br><span class="line">        <span class="variable language_">self</span>.horizontalSlider.setGeometry(<span class="title class_">QtCore</span>.<span class="title class_">QRect</span>(<span class="number">60</span>, <span class="number">140</span>, <span class="number">361</span>, <span class="number">31</span>))</span><br><span class="line">        <span class="variable language_">self</span>.horizontalSlider.setOrientation(<span class="title class_">QtCore</span>.<span class="title class_">Qt</span>.<span class="title class_">Horizontal</span>)</span><br><span class="line">        <span class="variable language_">self</span>.horizontalSlider.setObjectName(<span class="string">&quot;horizontalSlider&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.horizontalSlider_2 = <span class="title class_">MySlider</span>(<span class="title class_">Form</span>)  <span class="comment"># 滑动条2，修改此处</span></span><br><span class="line">        <span class="variable language_">self</span>.horizontalSlider_2.setGeometry(<span class="title class_">QtCore</span>.<span class="title class_">QRect</span>(<span class="number">60</span>, <span class="number">230</span>, <span class="number">361</span>, <span class="number">31</span>))</span><br><span class="line">        <span class="variable language_">self</span>.horizontalSlider_2.setOrientation(<span class="title class_">QtCore</span>.<span class="title class_">Qt</span>.<span class="title class_">Horizontal</span>)</span><br><span class="line">        <span class="variable language_">self</span>.horizontalSlider_2.setObjectName(<span class="string">&quot;horizontalSlider_2&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.retranslateUi(<span class="title class_">Form</span>)</span><br><span class="line">        <span class="title class_">QtCore</span>.<span class="title class_">QMetaObject</span>.connectSlotsByName(<span class="title class_">Form</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retranslateUi</span>(<span class="params"><span class="variable language_">self</span>, <span class="title class_">Form</span></span>):</span><br><span class="line">        _translate = <span class="title class_">QtCore</span>.<span class="title class_">QCoreApplication</span>.translate</span><br><span class="line">        <span class="title class_">Form</span>.setWindowTitle(_translate(<span class="string">&quot;Form&quot;</span>, <span class="string">&quot;Form&quot;</span>))</span><br></pre></td></tr></table></figure>
<p>主程序调用,connect是自定义slot</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_">Ui</span>_Form, <span class="title class_">QMainWindow</span>):  <span class="comment"># 创建窗口</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">        <span class="variable language_">super</span>().__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setupUi(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.horizontalSlider.valueChanged.connect(<span class="variable language_">self</span>.horizontalSlider_change)  <span class="comment"># 滑动条1数值变化时触发horizontalSlider_change</span></span><br><span class="line">        <span class="variable language_">self</span>.horizontalSlider_2.customSliderClicked.connect(</span><br><span class="line">            <span class="variable language_">self</span>.horizontalSlider_2_change)  </span><br></pre></td></tr></table></figure>


<h2 id="美化"><a href="#美化" class="headerlink" title="美化"></a>美化</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">/*horizontal ：水平<span class="title class_">QSlider</span>*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QSlider::groove:horizontal &#123;</span></span><br><span class="line"><span class="regexp">border: 0px solid #bbb;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>*<span class="number">1</span>.滑动过的槽设计参数*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QSlider::sub-page:horizontal &#123;</span></span><br><span class="line"><span class="regexp"> /</span>*槽颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">background: rgb(90,49,255);</span></span><br><span class="line"><span class="regexp"> /</span>*外环区域倒圆角度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">border-radius: 2px;</span></span><br><span class="line"><span class="regexp"> /</span>*上遮住区域高度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">margin-top:8px;</span></span><br><span class="line"><span class="regexp"> /</span>*下遮住区域高度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">margin-bottom:8px;</span></span><br><span class="line"><span class="regexp">/</span>*width在这里无效，不写即可*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>*<span class="number">2</span>.未滑动过的槽设计参数*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QSlider::add-page:horizontal &#123;</span></span><br><span class="line"><span class="regexp">/</span>*槽颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">background: rgb(255,255, 255);</span></span><br><span class="line"><span class="regexp">/</span>*外环大小0px就是不显示，默认也是<span class="number">0</span>*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">border: 0px solid #777;</span></span><br><span class="line"><span class="regexp">/</span>*外环区域倒圆角度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">border-radius: 2px;</span></span><br><span class="line"><span class="regexp"> /</span>*上遮住区域高度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">margin-top:9px;</span></span><br><span class="line"><span class="regexp"> /</span>*下遮住区域高度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">margin-bottom:9px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"> </span></span><br><span class="line"><span class="regexp">/</span>*<span class="number">3</span>.平时滑动的滑块设计参数*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QSlider::handle:horizontal &#123;</span></span><br><span class="line"><span class="regexp">/</span>*滑块颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">background: rgb(193,204,208);</span></span><br><span class="line"><span class="regexp">/</span>*滑块的宽度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">width: 5px;</span></span><br><span class="line"><span class="regexp">/</span>*滑块外环为1px，再加颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">border: 1px solid rgb(193,204,208);</span></span><br><span class="line"><span class="regexp"> /</span>*滑块外环倒圆角度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">border-radius: 2px; </span></span><br><span class="line"><span class="regexp"> /</span>*上遮住区域高度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">margin-top:6px;</span></span><br><span class="line"><span class="regexp"> /</span>*下遮住区域高度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">margin-bottom:6px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>*<span class="number">4</span>.手动拉动时显示的滑块设计参数*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QSlider::handle:horizontal:hover &#123;</span></span><br><span class="line"><span class="regexp">/</span>*滑块颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">background: rgb(193,204,208);</span></span><br><span class="line"><span class="regexp">/</span>*滑块的宽度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">width: 10px;</span></span><br><span class="line"><span class="regexp">/</span>*滑块外环为1px，再加颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">border: 1px solid rgb(193,204,208);</span></span><br><span class="line"><span class="regexp"> /</span>*滑块外环倒圆角度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">border-radius: 5px; </span></span><br><span class="line"><span class="regexp"> /</span>*上遮住区域高度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">margin-top:4px;</span></span><br><span class="line"><span class="regexp"> /</span>*下遮住区域高度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">margin-bottom:4px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">QSlider::sub-page:horizontal &#123;</span></span><br><span class="line"><span class="regexp">background:rgb(170, 255, 127);</span></span><br><span class="line"><span class="regexp">border-radius: 0.1px;</span></span><br><span class="line"><span class="regexp">margin-top:9px;</span></span><br><span class="line"><span class="regexp">margin-bottom:9px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">QSlider::add-page:horizontal &#123;</span></span><br><span class="line"><span class="regexp">background: rgb(170,255,127);</span></span><br><span class="line"><span class="regexp">border-radius: 1px;</span></span><br><span class="line"><span class="regexp">margin-top:9px;</span></span><br><span class="line"><span class="regexp">margin-bottom:9px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br></pre></td></tr></table></figure>

<h1 id="QCheckBox"><a href="#QCheckBox" class="headerlink" title="QCheckBox"></a>QCheckBox</h1><h2 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h2><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>setChecked()</code></td>
<td>设置复选框的状态，True为选中，False为取消选中复选框</td>
</tr>
<tr>
<td><code>setText()</code></td>
<td>设置复选框的显示文本</td>
</tr>
<tr>
<td><code>text()</code></td>
<td>返回复选框的显示文本</td>
</tr>
<tr>
<td><code>isChecked()</code></td>
<td>检查复选框是否被选中</td>
</tr>
<tr>
<td><code>setCheckState()</code></td>
<td>设置复选框的勾选状态：2为选中（Checked）；1为半选中（ParticallyChecked）；0为没有选中（Unchecked）</td>
</tr>
<tr>
<td><code>setTristate(bool)</code></td>
<td>三态模式</td>
</tr>
</tbody></table>
<p><code>isChecked()</code>不能单独使用，要用<code>stateChanged.connect</code>连接起来<br><strong>但是更建议使用<code>toggle.connect()</code></strong></p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">self</span>.dia.checkBox_2.stateChanged.connect(<span class="symbol">lambda:</span> <span class="variable language_">self</span>.test())</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">        chk1Status = <span class="variable language_">self</span>.dia.checkBox_2.text() + <span class="string">&quot;, isChecked=&quot;</span> + str(</span><br><span class="line">            <span class="variable language_">self</span>.dia.checkBox_2.isChecked()) + <span class="string">&#x27;, chekState=&#x27;</span> + str(</span><br><span class="line">            <span class="variable language_">self</span>.dia.checkBox_2.checkState()) + <span class="string">&quot;\n&quot;</span></span><br><span class="line">        print(chk1Status)</span><br></pre></td></tr></table></figure>
<p>我改了无数次的代码是这样的，如果只是ischecked不会更新！！！<br><strong>这个故事告诉我们，状态类的函数需要手动对他一直进行状态检查</strong></p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">self</span>.checkBox1.stateChanged.connect(<span class="symbol">lambda:</span> <span class="variable language_">self</span>.btnstate(<span class="variable language_">self</span>.checkBox1))</span><br><span class="line"><span class="variable language_">self</span>.checkBox2.toggled.connect(<span class="symbol">lambda:</span> <span class="variable language_">self</span>.btnstate(<span class="variable language_">self</span>.checkBox2))</span><br><span class="line"><span class="variable language_">self</span>.checkBox3.stateChanged.connect(<span class="symbol">lambda:</span> <span class="variable language_">self</span>.btnstate(<span class="variable language_">self</span>.checkBox3))</span><br><span class="line"><span class="comment">#btnstate为一个打印函数</span></span><br></pre></td></tr></table></figure>
<h2 id="常用信号"><a href="#常用信号" class="headerlink" title="常用信号"></a>常用信号</h2><table>
<thead>
<tr>
<th>信号</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>clicked(bool)</code></td>
<td>鼠标左键被按下，一直按着或者释放时，或者快捷键被按着或者释放时触发该信号</td>
</tr>
<tr>
<td><code>pressed()</code></td>
<td>当鼠标指针在按钮上并按下左键时触发该信号，一直按着或者按下并释放都会产生</td>
</tr>
<tr>
<td><code>released()</code></td>
<td>鼠标左键被释放时触发</td>
</tr>
<tr>
<td><code>toggled(checked)</code></td>
<td>checkable设置为True时，状态发生改变时触发信号</td>
</tr>
</tbody></table>
<h2 id="测试代码"><a href="#测试代码" class="headerlink" title="测试代码"></a>测试代码</h2><p><code>chk1Status = self.dia.checkBox_2.text() + &quot;, isChecked=&quot; + str(                     self.dia.checkBox_2.isChecked()) + &#39;, chekState=&#39; + str(                     self.dia.checkBox_2.checkState()) + &quot;\n&quot;                 print(chk1Status)</code><br>输出：<br><code>Normalization, isChecked=True, chekState=2</code></p>
<h1 id="RadioButton"><a href="#RadioButton" class="headerlink" title="RadioButton"></a>RadioButton</h1><p><a href="https://blog.51cto.com/techfanyi/6540034">一个很不错的教程</a></p>
<ol>
<li>单选框默认开启自动互斥（autoExclusive）。如果启用了自动互斥，属于同一个父部件的单选框的行为就和属于一个互斥按钮组的一样。如果你需要为属于同一父部件的单选框设置多个互斥按钮组，把它们加入QButtonGroup中。</li>
<li>每当一个按钮切换选中或未选中状态时，会发出的toggled()信号。如果希望每个按钮切换状态时触发一个动作，连接到这个信号。使用isChecked()来查看特定按钮是否被选中。</li>
<li>单选框可以显示文本，以及可选的小图标。图标使用setIcon()来设置，文本可以在构造函数或通过setText()来设置。可以指定快捷键，通过在文本中的特定字符前指定一个&amp;。</li>
</ol>
<h1 id="textBrowser"><a href="#textBrowser" class="headerlink" title="textBrowser"></a>textBrowser</h1><ol>
<li>调用append方法可以向文本浏览框中添加文本<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">self</span>.textBrowser.append(<span class="string">&quot;Hello World!&quot;</span>) </span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="QProgressBar"><a href="#QProgressBar" class="headerlink" title="QProgressBar"></a>QProgressBar</h1><h2 id="常用方法-1"><a href="#常用方法-1" class="headerlink" title="常用方法"></a>常用方法</h2><p>setRange()： 设置进度条的取值范围(最小值和最大值)<br>setMinimum()： 设置进度条的最小值<br>setFont(): 设置文本字体<br>setMaximum()： 设置进度条的最大值<br>setValue()： 设置进度条的值<br>reset()： 让进度条重新回到开始位置<br>setOrientation()： 设置进度条方向(水平: Qt.Horizontal, 垂直: Qt.Vertical)<br>setTextVisible()： 设置进度条的文本是否可见<br>setTextDirection()： 设置文本方向，只对垂直进度条有效<br>setInvertedAppearance()： 设置进度条的方向(True&#x2F;False: 正反方向)<br>setFormat()： 设置文本字符串的格式(%p, 百分比显示,这是默认情况, %v: 当前进度, %m :总步数)</p>
<h2 id="美化-1"><a href="#美化-1" class="headerlink" title="美化"></a>美化</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QProgressBar</span> &#123;</span><br><span class="line">	background-<span class="symbol">color:</span> rgb(<span class="number">114</span>, <span class="number">163</span>, <span class="number">195</span>);</span><br><span class="line">	<span class="symbol">color:</span>rgb(<span class="number">44</span>, <span class="number">62</span>, <span class="number">80</span>);</span><br><span class="line">	border-<span class="symbol">style:</span>none;</span><br><span class="line">	text-<span class="symbol">align:</span>center;</span><br><span class="line">	border-<span class="symbol">radius:</span>10px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QProgressBar</span><span class="symbol">:</span><span class="symbol">:chunk</span>&#123;</span><br><span class="line">	border-<span class="symbol">radius:</span>10px;</span><br><span class="line">	background-<span class="symbol">color:</span>qlineargradient(<span class="symbol">spread:</span>pad, <span class="symbol">x1:</span><span class="number">0</span>,<span class="symbol">y1:</span><span class="number">0.511364</span>, <span class="symbol">x2:</span><span class="number">2</span>, <span class="symbol">y2:</span><span class="number">0.523</span>, <span class="symbol">stop:</span><span class="number">0</span> rgb(<span class="number">41</span>, <span class="number">128</span>, <span class="number">182</span>), <span class="symbol">stop:</span><span class="number">1</span> rgb(<span class="number">43</span>, <span class="number">6</span>, <span class="number">255</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中可以调整<code>x2:2</code>的数值，比如改为<code>x2:1</code>会使得渐变色变化速度更快且最终的颜色最深。</p>
<h2 id="进度条更新并跳出新界面（可以做启动画面）"><a href="#进度条更新并跳出新界面（可以做启动画面）" class="headerlink" title="进度条更新并跳出新界面（可以做启动画面）"></a>进度条更新并跳出新界面（可以做启动画面）</h2><p><img src="https://img-blog.csdnimg.cn/29e37de047154425ae4363ef37b5217b.gif" alt="效果展示"><br><a href="https://blog.csdn.net/lildkdkdkjf/article/details/121955573">原教程在这里</a>，笨人对代码作了一些注释，后面附有修改</p>
<h3 id="作者源代码（不完全）"><a href="#作者源代码（不完全）" class="headerlink" title="作者源代码（不完全）"></a>作者源代码（不完全）</h3><p>背景建议使用<code>Qframe</code>，<code>QprogressBar</code>样式表设置参见上美化</p>
<ol>
<li>设置定时器，实际上这个Bar并不是根据加载进度走的，而是100ms更新一次<ul>
<li>实际上如果你想与你的程序进度连接的话，只要把<code>self.load_progress_bar</code>放在你需要的位置就行<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">set_loader</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">    <span class="variable language_">self</span>.timer = <span class="title class_">QtCore</span>.<span class="title class_">QTimer</span>()    <span class="comment">#建立一个计时器</span></span><br><span class="line">    <span class="variable language_">self</span>.timer.timeout.connect(<span class="variable language_">self</span>.load_progress_bar)  </span><br><span class="line">    <span class="variable language_">self</span>.timer.start(<span class="number">100</span>)   <span class="comment">#更新时间间隔</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>对进度条操作，每次加一,大于既定值时执行操作；此处是关闭本界面，调用打开新界面的函数，并停止计时<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">load_progress_bar</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">    <span class="variable language_">self</span>.progressBar.setValue(<span class="variable language_">self</span>.progressBar.value() + <span class="number">1</span>)</span><br><span class="line">    <span class="comment">#self.cont_label_title[0] += 1 #这两行暂时不知道是什么意思，但是好像对功能实现没有影响</span></span><br><span class="line">    <span class="comment">#self.cont_label_title[1] += 1</span></span><br><span class="line">    <span class="keyword">if</span> <span class="variable language_">self</span>.progressBar.value() &gt;= <span class="number">100</span>:</span><br><span class="line">        <span class="variable language_">self</span>.window.close()</span><br><span class="line">        <span class="variable language_">self</span>.open_table_main()</span><br><span class="line">        <span class="variable language_">self</span>.timer.stop()</span><br></pre></td></tr></table></figure></li>
<li>调用新界面产生函数<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">open_table_main</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">    <span class="variable language_">self</span>.<span class="title class_">MainWindow</span> = <span class="title class_">QtWidgets</span>.<span class="title class_">QMainWindow</span>()</span><br><span class="line">    <span class="variable language_">self</span>.ui = <span class="title class_">Ui</span>_MainWindow()</span><br><span class="line">    <span class="variable language_">self</span>.ui.setupUi(<span class="variable language_">self</span>.<span class="title class_">MainWindow</span>)</span><br><span class="line">    <span class="variable language_">self</span>.<span class="title class_">MainWindow</span>.show()</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="笨人修改"><a href="#笨人修改" class="headerlink" title="笨人修改"></a>笨人修改</h3><h1 id="QFileDialog"><a href="#QFileDialog" class="headerlink" title="QFileDialog"></a>QFileDialog</h1><p><a href="https://developer.aliyun.com/article/832236">教程</a><br>获取文件夹路径，对话框获取文件</p>
<h1 id="QLineEdit"><a href="#QLineEdit" class="headerlink" title="QLineEdit"></a>QLineEdit</h1><h2 id="常用API"><a href="#常用API" class="headerlink" title="常用API"></a>常用API</h2><ol>
<li><p>QLineEdit.text()：返回输入框的当前文本。</p>
</li>
<li><p>QLineEdit.addAction(Action,QLineEdit.ActionPosition)：添加动作到文本输入栏，上面已经举过例子了。</p>
</li>
<li><p>QLineEdit.setAlignment(Qt.Alignment flag)：属性保存了输入框的对齐方式（水平和垂直方向。</p>
</li>
<li><p>QLineEdit.setCompleter() ：输入栏的自动补全就是靠这个实现的，下下章我们讲解。</p>
</li>
<li><p>QLineEdit.deselect() ：取消选中任何已选中的文本。</p>
</li>
<li><p>QLineEdit.displayText()：返回显示的文本。默认值为一个空字符串。</p>
</li>
<li><p>setEchoMode（）：如果echoMode是Normal，和text()返回的一样；如果EchoMode是Password或PasswordEchoOnEdit，会返回平台相关的密码掩码字符；如果EchoMode是NoEcho，返回一个空字符串””。</p>
</li>
<li><p>QLineEdit.selectedText()：返回选中的的文本。如果没有选中，返回一个空字符串。默认为一个空字符串。</p>
</li>
<li><p>QLineEdit.setCursorPosition(QLineEdit.cursorPosition)：设置输入框当前光标的位置。</p>
</li>
<li><p>QLineEdit.setMaxLength(int)：此属性包含文本的最大允许长度。如果文本太长，将从限制的位置截断。默认值为32767。</p>
</li>
<li><p>QLineEdit.setReadOnly(bool)：此属性保存输入框是否为只读。在只读模式下，用户仍然可以将文本复制到剪贴板，但不能编辑它，且不显示光标。</p>
</li>
<li><p>QLineEdit.setSelection(int start, int length) ：从位置start选择文本为length个字符，允许负长度。我们一启动程序是否设置setSelection的，效果如下：</p>
</li>
<li><p>QLineEdit.setValidator()：设置输入框的验证器，将限制任意可能输入的文本</p>
</li>
<li><p><code>placeholderText</code>用于输入前的提示显示文字该属性包含行编辑的占位符文本。只要行编辑为空，设置此属性将使行编辑显示一个灰色的占位符文本。</p>
</li>
</ol>
<p>通常情况下，即使具有焦点，空行编辑也会显示占位符文本。但是，如果内容是水平居中的，则行编辑具有焦点时，占位符文本不会显示在光标下方。默认情况下，该属性包含一个空字符串。</p>
<ol start="15">
<li><p>QLineEdit.isClearButtonEnabled(bool) ：是否设置清除内容的按钮。</p>
</li>
<li><p>QLineEdit.setInputMask()：设置掩码，效果就是我们演示视频中的License输入。</p>
</li>
</ol>
<h2 id="信号"><a href="#信号" class="headerlink" title="信号"></a>信号</h2><ol>
<li><p>selectionChanged() ：只要选择改变这个信号就会被发射。</p>
</li>
<li><p>cursorPositionChanged(int old, int new) ：只要光标移动，这个信号就会发射。前面的位置old，新的位置是new。</p>
</li>
<li><p>editingFinished()：按下返回或回车键或线条编辑失去焦点时发出此信号。</p>
</li>
<li><p>returnPressed()：按下返回或回车键时发出此信号。</p>
</li>
<li><p>textChanged(str)：只要文字发生变化就会发出此信号。文本参数是新文本。与textEdited()不同，当通过调用setText()以编程方式更改文本时，也会发出此信号。</p>
</li>
<li><p>textEdited(str) ：无论何时编辑文本都会发出此信号。文本参数是新文本。与textChanged()不同，当以编程方式更改文本时，不会发出此信号，例如通过调用setText()。</p>
</li>
</ol>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><ol>
<li><p>clear() ：清除输入框内容</p>
</li>
<li><p>copy()：如果echoMode()是Normal，将选中的文本复制到剪贴板。</p>
</li>
<li><p>cut() ：如果echoMode()是Normal，将所选文本复制到剪贴板并删除它。 如果当前的验证不允许删除选定的文本，cut()将复制而不删除。</p>
</li>
<li><p>paste() ：如果输入框不是只读的，插入剪贴板中的文本到光标所在位置，删除任何选定的文本。如果最终的结果不被当前的验证器接受，将没有任何反应。</p>
</li>
<li><p>redo() ：重做上次操作，如果redo可用（isRedoAvailable() ）。</p>
</li>
<li><p>selectAll() ：选中所有文本（即：高亮），并将光标移动到末尾。当一个默认值被插入时，这非常有用，因为如果用户在点击部件之前就输入，选中的文本将被删除。</p>
</li>
<li><p>setText(str) ：设置输入框显示的文本。</p>
</li>
<li><p>undo() ：撤消上次操作（如果撤销可用）</p>
</li>
</ol>
<h1 id="QGroupBox"><a href="#QGroupBox" class="headerlink" title="QGroupBox"></a>QGroupBox</h1><ol>
<li>去掉不需要的标题栏<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QGroupBox</span><span class="symbol">:</span><span class="symbol">:setStyleSheet</span>(<span class="string">&quot;QGroupBox&#123; margin-top:0px;&#125; QGroupBox:title &#123;margin-top: 0px;&#125;&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="Widget-通用窗口-系列设置"><a href="#Widget-通用窗口-系列设置" class="headerlink" title="Widget(通用窗口)系列设置"></a>Widget(通用窗口)系列设置</h1><p>通用窗口不包含菜单栏、工具栏！</p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h1 id="侧边栏修改"><a href="#侧边栏修改" class="headerlink" title="侧边栏修改"></a>侧边栏修改</h1><h2 id="特定对口修改"><a href="#特定对口修改" class="headerlink" title="特定对口修改"></a>特定对口修改</h2><h3 id="对于文字颜色或者背景色背景图片填充的修改建议直接在相应参数的styleSheet中修改"><a href="#对于文字颜色或者背景色背景图片填充的修改建议直接在相应参数的styleSheet中修改" class="headerlink" title="对于文字颜色或者背景色背景图片填充的修改建议直接在相应参数的styleSheet中修改"></a>对于文字颜色或者背景色背景图片填充的修改建议直接在相应参数的styleSheet中修改</h3><p>注意这个修改需要选中后每一条进行修改，比方说菜单栏，每一个菜单栏的下属栏等等。<br>示例如下：</p>
<ol>
<li>color，background-color等等直接用</li>
<li>贴图：<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">background-<span class="symbol">image:</span>url(<span class="symbol">:/Img/main_bgimg</span>.jpg);</span><br><span class="line"><span class="comment">#直接给背景贴图</span></span><br><span class="line"><span class="title class_">MainWindow</span>&#123;background-<span class="symbol">image:</span>url(<span class="symbol">:/Img/main_bgimg</span>.jpg);&#125;</span><br><span class="line"><span class="comment">#直接给背景贴图</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li>值得注意的是，如果较大类中设置了背景，建议使用<code>#name</code>来限定插图范围，不然大类里边的小组件样式表是不起作用的</li>
</ul>
<h2 id="PushButton-Setting"><a href="#PushButton-Setting" class="headerlink" title="PushButton Setting"></a>PushButton Setting</h2><ol>
<li>toolTip:在点击按钮时会鼠标下方会出现的小提示</li>
<li>好用的腾讯会议高仿例子：<br>最小化按钮样式表：<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QPushButton</span>&#123;</span><br><span class="line">	background-<span class="symbol">color:</span> rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">	<span class="symbol">font:</span> 15pt <span class="string">&quot;宋体&quot;</span> ;</span><br><span class="line">	<span class="symbol">border:</span>none;</span><br><span class="line">	border-<span class="symbol">radius:</span>none;	</span><br><span class="line">	<span class="symbol">color:</span> gray;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="title class_">QPushButton</span><span class="symbol">:hover</span>&#123;</span><br><span class="line">	background-<span class="symbol">color:</span> rgb(<span class="number">218</span>, <span class="number">218</span>, <span class="number">218</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="title class_">QToolTip</span>&#123;</span><br><span class="line">	background-<span class="symbol">color:</span> rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
关闭按钮样式表：<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QPushButton</span>&#123;</span><br><span class="line">	background-<span class="symbol">color:</span> rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">	<span class="symbol">font:</span> 10pt <span class="string">&quot;宋体&quot;</span> ;</span><br><span class="line">	<span class="symbol">border:</span>none;</span><br><span class="line">	border-top-right-<span class="symbol">radius:</span>4px;</span><br><span class="line">	border-top-left-<span class="symbol">radius:</span>0px;</span><br><span class="line">	border-bottom-right-<span class="symbol">radius:</span>0px;</span><br><span class="line">	border-bottom-left-<span class="symbol">radius:</span>0px;</span><br><span class="line">	<span class="symbol">color:</span> gray;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="title class_">QPushButton</span><span class="symbol">:hover</span>&#123;</span><br><span class="line">	background-<span class="symbol">color:</span> rgb(<span class="number">218</span>, <span class="number">218</span>, <span class="number">218</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="title class_">QToolTip</span>&#123;</span><br><span class="line">	background-<span class="symbol">color:</span> rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
设置按键样式表：<br>tip:把鼠标移到按钮上时的图片改为原图片的淡化版，大小35左右为佳。<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QPushButton</span>&#123;</span><br><span class="line">	background-<span class="symbol">color:</span> rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">	<span class="symbol">font:</span> 10pt <span class="string">&quot;宋体&quot;</span> ;</span><br><span class="line">	<span class="symbol">border:</span>none;</span><br><span class="line">	border-top-right-<span class="symbol">radius:</span>4px;</span><br><span class="line">	border-top-left-<span class="symbol">radius:</span>0px;</span><br><span class="line">	border-bottom-right-<span class="symbol">radius:</span>0px;</span><br><span class="line">	border-bottom-left-<span class="symbol">radius:</span>0px;</span><br><span class="line">	<span class="symbol">color:</span> gray;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="title class_">QPushButton</span><span class="symbol">:hover</span>&#123;</span><br><span class="line">	background-<span class="symbol">color:</span> rgb(<span class="number">218</span>, <span class="number">218</span>, <span class="number">218</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="title class_">QToolTip</span>&#123;</span><br><span class="line">	background-<span class="symbol">color:</span> rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="TabWidget-Setting"><a href="#TabWidget-Setting" class="headerlink" title="TabWidget Setting"></a>TabWidget Setting</h2><ul>
<li><strong>修改表头</strong>：<code>CurrentTabText</code></li>
<li>修改是否可选：<code>setTabEnabled(int index, bool enable)</code></li>
</ul>
<h2 id="QlineEdit"><a href="#QlineEdit" class="headerlink" title="QlineEdit"></a>QlineEdit</h2><ul>
<li><code>.setPlaceholderText(&quot;&quot;)</code>:提示输入内容</li>
</ul>
<h2 id="泛泛修改"><a href="#泛泛修改" class="headerlink" title="泛泛修改"></a>泛泛修改</h2><p>只改动MainWindow即可<br>注意所有对样式表的修改直接在他给的条目里选择就可以，不需要手动输入标签，只要把类写出来就行<br>QMainWindow主窗口<br>QLabel纯文字</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="symbol">color:</span></span><br><span class="line">    <span class="comment">#修改字体颜色</span></span><br><span class="line">    background-<span class="symbol">color:</span></span><br><span class="line">    <span class="comment">#背景颜色</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="特殊修改"><a href="#特殊修改" class="headerlink" title="特殊修改"></a>特殊修改</h2><h3 id="QCombobox"><a href="#QCombobox" class="headerlink" title="QCombobox"></a>QCombobox</h3><h4 id="外观"><a href="#外观" class="headerlink" title="外观"></a>外观</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">/*<span class="title class_">QCombobox</span>主体*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QComboBox &#123;</span></span><br><span class="line"><span class="regexp">    border: 2px solid #f3f3f3;/</span>*设置线宽*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">	background-color: rgb(237, 242, 255);/</span>*背景颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    border-radius: 15px;/</span>*圆角*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    padding: 1px 2px 1px 2px;  /</span>*针对于组合框中的文本内容*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">	text-align:bottom;</span></span><br><span class="line"><span class="regexp">    min-width: 9em;   /</span>*<span class="comment"># 组合框的最小宽度*/</span></span><br><span class="line">    /*min-<span class="symbol">height:</span> 5em;*<span class="regexp">/</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">	border-style:solid;/</span>*边框为实线型*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">	border-width:2px;/</span>*边框宽度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">	border-color:rgb(77, 123, 255);/</span>*边框颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">	padding-left: 10px;/</span>*左侧边距*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">/</span>*<span class="title class_">QCombobox</span>右侧按钮*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QComboBox::drop-down &#123;</span></span><br><span class="line"><span class="regexp">    subcontrol-origin: padding;</span></span><br><span class="line"><span class="regexp">    subcontrol-position: top right;/</span>*放于右方顶部*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    width: 50px;/</span>*设置按钮范围宽度*<span class="regexp">/</span></span><br><span class="line"><span class="regexp"> 	/</span>*border-<span class="symbol">radius:</span> 15px;</span><br><span class="line">    border-left-<span class="symbol">width:</span> 1px;</span><br><span class="line">    border-left-<span class="symbol">color:</span> darkgray;</span><br><span class="line">    border-left-<span class="symbol">style:</span> solid;*<span class="regexp">/</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    border-top-right-radius: 3px;/</span>*设置边框圆角*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    border-bottom-right-radius: 3px;</span></span><br><span class="line"><span class="regexp">/</span>*padding-<span class="symbol">right:</span> 50px;*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">/</span>*<span class="title class_">QCombobox</span>右侧按钮的箭头图标*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QComboBox::down-arrow &#123;</span></span><br><span class="line"><span class="regexp">	border-image: url(:/image</span><span class="regexp">/down_list.png);/</span>*自定义图片填充*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">	width: 10px;/</span>*设置该图标的宽高*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">	height: 10px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">#程序在运行过程中，动态对QCombobox填充可选项。比如登录时填充人名数据、选择摄像头分辨率时的分辨率列表等等不固定的元素。</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>* 下拉后，整个下拉窗体样式 *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QComboBox QAbstractItemView &#123;</span></span><br><span class="line"><span class="regexp">    border: 2px solid #f3f3f3;/</span>*边框宽度、线形、颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">	background-color: rgba(237, 242, 255, 1);/</span>*背景颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    border-radius: 15px;/</span>*圆角*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    padding: 1px 2px 1px 2px;  /</span>*针对于组合框中的文本内容*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    min-width: 9em;   /</span>*<span class="comment"># 组合框的最小宽度*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 下拉后，整个下拉窗体每项的样式 *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QComboBox QAbstractItemView::item &#123;</span></span><br><span class="line"><span class="regexp">	border-radius: 15px;/</span>*圆角*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    height: 30px;   /</span>* 项的高度（设置pComboBox-&gt;setView(new <span class="title class_">QListView</span>());后，该项才起作用） *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">	background-color: rgb(237, 242, 255);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>*以下部分不知为何不生效，有待调试*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">/</span>* 下拉后，整个下拉窗体越过每项的样式 *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QComboBox QAbstractItemView::item:hover &#123;</span></span><br><span class="line"><span class="regexp">    color: #FFFFF0;</span></span><br><span class="line"><span class="regexp">       /</span>* 整个下拉窗体越过每项的背景色 *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">	background-color: rgb(98, 0, 255);</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>* 下拉后，整个下拉窗体被选择的每项的样式 *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QComboBox QAbstractItemView::item:selected &#123;</span></span><br><span class="line"><span class="regexp">    color: #FFFFF0;</span></span><br><span class="line"><span class="regexp">	background-color: rgb(0, 85, 200);</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">	/</span><span class="regexp">/填充下拉选项</span></span><br><span class="line"><span class="regexp">    ui-&gt;comboBox-&gt;clear();/</span><span class="regexp">/清空combobox</span></span><br><span class="line"><span class="regexp">    QStandardItemModel *pItemModel = qobject_cast&lt;QStandardItemModel*&gt;(ui-&gt;comboBox-&gt;model());</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/字体设置</span></span><br><span class="line"><span class="regexp">    int combobox_item_fontsize = 9;</span></span><br><span class="line"><span class="regexp">    QFont font;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/font.setPixelSize(combobox_item_fontsize*scale);</span></span><br><span class="line"><span class="regexp">    font.setPointSize(combobox_item_fontsize);</span></span><br><span class="line"><span class="regexp">    font.setFamily(&quot;黑体&quot;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/填充默认项（在没有任何数据时，可以先做一个默认的提示项给用户，然后让用户自己输入）</span></span><br><span class="line"><span class="regexp">    QString tip_string(u8&quot;请选择用户名&quot;);</span></span><br><span class="line"><span class="regexp">    ui-&gt;comboBox-&gt;addItem(tip_string);</span></span><br><span class="line"><span class="regexp">    pItemModel-&gt;item(0)-&gt;setIcon(QIcon(&quot;:/image</span><span class="regexp">/account.png&quot;));    /</span><span class="regexp">/修改某项图标</span></span><br><span class="line"><span class="regexp">    pItemModel-&gt;item(0)-&gt;setForeground(QColor(255, 0, 0));            /</span><span class="regexp">/修改某项文本颜色</span></span><br><span class="line"><span class="regexp">    pItemModel-&gt;item(0)-&gt;setBackground(QColor(220,220,220));    /</span><span class="regexp">/修改某项背景颜色</span></span><br><span class="line"><span class="regexp">    pItemModel-&gt;item(0)-&gt;setFont(font);</span></span><br><span class="line"><span class="regexp">    pItemModel-&gt;item(0)-&gt;setTextAlignment(Qt::AlignVCenter | Qt::AlignHCenter);    /</span><span class="regexp">/修改某项文本对齐方式</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/填充正式项</span></span><br><span class="line"><span class="regexp">    if(ui-&gt;comboBox-&gt;currentText() == tip_string)</span></span><br><span class="line"><span class="regexp">        ui-&gt;comboBox-&gt;clear();</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    int i= 0;</span></span><br><span class="line"><span class="regexp">    QStringList m_list;/</span><span class="regexp">/随便来点填充数据</span></span><br><span class="line"><span class="regexp">    m_list&lt;&lt;&quot;AAA&quot;&lt;&lt;&quot;BBB&quot;&lt;&lt;&quot;CCC&quot;&lt;&lt;&quot;DDD&quot;;</span></span><br><span class="line"><span class="regexp">    foreach (QString name, m_list)</span></span><br><span class="line"><span class="regexp">    &#123;</span></span><br><span class="line"><span class="regexp">        qDebug()&lt;&lt;&quot;combobox additem:&quot;&lt;&lt;name;</span></span><br><span class="line"><span class="regexp">        ui-&gt;comboBox-&gt;addItem(name);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        pItemModel-&gt;item(i)-&gt;setIcon(QIcon(&quot;:/image</span><span class="regexp">/account.png&quot;));    /</span><span class="regexp">/修改某项图标</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/pItemModel-&gt;item(i)-&gt;setText(&quot;修改的文本  &quot; + QString::number(i + 1));                          /</span><span class="regexp">/修改某项文本</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/pItemModel-&gt;item(i)-&gt;setForeground(QColor(255, 0, 0));            /</span><span class="regexp">/修改某项文本颜色</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/pItemModel-&gt;item(i)-&gt;setBackground(QColor(220,220,220));    /</span><span class="regexp">/修改某项背景颜色（若样式表中已经设置了表项的背景颜色，则不会生效）</span></span><br><span class="line"><span class="regexp">        pItemModel-&gt;item(i)-&gt;setFont(font);</span></span><br><span class="line"><span class="regexp">        pItemModel-&gt;item(i)-&gt;setTextAlignment(Qt::AlignVCenter | Qt::AlignHCenter);    /</span><span class="regexp">/修改某项文本对齐方式</span></span><br><span class="line"><span class="regexp">        i++;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/以上设置完，会默认选择第一项。可以手动选择-1项，即为未选择状态</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ui-&gt;comboBox-&gt;setCurrentIndex(-1);</span></span><br><span class="line"><span class="regexp"></span></span><br></pre></td></tr></table></figure>

<h1 id="常用页操作"><a href="#常用页操作" class="headerlink" title="常用页操作"></a>常用页操作</h1><h2 id="StakedWight实现点击按钮更换界面布局"><a href="#StakedWight实现点击按钮更换界面布局" class="headerlink" title="StakedWight实现点击按钮更换界面布局"></a>StakedWight实现点击按钮更换界面布局</h2><ol>
<li>在containers中找到stacked Widget(注意不是建立新的界面)并拖动成自己需要的大小</li>
<li>对界面进行编辑，需要的buttons拖动到上边便会成为其子部件</li>
<li>pyuid生成代码</li>
<li>添加连接函数，注意menu用<code>triggered</code> button用<code>clicked</code><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment">#添加换页槽函数</span></span><br><span class="line">       <span class="variable language_">self</span>.actionRadiomic.triggered.connect(<span class="variable language_">self</span>.display1)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">display1</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">           <span class="variable language_">self</span>.stackedWidget.setCurrentIndex(<span class="number">1</span>)</span><br><span class="line">   <span class="comment">#注意页码子控件一般是从0开始，1为第二页，默认初始显示0</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="PyQt5的QSS美化"><a href="#PyQt5的QSS美化" class="headerlink" title="PyQt5的QSS美化"></a>PyQt5的QSS美化</h1><h2 id="样式表调用"><a href="#样式表调用" class="headerlink" title="样式表调用"></a>样式表调用</h2><h3 id="样式表写出，但不显示"><a href="#样式表写出，但不显示" class="headerlink" title="样式表写出，但不显示"></a>样式表写出，但不显示</h3><p>前边的限制用<code>#name</code>加括号，限定对象，在多页切换的工具中要单选出改页面（建议在右侧的工具栏中选择并进行修改）</p>
<h2 id="qss调用"><a href="#qss调用" class="headerlink" title="qss调用"></a>qss调用</h2><h3 id="主函数-全局调用"><a href="#主函数-全局调用" class="headerlink" title="主函数 全局调用"></a>主函数 全局调用</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">styleFile = <span class="string">&#x27;./pyqt5/qss/style.qss&#x27;</span></span><br><span class="line">    with open(styleFile, <span class="string">&quot;r&quot;</span>) as <span class="symbol">f:</span></span><br><span class="line">        style = f.read()</span><br><span class="line">    win.setStyleSheet(style)</span><br><span class="line">    f.close()</span><br></pre></td></tr></table></figure>
<h3 id="设置图片样式表"><a href="#设置图片样式表" class="headerlink" title="设置图片样式表"></a><a href="https://blog.csdn.net/lm_is_dc/article/details/132784648?ops_request_misc=&request_id=&biz_id=102&utm_term=pyqt5%E5%B0%86%E6%8E%A7%E4%BB%B6%E8%83%8C%E6%99%AF%E8%AE%BE%E7%BD%AE%E6%88%90%E5%9B%BE%E7%89%87&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-1-132784648.142%5Ev94%5EchatsearchT3_1&spm=1018.2226.3001.4187">设置图片样式表</a></h3><p><strong>但是你一定要知道图片要用png格式，只有你能显示出来那个缩略图才说明成功了</strong><br><code>border-image:url(D:/www/xxx/Pytorch/Braintumor/PyQt_test/Img/Hydrogen.jpg);</code></p>
<h2 id="一些主题"><a href="#一些主题" class="headerlink" title="一些主题"></a>一些主题</h2><p><a href="">一个很简单的有重定义边框的主题</a></p>
<h3 id="好看的字体加颜色"><a href="#好看的字体加颜色" class="headerlink" title="好看的字体加颜色"></a>好看的字体加颜色</h3><ol>
<li>深蓝色+柔和体(松散衡水体感觉是)<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">color:</span> rgb(<span class="number">44</span>, <span class="number">62</span>, <span class="number">80</span>);</span><br><span class="line"><span class="symbol">font:</span> italic 11pt <span class="string">&quot;Cascadia Code SemiLight&quot;</span>;</span><br></pre></td></tr></table></figure></li>
<li>适合做题目的可爱点字体<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">font:</span> 15pt <span class="string">&quot;Cooper Black&quot;</span>;</span><br></pre></td></tr></table></figure></li>
<li>圆润的正常体<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">font:</span> 9pt <span class="string">&quot;Arial Rounded MT Bold&quot;</span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="qtawesome使用总结"><a href="#qtawesome使用总结" class="headerlink" title="qtawesome使用总结"></a>qtawesome使用总结</h2><ol>
<li>展示图标库<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="对某个控件的所有子控件进行集体美化"><a href="#对某个控件的所有子控件进行集体美化" class="headerlink" title="对某个控件的所有子控件进行集体美化"></a>对某个控件的所有子控件进行集体美化</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">self</span>.left_widget.setStyleSheet(<span class="string">&#x27;&#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">            QPushButton&#123;border:none;color:white;padding-left:5px;</span></span><br><span class="line"><span class="string">                    height:35px;</span></span><br><span class="line"><span class="string">                    font-size:15px;</span></span><br><span class="line"><span class="string">                    padding-right:10px;&#125;</span></span><br><span class="line"><span class="string">            QPushButton#left_label&#123;</span></span><br><span class="line"><span class="string">                border:none;</span></span><br><span class="line"><span class="string">                border-bottom:1px solid white;</span></span><br><span class="line"><span class="string">                font-size:20px;</span></span><br><span class="line"><span class="string">                font-weight:700;</span></span><br><span class="line"><span class="string">                font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">            QWidget#left_widget&#123;</span></span><br><span class="line"><span class="string">                background:Gray;</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">                border-top:1px solid white;</span></span><br><span class="line"><span class="string">                border-bottom:1px solid white;</span></span><br><span class="line"><span class="string">                border-left:1px solid white;</span></span><br><span class="line"><span class="string">                border-top-left-radius:10px;</span></span><br><span class="line"><span class="string">                border-bottom-left-radius:10px;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">            QPushButton#left_button:hover&#123; color:white;</span></span><br><span class="line"><span class="string">                    border:2px solid #F3F3F5;</span></span><br><span class="line"><span class="string">                    border-radius:15px;</span></span><br><span class="line"><span class="string">                    background:black;&#125;</span></span><br><span class="line"><span class="string">        &#x27;</span><span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="QTabWidget样式"><a href="#QTabWidget样式" class="headerlink" title="QTabWidget样式"></a>QTabWidget样式</h2><p><img src="https://img-blog.csdnimg.cn/20210626185511397.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNTcwMDU4,size_16,color_FFFFFF,t_70" alt="各个组件的实际指向"></p>
<h3 id="QTabWidget"><a href="#QTabWidget" class="headerlink" title="QTabWidget"></a>QTabWidget</h3><ol>
<li>QTabWidget显示区域的属性设置<br><strong>要在大控件里添加</strong><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QTabWidget</span><span class="symbol">:</span><span class="symbol">:pane</span> &#123;</span><br><span class="line">border-<span class="symbol">top:</span> 1px solid <span class="comment">#E5E5E5;</span></span><br><span class="line">border-<span class="symbol">left:</span>1px solid <span class="comment">#E5E5E5;</span></span><br><span class="line"><span class="symbol">position:</span> absolute;</span><br><span class="line">font-<span class="symbol">size:</span> 14px;</span><br><span class="line">background-<span class="symbol">color:</span><span class="comment">#FFFFFF;</span></span><br><span class="line"><span class="symbol">top:</span>-1px  <span class="comment">#稍微遮一点点选项卡的上部</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>QTabWidget 选择项的属性设置<br>自己的代码~<strong>一定要注意伪状态后边是没有空格的！要不然没反应</strong><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span>&#123;</span><br><span class="line">background-<span class="symbol">color:</span> rgb(<span class="number">41</span>, <span class="number">128</span>, <span class="number">182</span>);</span><br><span class="line">min-<span class="symbol">width:</span>250px;</span><br><span class="line">min-<span class="symbol">height:</span>70px;</span><br><span class="line">border-top-left-<span class="symbol">radius:</span> 15px;</span><br><span class="line">border-top-right-<span class="symbol">radius:</span> 15px;</span><br><span class="line"><span class="symbol">color:</span> rgb(<span class="number">44</span>, <span class="number">62</span>, <span class="number">80</span>);</span><br><span class="line"><span class="symbol">font:</span> italic 11pt <span class="string">&quot;Cascadia Code SemiLight&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:hover</span>&#123;</span><br><span class="line">background-<span class="symbol">color:</span> rgb(<span class="number">137</span>, <span class="number">195</span>, <span class="number">235</span>);</span><br><span class="line">border-<span class="symbol">right:</span>2px solid;</span><br><span class="line">border-<span class="symbol">top:</span>2px solid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
别人的代码（我就加注释啦）<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span>&#123;</span><br><span class="line">background-<span class="symbol">color:</span> rgb(<span class="number">41</span>, <span class="number">128</span>, <span class="number">182</span>);</span><br><span class="line">min-<span class="symbol">width:</span>250px;<span class="comment">#宽度</span></span><br><span class="line">min-<span class="symbol">height:</span>70px;<span class="comment">#高度</span></span><br><span class="line">border-top-left-<span class="symbol">radius:</span> 15px;</span><br><span class="line">border-top-right-<span class="symbol">radius:</span> 15px;</span><br><span class="line"><span class="symbol">color:</span> rgb(<span class="number">44</span>, <span class="number">62</span>, <span class="number">80</span>);</span><br><span class="line"><span class="symbol">font:</span> italic 11pt <span class="string">&quot;Cascadia Code SemiLight&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:hover</span>&#123;</span><br><span class="line">background-<span class="symbol">color:</span> rgb(<span class="number">137</span>, <span class="number">195</span>, <span class="number">235</span>);</span><br><span class="line">border-<span class="symbol">right:</span>2px solid; <span class="comment">#如果要设置颜色的话在solid之后加一个#颜色</span></span><br><span class="line">border-<span class="symbol">top:</span>2px solid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<strong>只有出现TabBar才会设置标签项的颜色</strong><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span> &#123;</span><br><span class="line"><span class="symbol">border:</span> none;</span><br><span class="line">border-bottom-<span class="symbol">color:</span> <span class="comment">#FFFFFF; /* same as the pane color */</span></span><br><span class="line">border-top-left-<span class="symbol">radius:</span> 4px;</span><br><span class="line">border-top-right-<span class="symbol">radius:</span> 4px;</span><br><span class="line">min-<span class="symbol">width:</span> 8ex;</span><br><span class="line"><span class="symbol">padding:</span> 2px;</span><br><span class="line">font-<span class="symbol">size:</span> 14px;</span><br><span class="line">background-<span class="symbol">color:</span><span class="comment">#FFFFFF;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:selected</span>, <span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:hover</span> &#123;</span><br><span class="line">background-<span class="symbol">color:</span><span class="comment">#FFFFFF;//选中背景色</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:selected</span> &#123;</span><br><span class="line"><span class="symbol">border:</span>none; <span class="comment">#去掉边框</span></span><br><span class="line"><span class="symbol">color:</span><span class="comment">#2080F7;//选中颜色</span></span><br><span class="line">border-<span class="symbol">bottom:</span> 2px solid <span class="comment">#2080F7;</span></span><br><span class="line">font-<span class="symbol">weight:</span>bold;</span><br><span class="line">background-<span class="symbol">color:</span><span class="comment">#FFFFFF;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>QTabWidget 头部属性设置<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QTabWidget</span><span class="symbol">:</span><span class="symbol">:tab-bar</span> &#123;</span><br><span class="line">border-<span class="symbol">top:</span> 2px solid <span class="comment">#E5E5E5;</span></span><br><span class="line">border-<span class="symbol">bottom:</span> 2px solid <span class="comment">#E5E5E5;</span></span><br><span class="line">border-<span class="symbol">left:</span>1px solid <span class="comment">#E5E5E5;</span></span><br><span class="line"><span class="symbol">alignment:</span> center;<span class="regexp">//</span>居中显示</span><br><span class="line">font-<span class="symbol">size:</span> 14px;</span><br><span class="line">background-<span class="symbol">color:</span><span class="comment">#FFFFFF;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>头部选项卡<code>QTabBar::tab</code><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span> &#123;</span><br><span class="line">    <span class="symbol">background:</span> <span class="comment">#051322;</span></span><br><span class="line">	<span class="symbol">color:</span><span class="comment">#7F8997;</span></span><br><span class="line">    <span class="symbol">border:</span> 2px;</span><br><span class="line">    border-top-left-<span class="symbol">radius:</span> 10px;</span><br><span class="line">    border-top-right-<span class="symbol">radius:</span> 10px;</span><br><span class="line">    min-<span class="symbol">width:</span> 200px;</span><br><span class="line">	min-<span class="symbol">height:</span> 35px;</span><br><span class="line">    <span class="symbol">padding:</span> 2px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:selected</span>&#123;</span><br><span class="line">    background-<span class="symbol">color:</span> white;</span><br><span class="line">	<span class="symbol">color:</span><span class="comment">#001330;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:first</span>&#123; </span><br><span class="line">	min-<span class="symbol">width:</span> 35px;</span><br><span class="line">	background-<span class="symbol">color:</span> <span class="comment">#2489F2;</span></span><br><span class="line">	border-top-left-<span class="symbol">radius:</span> 3px;</span><br><span class="line">    border-top-right-<span class="symbol">radius:</span> 3px;</span><br><span class="line">	background-<span class="symbol">image:</span> url(<span class="symbol">:/Resources/image/homepage</span>.png);</span><br><span class="line">	background-<span class="symbol">position:</span> center;</span><br><span class="line">	background-<span class="symbol">repeat:</span> no-repeat;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:first</span><span class="symbol">:hover</span>&#123; </span><br><span class="line">	min-<span class="symbol">width:</span> 35px;</span><br><span class="line">	background-<span class="symbol">color:</span> <span class="comment">#2489F2;</span></span><br><span class="line">	border-top-left-<span class="symbol">radius:</span> 3px;</span><br><span class="line">    border-top-right-<span class="symbol">radius:</span> 3px;</span><br><span class="line">	background-<span class="symbol">image:</span> url(<span class="symbol">:/Resources/image/homepage_hover</span>.png);</span><br><span class="line">	background-<span class="symbol">position:</span> center;</span><br><span class="line">	background-<span class="symbol">repeat:</span> no-repeat;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:close-button</span>&#123; </span><br><span class="line">	border-<span class="symbol">image:</span> url(<span class="symbol">:/Resources/image/close</span>.png);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:close-button</span><span class="symbol">:hover</span>&#123;</span><br><span class="line">	border-<span class="symbol">image:</span> url(<span class="symbol">:/Resources/image/close_hover</span>.png);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>内容区美化<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">/<span class="regexp">/设置内容区域边框</span></span><br><span class="line"><span class="regexp">QTabWidget::pane&#123;</span></span><br><span class="line"><span class="regexp">	border:none;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/标题栏左侧间距</span></span><br><span class="line"><span class="regexp">QTabWidget::tab-bar &#123;</span></span><br><span class="line"><span class="regexp">    left: 1px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li>头部属性设置<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QTabWidget</span><span class="symbol">:</span><span class="symbol">:tab-bar</span> &#123;</span><br><span class="line">border-<span class="symbol">top:</span> 2px solid <span class="comment">#E5E5E5;</span></span><br><span class="line">border-<span class="symbol">bottom:</span> 2px solid <span class="comment">#E5E5E5;</span></span><br><span class="line">border-<span class="symbol">left:</span>1px solid <span class="comment">#E5E5E5;</span></span><br><span class="line"><span class="symbol">alignment:</span> center;</span><br><span class="line">font-<span class="symbol">size:</span> 14px;</span><br><span class="line">background-<span class="symbol">color:</span><span class="comment">#FFFFFF;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>图片插入的一个小例子<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment">#最左边标签未选中时显示（因为需要左边打圆角，所以和其他背景图片不一样，注意字体颜色）</span></span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:first</span><span class="symbol">:</span>!selected &#123;</span><br><span class="line">	<span class="symbol">color:</span><span class="comment">#000000;</span></span><br><span class="line">	border-<span class="symbol">image:</span> url(<span class="symbol">:/common/images/common/</span>左_normal.png);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#最左边标签被选中</span></span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:first</span><span class="symbol">:selected</span> &#123;</span><br><span class="line">	<span class="symbol">color:</span><span class="comment">#FFFFFF;</span></span><br><span class="line">	border-<span class="symbol">image:</span> url(<span class="symbol">:/common/images/common/</span>左_pressed.png);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#最右边标签未选中时显示（因为需要右边打圆角，所以和其他背景图片不一样）</span></span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:last</span><span class="symbol">:</span>!selected &#123;</span><br><span class="line">	<span class="symbol">color:</span><span class="comment">#000000;</span></span><br><span class="line">	border-<span class="symbol">image:</span> url(<span class="symbol">:/common/images/common/</span>右_normal.png);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#最右边标签被选中</span></span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:last</span><span class="symbol">:selected</span> &#123;</span><br><span class="line">	<span class="symbol">color:</span><span class="comment">#FFFFFF;</span></span><br><span class="line">	border-<span class="symbol">image:</span> url(<span class="symbol">:/common/images/common/</span>右_pressed.png);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#中间的标签未被选择的显示</span></span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:</span>!selected &#123;</span><br><span class="line">	<span class="symbol">color:</span><span class="comment">#000000;</span></span><br><span class="line">	border-<span class="symbol">image:</span> url(<span class="symbol">:/common/images/common/</span>中_normal.png);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#中间标签选中显示的图片</span></span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:selected</span> &#123;</span><br><span class="line">	<span class="symbol">color:</span><span class="comment">#FFFFFF;</span></span><br><span class="line">	border-<span class="symbol">image:</span> url(<span class="symbol">:/common/images/common/</span>中_pressed.png);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>改变左右滑动的按钮<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QTabBar</span> <span class="title class_">QToolButton</span> &#123;</span><br><span class="line">    <span class="symbol">border:</span> none;</span><br><span class="line">	<span class="symbol">color:</span> rgb(<span class="number">255</span>, <span class="number">206</span>, <span class="number">6</span>);</span><br><span class="line">    background-<span class="symbol">color:</span> <span class="comment">#0b0e11;</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="title class_">QTabBar</span> <span class="title class_">QToolButton</span><span class="symbol">:hover</span> &#123;</span><br><span class="line">	background-<span class="symbol">color:</span> rgb(<span class="number">44</span>, <span class="number">62</span>, <span class="number">80</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="利用QProxyStyle改变TabBar位置并改变文字方向"><a href="#利用QProxyStyle改变TabBar位置并改变文字方向" class="headerlink" title="利用QProxyStyle改变TabBar位置并改变文字方向"></a>利用<code>QProxyStyle</code>改变<code>TabBar</code>位置并改变文字方向</h3><p>但是是C语言（）</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;QPainter&gt;</span></span><br><span class="line"><span class="comment">#include &lt;QProxyStyle&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomTabStyle</span> : <span class="keyword">public</span> <span class="title class_">QProxyStyle</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    <span class="title class_">QSize</span> sizeFromContents(<span class="title class_">ContentsType</span> type, const <span class="title class_">QStyleOption</span> *option,</span><br><span class="line">        const <span class="title class_">QSize</span> &amp;size, const <span class="title class_">QWidget</span> *widget) const</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="title class_">QSize</span> s = <span class="title class_">QProxyStyle</span><span class="symbol">:</span><span class="symbol">:sizeFromContents</span>(type, option, size, widget);</span><br><span class="line">        <span class="keyword">if</span> (type == <span class="title class_">QStyle</span><span class="symbol">:</span><span class="symbol">:CT_TabBarTab</span>) &#123;</span><br><span class="line">            s.transpose();</span><br><span class="line">            s.rwidth() = <span class="number">90</span>; <span class="regexp">//</span> 设置每个tabBar中item的大小</span><br><span class="line">            s.rheight() = <span class="number">44</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    void drawControl(<span class="title class_">ControlElement</span> element, const <span class="title class_">QStyleOption</span> *option, <span class="title class_">QPainter</span> *painter, const <span class="title class_">QWidget</span> *widget) const</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="regexp">//</span>设置lab</span><br><span class="line">        <span class="keyword">if</span> (element == CE_TabBarTabLabel) &#123;</span><br><span class="line">            <span class="keyword">if</span> (const <span class="title class_">QStyleOptionTab</span> *tab = qstyleoption_cast&lt;const <span class="title class_">QStyleOptionTab</span> *&gt;(option)) &#123;</span><br><span class="line">                <span class="title class_">QRect</span> allRect = tab-&gt;rect;</span><br><span class="line">                <span class="regexp">//</span>选中状态</span><br><span class="line">                <span class="keyword">if</span> (tab-&gt;state &amp; <span class="title class_">QStyle</span><span class="symbol">:</span><span class="symbol">:State_Selected</span>) &#123;</span><br><span class="line">                    painter-&gt;save();</span><br><span class="line">                    painter-&gt;setPen(<span class="number">0xffffff</span>);</span><br><span class="line">                    painter-&gt;setBrush(<span class="title class_">QBrush</span>(<span class="number">0xffffff</span>));</span><br><span class="line">                    <span class="regexp">//painter</span>-&gt;drawRect(allRect.adjusted(<span class="number">6</span>, <span class="number">6</span>, -<span class="number">6</span>, -<span class="number">6</span>));</span><br><span class="line">                    painter-&gt;drawRect(allRect.adjusted(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">                    painter-&gt;restore();</span><br><span class="line">                &#125;</span><br><span class="line">                /<span class="regexp">/hover状态 鼠标移动状态</span></span><br><span class="line"><span class="regexp">                else if (tab-&gt;state &amp; QStyle::State_MouseOver) &#123;</span></span><br><span class="line"><span class="regexp">                    painter-&gt;save();</span></span><br><span class="line"><span class="regexp">                    painter-&gt;setPen(0xECECEC);/</span><span class="regexp">/画框</span></span><br><span class="line"><span class="regexp">                    painter-&gt;setBrush(QBrush(0xECECEC));</span></span><br><span class="line"><span class="regexp">                    painter-&gt;drawRect(allRect.adjusted(0, 0, 0, 0));</span></span><br><span class="line"><span class="regexp">                    painter-&gt;restore();</span></span><br><span class="line"><span class="regexp">                &#125; else &#123;</span></span><br><span class="line"><span class="regexp">                    painter-&gt;setPen(0x33CCFF);</span></span><br><span class="line"><span class="regexp">                &#125;</span></span><br><span class="line"><span class="regexp">                /</span><span class="regexp">/字体</span></span><br><span class="line"><span class="regexp">                QTextOption option;</span></span><br><span class="line"><span class="regexp">                option.setAlignment(Qt::AlignCenter);</span></span><br><span class="line"><span class="regexp">                painter-&gt;setFont(QFont(&quot;楷体&quot;, 12, QFont::Bold));</span></span><br><span class="line"><span class="regexp">                painter-&gt;setPen(0x0A0A0A);</span></span><br><span class="line"><span class="regexp">                painter-&gt;drawText(allRect, tab-&gt;text, option);</span></span><br><span class="line"><span class="regexp">                return;</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">        if (element == CE_TabBarTab) &#123;</span></span><br><span class="line"><span class="regexp">            QProxyStyle::drawControl(element, option, painter, widget);</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>
<p>调用：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">ui-&gt;tabWidget-&gt;setTabPosition(<span class="title class_">QTabWidget</span><span class="symbol">:</span><span class="symbol">:West</span>);</span><br><span class="line">ui-&gt;tabWidget-&gt;tabBar()-&gt;setStyle(new <span class="title class_">CustomTabStyle</span>);</span><br></pre></td></tr></table></figure>
<h3 id="自己做的好看的成品嘿嘿"><a href="#自己做的好看的成品嘿嘿" class="headerlink" title="自己做的好看的成品嘿嘿"></a>自己做的好看的成品嘿嘿</h3><ol>
<li>蓝色的选项卡<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span>&#123;</span><br><span class="line">background-<span class="symbol">color:</span> rgb(<span class="number">41</span>, <span class="number">128</span>, <span class="number">182</span>);</span><br><span class="line">min-<span class="symbol">width:</span>250px;</span><br><span class="line">min-<span class="symbol">height:</span>70px;</span><br><span class="line">	<span class="symbol">color:</span> rgb(<span class="number">44</span>, <span class="number">62</span>, <span class="number">80</span>);</span><br><span class="line">	<span class="symbol">font:</span> italic 11pt <span class="string">&quot;Cascadia Code SemiLight&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:hover</span>,<span class="title class_">QTabBar</span><span class="symbol">:</span><span class="symbol">:tab</span><span class="symbol">:selected</span>&#123;</span><br><span class="line"><span class="symbol">border:</span>5px solid <span class="comment">#bce2e8;</span></span><br><span class="line">background-<span class="symbol">color:</span> rgb(<span class="number">137</span>, <span class="number">195</span>, <span class="number">235</span>);</span><br><span class="line">border-<span class="symbol">right:</span>2px solid;</span><br><span class="line">border-<span class="symbol">top:</span>2px solid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="QFrame制作无边框窗口"><a href="#QFrame制作无边框窗口" class="headerlink" title="QFrame制作无边框窗口"></a>QFrame制作无边框窗口</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment">#frame</span></span><br><span class="line">&#123;</span><br><span class="line">	background-<span class="symbol">color:</span>rgb(<span class="number">39</span>, <span class="number">146</span>, <span class="number">195</span>);</span><br><span class="line">	<span class="symbol">border:</span> 5px, white;</span><br><span class="line">	border-<span class="symbol">radius:</span> 20px;</span><br><span class="line">	<span class="symbol">margin:</span> 5px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="QGruopBox"><a href="#QGruopBox" class="headerlink" title="QGruopBox"></a>QGruopBox</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QGroupBox</span>&#123;</span><br><span class="line"><span class="symbol">border:</span>2px solid gray;</span><br><span class="line">border-<span class="symbol">radius:</span>4px;</span><br><span class="line">margin-<span class="symbol">top:</span><span class="number">0</span>.5em;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QGroupBox</span><span class="symbol">:</span><span class="symbol">:title</span>&#123;</span><br><span class="line">subcontrol-<span class="symbol">origin:</span>margin;</span><br><span class="line">background-<span class="symbol">color:</span>white;</span><br><span class="line"><span class="symbol">padding:</span><span class="number">0</span> 3px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Scroll-Area-1"><a href="#Scroll-Area-1" class="headerlink" title="Scroll Area"></a>Scroll Area</h2><p>设置背景图片要设定里边那个Widget的样式，要不然所有子控件都会被改</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment">#scrollAreaWidgetContents&#123;</span></span><br><span class="line">border-<span class="symbol">image:</span> url(./<span class="title class_">Img</span>/5deepblue.png);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QScrollArea</span>&#123;</span><br><span class="line"><span class="symbol">border:</span>none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="QComboBox"><a href="#QComboBox" class="headerlink" title="QComboBox"></a>QComboBox</h2><h3 id="指定下拉箭头图片自定义，图片文件为name-png"><a href="#指定下拉箭头图片自定义，图片文件为name-png" class="headerlink" title="指定下拉箭头图片自定义，图片文件为name.png"></a>指定下拉箭头图片自定义，图片文件为name.png</h3><ol>
<li>所有的下拉箭头<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QConboBox</span><span class="symbol">:drop-down</span>&#123;<span class="symbol">image:</span>url(name.png)&#125;</span><br></pre></td></tr></table></figure></li>
<li>指定ID的下拉箭头<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QComboBox</span><span class="comment">#myQComboBox::drop-down &#123;image：url（dropdown.png）&#125;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="QSS伪状态"><a href="#QSS伪状态" class="headerlink" title="QSS伪状态"></a>QSS伪状态</h2><p>QSS的伪状态选择器是一个以冒号开头的选择表达式，限制控件在某种状态时才可以使用QSS规则，只能描述某一个控件或者一个复合控件的自控件的状态，只能放在选择器的最后边。</p>
<h3 id="hover：鼠标指针经过的状态"><a href="#hover：鼠标指针经过的状态" class="headerlink" title="hover：鼠标指针经过的状态"></a>hover：鼠标指针经过的状态</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QComboBox</span><span class="symbol">:hover</span>&#123;background-<span class="symbol">color:</span>red&#125;</span><br><span class="line"><span class="comment">#经过combobox时其背景变为红色</span></span><br><span class="line"><span class="title class_">QComboBox</span><span class="symbol">:</span><span class="symbol">:drop-down</span><span class="symbol">:hover</span>&#123;background-<span class="symbol">color:</span>red&#125;</span><br><span class="line"><span class="comment">#经过其下拉箭头的时候，下拉箭头的背景变成12</span></span><br><span class="line"><span class="title class_">QCheckBox</span>：hover：checked&#123;color：white&#125;</span><br><span class="line"><span class="comment">#多种伪状态可以同时使用：表示当鼠标指针经过一个选中的QCheckBox时，设置其文字的前景色为白色12</span></span><br></pre></td></tr></table></figure>
<p><code>:!hove</code>可表示没有鼠标经过的状态<br>实例：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">import sys</span><br><span class="line">from <span class="title class_">PyQt5</span>.<span class="title class_">QtWidgets</span> import *</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WindowDemo</span>(<span class="title class_">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">        <span class="variable language_">super</span>(<span class="title class_">WindowDemo</span>, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">        <span class="comment">#实例化列表控件</span></span><br><span class="line">        combo=<span class="title class_">QComboBox</span>(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="comment">#设置列表控件的名称</span></span><br><span class="line">        combo.setObjectName(<span class="string">&#x27;myQComboBox&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#添加条目到列表控件</span></span><br><span class="line">        combo.addItem(<span class="string">&#x27;Window&#x27;</span>)</span><br><span class="line">        combo.addItem(<span class="string">&#x27;Ubuntu&#x27;</span>)</span><br><span class="line">        combo.addItem(<span class="string">&#x27;Red Hat&#x27;</span>)</span><br><span class="line">        <span class="comment">#控件移动到指定位置</span></span><br><span class="line">        combo.move(<span class="number">50</span>,<span class="number">50</span>)</span><br><span class="line">        <span class="comment">#设置窗口的标题与初始窗口的属性</span></span><br><span class="line">        <span class="variable language_">self</span>.setGeometry(<span class="number">250</span>,<span class="number">200</span>,<span class="number">320</span>,<span class="number">150</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;QComboBox样式&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#设置样式</span></span><br><span class="line"></span><br><span class="line">        qssStyle=<span class="string">&#x27;&#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">        QComboBox#myQComboBox::drop-down&#123;</span></span><br><span class="line"><span class="string">        image:url(./images/dropdown.png)</span></span><br><span class="line"><span class="string">        &#125; </span></span><br><span class="line"><span class="string">        QComboBox#myQComboBox::drop-down:hover&#123;</span></span><br><span class="line"><span class="string">        background-color:red</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        &#x27;</span><span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="variable language_">self</span>.setStyleSheet(qssStyle)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app=<span class="title class_">QApplication</span>(sys.argv)</span><br><span class="line">    win=<span class="title class_">WindowDemo</span>()</span><br><span class="line">    win.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
<h2 id="MainWindow：直接在retranslateUi后边设置"><a href="#MainWindow：直接在retranslateUi后边设置" class="headerlink" title="MainWindow：直接在retranslateUi后边设置"></a>MainWindow：直接在retranslateUi后边设置</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment">#MainWindow.setWindowOpacity(0.9) # 设置窗口透明度</span></span><br><span class="line"><span class="title class_">MainWindow</span>.setAttribute(<span class="title class_">QtCore</span>.<span class="title class_">Qt</span>.WA_TranslucentBackground) <span class="comment"># 设置窗口背景透明</span></span><br><span class="line"><span class="comment">#MainWindow.setWindowFlag(QtCore.Qt.FramelessWindowHint) # 隐藏边框</span></span><br><span class="line">pe = <span class="title class_">QPalette</span>()</span><br><span class="line"><span class="title class_">MainWindow</span>.setAutoFillBackground(<span class="title class_">True</span>)</span><br><span class="line">pe.setColor(<span class="title class_">QPalette</span>.<span class="title class_">Window</span>,<span class="title class_">Qt</span>.lightGray)  <span class="comment">#设置背景色</span></span><br><span class="line"><span class="comment">#pe.setColor(QPalette.Background,Qt.blue)</span></span><br><span class="line"><span class="title class_">MainWindow</span>.setPalette(pe)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Ui</span>_MainWindow3.setWindowTitle(<span class="string">&quot;语音识别&quot;</span>)        </span><br><span class="line"><span class="title class_">Ui</span>_MainWindow3.setWindowIcon(<span class="title class_">QIcon</span>(<span class="string">&#x27;Amg.jpg&#x27;</span>)) <span class="comment">#设置图标,可以用图片，也可以用qtawesome</span></span><br></pre></td></tr></table></figure>

<h2 id="PushButton：直接在初始setup后设置"><a href="#PushButton：直接在初始setup后设置" class="headerlink" title="PushButton：直接在初始setup后设置"></a>PushButton：直接在初始setup后设置</h2><ol>
<li>设置按钮前的图标<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">spin_icon = qtawesome.icon(<span class="string">&#x27;fa5s.microphone-alt&#x27;</span>, color=<span class="string">&#x27;white&#x27;</span>)</span><br><span class="line"><span class="comment">#图标名参考示例格式，以及qtawesome的readme中对于库的提示来写，格式就是 库.图标名</span></span><br><span class="line"><span class="variable language_">self</span>.pushButton.setIcon(spin_icon)<span class="comment">#设置图标</span></span><br><span class="line"><span class="variable language_">self</span>.pushButton.setIconSize(<span class="title class_">QtCore</span>.<span class="title class_">QSize</span>(<span class="number">50</span>,<span class="number">50</span>))<span class="comment">#需要导入库from PyQt5.QtCore import QSize</span></span><br><span class="line"><span class="variable language_">self</span>.pushButton.setStyleSheet(<span class="string">&#x27;&#x27;</span><span class="string">&#x27;QPushButton&#123;background-color: rgb(70, 70, 70);</span></span><br><span class="line"><span class="string">                                color: rgb(255, 255, 255);&#125;</span></span><br><span class="line"><span class="string">QPushButton:hover&#123;color:white;</span></span><br><span class="line"><span class="string">            border:2px solid #F3F3F5;</span></span><br><span class="line"><span class="string">            border-radius:35px;</span></span><br><span class="line"><span class="string">            background:darkGray;&#125;&#x27;</span><span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li>图标+圆角（图标用的是flaticon）<br>在qss文件添加以下内容：<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">/*设置控件的背景*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QTabWidget</span></span><br><span class="line"><span class="regexp">&#123;</span></span><br><span class="line"><span class="regexp">    background-color:rgb(104,191,249);</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">/</span>*设置控件下面板的背景颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QTabWidget::pane</span></span><br><span class="line"><span class="regexp">&#123;</span></span><br><span class="line"><span class="regexp">    background-color: rgb(228, 233, 242);</span></span><br><span class="line"><span class="regexp">    border:none;</span></span><br><span class="line"><span class="regexp"> </span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">/</span>*设置控件下选择页的颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QTabBar::tab</span></span><br><span class="line"><span class="regexp">&#123;</span></span><br><span class="line"><span class="regexp">     font: 15pt &quot;Chinese fine black&quot;;</span></span><br><span class="line"><span class="regexp">     background-color:rgb(104,191,249);</span></span><br><span class="line"><span class="regexp">     min-width: 60px;</span></span><br><span class="line"><span class="regexp">     min-height: 30px;</span></span><br><span class="line"><span class="regexp">     padding: 2px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">/</span>*设置控件下选择页被选中的颜色*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">QTabBar::tab:selected</span></span><br><span class="line"><span class="regexp">&#123;</span></span><br><span class="line"><span class="regexp">    background-color: rgb(228, 233, 242);</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="将最大化最小化按钮设置为像苹果的三个点点"><a href="#将最大化最小化按钮设置为像苹果的三个点点" class="headerlink" title="将最大化最小化按钮设置为像苹果的三个点点"></a>将最大化最小化按钮设置为像苹果的三个点点</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> gui_view(<span class="title class_">QWidget</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">      <span class="variable language_">super</span>(gui_view, <span class="variable language_">self</span>).__init__()</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">self</span>.resize(<span class="number">500</span>, <span class="number">350</span>)</span><br><span class="line">      <span class="variable language_">self</span>.setWindowFlags(<span class="title class_">Qt</span>.<span class="title class_">FramelessWindowHint</span>)  <span class="comment"># 去边框</span></span><br><span class="line">      <span class="comment"># # self.setAttribute(Qt.WA_TranslucentBackground)  # 设置窗口背景透明</span></span><br><span class="line"></span><br><span class="line">      button_red = <span class="title class_">QPushButton</span>(<span class="variable language_">self</span>)</span><br><span class="line">      button_red.move(<span class="number">20</span>, <span class="number">20</span>)</span><br><span class="line">      button_red.setFixedSize(<span class="number">20</span>, <span class="number">20</span>)</span><br><span class="line">      button_red.setStyleSheet(<span class="string">&quot;QPushButton&#123;\n&quot;</span></span><br><span class="line">                                       <span class="string">&quot;    background:#CE0000;\n&quot;</span></span><br><span class="line">                                       <span class="string">&quot;    color:white;\n&quot;</span></span><br><span class="line">                                       <span class="string">&quot;    box-shadow: 1px 1px 3px;border-radius: 10px;\n&quot;</span></span><br><span class="line">                                       <span class="string">&quot;&#125;\n&quot;</span></span><br><span class="line">                                       <span class="string">&quot;QPushButton:hover&#123;                    \n&quot;</span></span><br><span class="line">                                       <span class="string">&quot;    background:red;\n&quot;</span></span><br><span class="line">                                       <span class="string">&quot;&#125;\n&quot;</span></span><br><span class="line">                                       <span class="string">&quot;QPushButton:pressed&#123;\n&quot;</span></span><br><span class="line">                                       <span class="string">&quot;    border: 1px solid #3C3C3C!important;\n&quot;</span></span><br><span class="line">                                       <span class="string">&quot;    background:black;\n&quot;</span></span><br><span class="line">                                       <span class="string">&quot;&#125;&quot;</span>)</span><br><span class="line">      button_red.clicked.connect(<span class="variable language_">self</span>.quit_button)</span><br><span class="line"></span><br><span class="line">      button_orange = <span class="title class_">QPushButton</span>(<span class="variable language_">self</span>)</span><br><span class="line">      button_orange.move(<span class="number">50</span>, <span class="number">20</span>)</span><br><span class="line">      button_orange.setFixedSize(<span class="number">20</span>, <span class="number">20</span>)</span><br><span class="line">      button_orange.setStyleSheet(<span class="string">&quot;QPushButton&#123;\n&quot;</span></span><br><span class="line">                               <span class="string">&quot;    background:orange;\n&quot;</span></span><br><span class="line">                               <span class="string">&quot;    color:white;\n&quot;</span></span><br><span class="line">                               <span class="string">&quot;    box-shadow: 1px 1px 3px;border-radius: 10px;\n&quot;</span></span><br><span class="line">                               <span class="string">&quot;&#125;\n&quot;</span></span><br><span class="line">                               <span class="string">&quot;QPushButton:hover&#123;                    \n&quot;</span></span><br><span class="line">                               <span class="string">&quot;    background:yellow;\n&quot;</span></span><br><span class="line">                               <span class="string">&quot;&#125;\n&quot;</span></span><br><span class="line">                               <span class="string">&quot;QPushButton:pressed&#123;\n&quot;</span></span><br><span class="line">                               <span class="string">&quot;    border: 1px solid #3C3C3C!important;\n&quot;</span></span><br><span class="line">                               <span class="string">&quot;    background:black;\n&quot;</span></span><br><span class="line">                               <span class="string">&quot;&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line">      button_green = <span class="title class_">QPushButton</span>(<span class="variable language_">self</span>)</span><br><span class="line">      button_green.move(<span class="number">80</span>, <span class="number">20</span>)</span><br><span class="line">      button_green.setFixedSize(<span class="number">20</span>, <span class="number">20</span>)</span><br><span class="line">      button_green.setStyleSheet(<span class="string">&quot;QPushButton&#123;\n&quot;</span></span><br><span class="line">                                  <span class="string">&quot;    background:green;\n&quot;</span></span><br><span class="line">                                  <span class="string">&quot;    color:white;\n&quot;</span></span><br><span class="line">                                  <span class="string">&quot;    box-shadow: 1px 1px 3px;border-radius: 10px;\n&quot;</span></span><br><span class="line">                                  <span class="string">&quot;&#125;\n&quot;</span></span><br><span class="line">                                  <span class="string">&quot;QPushButton:hover&#123;                    \n&quot;</span></span><br><span class="line">                                  <span class="string">&quot;    background:#08BF14;\n&quot;</span></span><br><span class="line">                                  <span class="string">&quot;&#125;\n&quot;</span></span><br><span class="line">                                  <span class="string">&quot;QPushButton:pressed&#123;\n&quot;</span></span><br><span class="line">                                  <span class="string">&quot;    border: 1px solid #3C3C3C!important;\n&quot;</span></span><br><span class="line">                                  <span class="string">&quot;    background:black;\n&quot;</span></span><br><span class="line">                                  <span class="string">&quot;&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">quit_button</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">      quit()</span><br></pre></td></tr></table></figure>
<h4 id="最小化"><a href="#最小化" class="headerlink" title="最小化"></a>最小化</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QPushButton</span>&#123;</span><br><span class="line">    <span class="symbol">background:</span><span class="comment">#6C6C6C;</span></span><br><span class="line">    <span class="symbol">color:</span>white;</span><br><span class="line">    box-<span class="symbol">shadow:</span> 1px 1px 3px rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>);font-<span class="symbol">size:</span>16px;border-<span class="symbol">radius:</span> 8px;font-<span class="symbol">family:</span> 微软雅黑;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QPushButton</span><span class="symbol">:hover</span>&#123;                    </span><br><span class="line">    <span class="symbol">background:</span><span class="comment">#9D9D9D;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QPushButton</span><span class="symbol">:pressed</span>&#123;</span><br><span class="line">    <span class="symbol">border:</span> 1px solid <span class="comment">#3C3C3C!important;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="关闭"><a href="#关闭" class="headerlink" title="关闭"></a>关闭</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="title class_">QPushButton</span>&#123;</span><br><span class="line">    <span class="symbol">background:</span><span class="comment">#CE0000;</span></span><br><span class="line">    <span class="symbol">color:</span>white;</span><br><span class="line">    box-<span class="symbol">shadow:</span> 1px 1px 3px rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>);font-<span class="symbol">size:</span>16px;border-<span class="symbol">radius:</span> 8px;font-<span class="symbol">family:</span> 微软雅黑;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QPushButton</span><span class="symbol">:hover</span>&#123;                    </span><br><span class="line">    <span class="symbol">background:</span><span class="comment">#FF2D2D;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">QPushButton</span><span class="symbol">:pressed</span>&#123;</span><br><span class="line">    <span class="symbol">border:</span> 1px solid <span class="comment">#3C3C3C!important;</span></span><br><span class="line">    <span class="symbol">background:</span><span class="comment">#AE0000;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="少许动画操作"><a href="#少许动画操作" class="headerlink" title="少许动画操作"></a>少许动画操作</h1><h2 id="静态图片-动态文字"><a href="#静态图片-动态文字" class="headerlink" title="静态图片+动态文字"></a>静态图片+动态文字</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">app = <span class="title class_">QApplication</span>(sys.argv)</span><br><span class="line">pixmap = <span class="title class_">QPixmap</span>(<span class="string">&quot;Img/brain1.jpeg&quot;</span>)</span><br><span class="line">splash = <span class="title class_">QSplashScreen</span>(pixmap)</span><br><span class="line">splash.show()</span><br><span class="line"><span class="comment">#splash.setCursor(PyQt5.QtWidgets.BlankCursor)  # 设置点击图标关闭事件</span></span><br><span class="line">splash.showMessage(<span class="string">&quot;加载中&quot;</span>)  <span class="comment"># 第二个参数为字的位置，第三个参数为颜色</span></span><br><span class="line">app.processEvents()  <span class="comment"># 使程序还能响应其他事件</span></span><br><span class="line"></span><br><span class="line">dialog = <span class="title class_">Ui</span>_MainDialog() <span class="comment">#先创建好实例后取消</span></span><br><span class="line">splash.finish(dialog)  <span class="comment"># main为主界面的实例</span></span><br><span class="line"></span><br><span class="line">dailog.exec()</span><br><span class="line">sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
<h2 id="动态图gif"><a href="#动态图gif" class="headerlink" title="动态图gif"></a>动态图gif</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">app = <span class="title class_">QApplication</span>(sys.argv)</span><br><span class="line">label = <span class="title class_">QLabel</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">mv = <span class="title class_">QMovie</span>(<span class="string">&quot;:/gif/loading.gif&quot;</span>)</span><br><span class="line">label.setMovie(mv) <span class="comment">#其实是把label当成了一个载体，把mv放到label上</span></span><br><span class="line">label.setWindowFlags(<span class="title class_">Qt</span>.<span class="title class_">FramelessWindowHint</span>)  <span class="comment"># label窗口无边框设置</span></span><br><span class="line">label.setAttribute(<span class="title class_">Qt</span>.WA_TranslucentBackground)  <span class="comment"># label背景透明</span></span><br><span class="line">label.move((app.desktop()-&gt;width() - window.width()) / <span class="number">2</span>, (app.desktop()-&gt;height() - window.height()) / <span class="number">2</span>)  <span class="comment"># 调整位置</span></span><br><span class="line">label.setScaledContents(<span class="title class_">True</span>)</span><br><span class="line">mv.start()</span><br><span class="line">label.show()</span><br><span class="line">main = <span class="title class_">None</span> <span class="comment">#把main改成你的界面名字</span></span><br><span class="line"><span class="keyword">while</span> <span class="title class_">True</span>:</span><br><span class="line">    app.processEvents()  <span class="comment"># 使动画正常播放，不影响主界面构造</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="symbol">main:</span></span><br><span class="line">        main = <span class="title class_">MainWinodw</span>() <span class="comment">#实例创建你应该有的实例</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">main.show()</span><br><span class="line">label.close()</span><br><span class="line">sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<h1 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h1><h2 id="class-test"><a href="#class-test" class="headerlink" title="class_test"></a>class_test</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">import sys</span><br><span class="line">import <span class="title class_">PyQt5</span></span><br><span class="line">from <span class="title class_">PyQt5</span>.<span class="title class_">QtCore</span> import <span class="title class_">Qt</span></span><br><span class="line">from <span class="title class_">PyQt5</span>.<span class="title class_">QtGui</span> import <span class="title class_">QMovie</span></span><br><span class="line">from <span class="title class_">PyQt5</span>.<span class="title class_">QtWidgets</span> import *</span><br><span class="line"></span><br><span class="line">from dictest import <span class="title class_">Ui</span>_MainDialog</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = <span class="title class_">QApplication</span>(sys.argv)</span><br><span class="line"></span><br><span class="line">    label = <span class="title class_">QLabel</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    mv = <span class="title class_">QMovie</span>(<span class="string">&quot;./Img/11.jpeg&quot;</span>)</span><br><span class="line">    label.setMovie(mv)</span><br><span class="line">    label.setWindowFlags(<span class="title class_">Qt</span>.<span class="title class_">FramelessWindowHint</span>)  <span class="comment"># label窗口无边框设置</span></span><br><span class="line">    label.setScaledContents(<span class="title class_">True</span>)</span><br><span class="line">    mv.start()</span><br><span class="line">    label.show() <span class="comment">#这句一定要有啊。。uic加载的时候也需要show</span></span><br><span class="line"></span><br><span class="line">    dailog = <span class="title class_">None</span></span><br><span class="line">    <span class="keyword">while</span> <span class="title class_">True</span>:</span><br><span class="line">        app.processEvents()  <span class="comment"># 使动画正常播放，不影响主界面构造</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="symbol">dailog:</span></span><br><span class="line">            dailog = <span class="title class_">Ui</span>_MainDialog()</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    label.close()</span><br><span class="line">    dailog.exec()</span><br><span class="line"></span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<h2 id="showImage"><a href="#showImage" class="headerlink" title="showImage"></a>showImage</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">self</span>.shape = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 定义MyFigure类的一个实例</span></span><br><span class="line">        </span><br><span class="line">        <span class="variable language_">self</span>.F = <span class="title class_">MyFigure</span>(width=<span class="number">5</span>, height=<span class="number">4</span>, dpi=<span class="number">100</span>)</span><br><span class="line">        <span class="comment"># 在GUI的groupBox中创建一个布局，用于添加MyFigure类的实例（即图形）后其他部件。</span></span><br><span class="line">        <span class="variable language_">self</span>.gridlayout_1 = <span class="title class_">QGridLayout</span>(<span class="variable language_">self</span>.graphicsView_2)  <span class="comment"># 继承容器</span></span><br><span class="line">        <span class="variable language_">self</span>.gridlayout_1.addWidget(<span class="variable language_">self</span>.F, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="comment">#self.showimage()</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.<span class="variable constant_">F2</span> = <span class="title class_">MyFigure</span>(width=<span class="number">5</span>, height=<span class="number">4</span>, dpi=<span class="number">100</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout_2 = <span class="title class_">QGridLayout</span>(<span class="variable language_">self</span>.graphicsView_3)  <span class="comment"># 继承容器</span></span><br><span class="line">        <span class="variable language_">self</span>.gridlayout_2.addWidget(<span class="variable language_">self</span>.<span class="variable constant_">F2</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.<span class="variable constant_">F3</span> = <span class="title class_">MyFigure</span>(width=<span class="number">5</span>, height=<span class="number">4</span>, dpi=<span class="number">100</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout_3 = <span class="title class_">QGridLayout</span>(<span class="variable language_">self</span>.graphicsView_4)  <span class="comment"># 继承容器</span></span><br><span class="line">        <span class="variable language_">self</span>.gridlayout_3.addWidget(<span class="variable language_">self</span>.<span class="variable constant_">F3</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># self.horizontalSlider.valueChanged.connect(self.bindSlider)</span></span><br><span class="line">        <span class="variable language_">self</span>.showimage()</span><br><span class="line">            <span class="comment"># SimpleView.VisNii(self,self.ori_path)</span></span><br></pre></td></tr></table></figure>

<h1 id="PyQt5的一些报错"><a href="#PyQt5的一些报错" class="headerlink" title="PyQt5的一些报错"></a>PyQt5的一些报错</h1><ol>
<li>点击run里面的edit configurations</li>
<li>将Emulate terminal in output console勾上后点击apply应用</li>
</ol>
<h2 id="ComboBox报错"><a href="#ComboBox报错" class="headerlink" title="ComboBox报错"></a>ComboBox报错</h2><blockquote>
<p>argument 1 has unexpected type ‘NoneType’</p>
</blockquote>
<p><a href="https://deepinout.com/pyqt5/pyqt5-questions/47_pyqt5_argument_1_has_unexpected_type_nonetype.html">解决方法</a>：<code>connect</code>中传的函数加一个<code>lambda</code></p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">self</span>.ui.comboBox_ImgType.currentIndexChanged.connect(<span class="built_in">lambda</span> : <span class="variable language_">self</span>.<span class="title class_">RadiomicsFunc</span>.<span class="title class_">ImgType</span>_init(<span class="variable language_">self</span>.comboBox_ImgType.currentIndex()))</span><br></pre></td></tr></table></figure>
<h2 id="graphicsView刷新"><a href="#graphicsView刷新" class="headerlink" title="graphicsView刷新"></a>graphicsView刷新</h2><blockquote>
<p>QLayout: Attempting to add QLayout “” to QGraphicsView “graphicsView_4”, which already has a layout</p>
</blockquote>
]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>UI</tag>
        <tag>PyQt5</tag>
      </tags>
  </entry>
  <entry>
    <title>PythonBasic</title>
    <url>/2023/%E5%AD%A6%E7%82%B9/PythonBasic/</url>
    <content><![CDATA[<h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><h2 id="关键字global的用法"><a href="#关键字global的用法" class="headerlink" title="关键字global的用法"></a>关键字global的用法</h2><p>global是Python中全局变量的关键字，可以使得一个局部变量变为全局变量（既可以是某对象函数创建，也可以是在本程序任何地方创建，可以被本程序的所有对象或函数引用）<br>注意如果使的函数可以改变全局变量的值，该全局变量声明必须在函数内<br>示例：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">x = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my</span>():</span><br><span class="line">    global x</span><br><span class="line">    x = <span class="number">8</span></span><br><span class="line">    print(<span class="string">&quot;x = &quot;</span>,x)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;x = &quot;</span>,x)</span><br><span class="line">my()</span><br><span class="line">print(<span class="string">&quot;x = &quot;</span>,x)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出顺序：4 8 8</span></span><br></pre></td></tr></table></figure>
<h2 id="字典添加元素"><a href="#字典添加元素" class="headerlink" title="字典添加元素"></a>字典添加元素</h2><ol>
<li>单个添加，并且是在新元素的基础上添加（对已有元素会<strong>覆盖</strong>）<br><code>book_dict[&quot;owner&quot;] = &quot;tyson&quot; </code></li>
</ol>
<h1 id="实用方法"><a href="#实用方法" class="headerlink" title="实用方法"></a>实用方法</h1><h2 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h2><h3 id="是否为数字"><a href="#是否为数字" class="headerlink" title="是否为数字"></a>是否为数字</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">is_number</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="symbol">try:</span></span><br><span class="line">        float(s)</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">True</span></span><br><span class="line">    except <span class="title class_">ValueError</span>:</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">    <span class="symbol">try:</span></span><br><span class="line">        import unicodedata</span><br><span class="line">        unicodedata.numeric(s)</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">True</span></span><br><span class="line">    except (<span class="title class_">TypeError</span>, <span class="title class_">ValueError</span>):</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">False</span></span><br></pre></td></tr></table></figure>


<h1 id="Python对文件的操作"><a href="#Python对文件的操作" class="headerlink" title="Python对文件的操作"></a>Python对文件的操作</h1><h2 id="基本语法-1"><a href="#基本语法-1" class="headerlink" title="基本语法"></a>基本语法</h2><ol>
<li><code>file = open(&#39;your_file.txt&#39;,&#39;r&#39;)</code>操作方式参数’w’会改成写（创建）文件原有内容会被清空；’r’是只读；’a’是直接在尾部添加内容或者创建；</li>
<li><code>f.close()</code>关闭文件</li>
<li><code>f.read()</code>文件读取</li>
<li>常用的文件操作形式<img src="https://img-blog.csdnimg.cn/5e8a7d527b124b55a7315aeac0d968a1.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5LiN5Lya5LiL6Zuo55qE772e5LqR,size_15,color_FFFFFF,t_70,g_se,x_16" alt="Img"></li>
</ol>
<h2 id="with上下文打开（推荐）"><a href="#with上下文打开（推荐）" class="headerlink" title="with上下文打开（推荐）"></a><code>with</code>上下文打开（推荐）</h2><p>操作完成后无需通过<code>close()</code>关闭文件，并且安全系数更高</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">import codecs</span><br><span class="line">with codecs.open(<span class="string">&#x27;your_file.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,<span class="string">&#x27;utf-8&#x27;</span>) as <span class="symbol">f:</span></span><br><span class="line">    f.write(<span class="string">&#x27;WellDone!&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="对yaml文件进行操作"><a href="#对yaml文件进行操作" class="headerlink" title="对yaml文件进行操作"></a>对<code>yaml</code>文件进行操作</h2><p><a href="https://www.jianshu.com/p/0871ac68726d">ymal文件操作的一个简单小教程</a></p>
<h3 id="yaml语法"><a href="#yaml语法" class="headerlink" title="yaml语法"></a><code>yaml</code>语法</h3><ul>
<li>支持的数据类型：<br>字典、列表、字符串、布尔值、整数、浮点数、Null、时间等</li>
<li>基本语法规则：</li>
</ul>
<ol>
<li>大小写敏感</li>
<li>使用缩进表示层级关系</li>
<li>相同层级的元素左侧对齐</li>
<li>键值对用冒号 “:” 结构表示，冒号与值之间需用空格分隔</li>
<li>数组前加有 “-” 符号，符号与值之间需用空格分隔</li>
<li>None值可用null 和 ~ 表示</li>
<li>多组数据之间使用3横杠—分割</li>
<li><code>#</code>表示注释，但不能在一段代码的行末尾加注释，否则会报错</li>
</ol>
<h3 id="第三方库PyYAML"><a href="#第三方库PyYAML" class="headerlink" title="第三方库PyYAML"></a>第三方库<code>PyYAML</code></h3><h4 id="读取-写入后各类型对应的格式"><a href="#读取-写入后各类型对应的格式" class="headerlink" title="读取&#x2F;写入后各类型对应的格式"></a>读取&#x2F;写入后各类型对应的格式</h4><h4 id="写入数据"><a href="#写入数据" class="headerlink" title="写入数据"></a>写入数据</h4><ul>
<li>打开后首先加入<code> yaml.dump(data=mydata, stream=f,allow_unicode=True)</code>防止写入的中文乱码</li>
<li>多组数据写入<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">import yaml</span><br><span class="line"></span><br><span class="line">apiData1 = &#123;</span><br><span class="line">   <span class="string">&quot;page&quot;</span>: <span class="number">1</span>,</span><br><span class="line">   <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;地址&quot;</span>,</span><br><span class="line">   <span class="string">&quot;data&quot;</span>: [&#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;学校&quot;</span></span><br><span class="line">   &#125;, &#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;公寓&quot;</span></span><br><span class="line">   &#125;, &#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="number">3</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;流动人口社区&quot;</span></span><br><span class="line">   &#125;],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">apiData2 = &#123;</span><br><span class="line">   <span class="string">&quot;page&quot;</span>: <span class="number">2</span>,</span><br><span class="line">   <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;地址&quot;</span>,</span><br><span class="line">   <span class="string">&quot;data&quot;</span>: [&#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;酒店&quot;</span></span><br><span class="line">   &#125;, &#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;医院&quot;</span></span><br><span class="line">   &#125;, &#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="number">3</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;养老院&quot;</span></span><br><span class="line">   &#125;],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">with open(<span class="string">&#x27;./writeYamlData.yml&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) as <span class="symbol">f:</span><span class="comment">#注意这里文件名一定要用单引号，不然会出现奇怪的错误ing</span></span><br><span class="line">   yaml.dump_all(documents=[apiData1, apiData2], stream=f, allow_unicode=<span class="title class_">True</span>)<span class="comment">#若希望写入单组数据，使用dump,document改data</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="Pandas"><a href="#Pandas" class="headerlink" title="Pandas"></a>Pandas</h1><h2 id="csv"><a href="#csv" class="headerlink" title="csv"></a>csv</h2><h3 id="读取"><a href="#读取" class="headerlink" title="读取"></a>读取</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line">csv_path=<span class="string">&#x27;./result.csv&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用pd.read_csv读取数据</span></span><br><span class="line">contents=pd.read_csv(csv_path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看前几行数据</span></span><br><span class="line">print(contents.head())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看数据的形状，返回（行数、列数）</span></span><br><span class="line">print(contents.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看列表列的名称</span></span><br><span class="line">print(contents.columns)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看索引行</span></span><br><span class="line">print(contents.index)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看每列的数据类型</span></span><br><span class="line">print(contents.dtypes)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol>
<li>获取信息<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 列名</span></span><br><span class="line">print(df.columns)</span><br><span class="line"><span class="comment"># 索引</span></span><br><span class="line">print(df.index)</span><br></pre></td></tr></table></figure></li>
<li>统计数据个数<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"> </span><br><span class="line">df = pd.read_csv(<span class="string">&quot;filename.csv&quot;</span>)</span><br><span class="line">count = df.shape[<span class="number">0</span>]</span><br><span class="line">print(<span class="string">&quot;数据个数：&quot;</span>, count)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><ol>
<li>打印函数<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">print(type(df))  <span class="comment"># pandas.core.frame.DataFrame 类</span></span><br><span class="line">print(df.shape)  <span class="comment"># DataFrame 大小</span></span><br><span class="line">print(df.head(<span class="number">5</span>))  <span class="comment"># 打印头部 5 行</span></span><br><span class="line">print(df.tail(<span class="number">5</span>))  <span class="comment"># 打印尾部 5 行</span></span><br><span class="line">print(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">print(type(df[<span class="string">&#x27;Feature&#x27;</span>]))  <span class="comment"># pandas.core.series.Series 类</span></span><br></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">datacsv = pd.read_table(＇python.csv＇, ＇，＇)</span><br><span class="line"><span class="comment">#将文件内的所有数据全部按照逗号进行分隔。</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="-1"><a href="#-1" class="headerlink" title=""></a></h1><h1 id="-2"><a href="#-2" class="headerlink" title=""></a></h1><h1 id="-3"><a href="#-3" class="headerlink" title=""></a></h1><h1 id="-4"><a href="#-4" class="headerlink" title=""></a></h1><h1 id="Pycharm救命小操作"><a href="#Pycharm救命小操作" class="headerlink" title="Pycharm救命小操作"></a>Pycharm救命小操作</h1><ol>
<li><img src="https://img-blog.csdnimg.cn/20210426203440232.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pmaHNmZGhkZmFqaHNy,size_16,color_FFFFFF,t_70" alt="查看文件历史"></li>
</ol>
]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Kaplan-Meier</title>
    <url>/2024/uncategorized/Kaplan-Meier/</url>
    <content><![CDATA[<h1 id="Kapla-Meier法"><a href="#Kapla-Meier法" class="headerlink" title="Kapla-Meier法"></a>Kapla-Meier法</h1><p>是一种刻画数据的非参数生存函数，直接用概率乘法定理估计生存率，但是不能建立数字模型对多个影响因素进行分析。<br>主要思路：<br>$$<br>S(t_i)&#x3D;S(t_{i-1})(1-\frac{d_i}{n_i})<br>$$</p>
<h2 id="代码：查看总体数据的生存曲线"><a href="#代码：查看总体数据的生存曲线" class="headerlink" title="代码：查看总体数据的生存曲线"></a>代码：查看总体数据的生存曲线</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">10</span>,<span class="number">8</span>)) </span><br><span class="line">kmf = <span class="title class_">KaplanMeierFitter</span>()</span><br><span class="line">kmf.fit(data.tenure,  <span class="comment"># 代表生存时长</span></span><br><span class="line">        event_observed=data.<span class="title class_">Churn</span>,  <span class="comment"># 代表事件的终点</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">kmf.plot_survival_function(at_risk_counts=<span class="title class_">True</span>,ax=ax)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>


]]></content>
      <tags>
        <tag>数据处理</tag>
      </tags>
  </entry>
  <entry>
    <title>codenote</title>
    <url>/2023/%E5%AD%A6%E7%82%B9/codenote/</url>
    <content><![CDATA[<h1 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h1><p>探讨一个算法的实现以及其性能，表示程序运行答题时间。<br>f(n)指的是<strong>一般数据下</strong>运行时间的上界，并非一定是最坏情况，所以要注意：</p>
<ul>
<li>数据用例不同时时间复杂度不同。</li>
<li>时间复杂度不同时，不同输入数据规模下性能也会有差异（就是函数问题）；O是数据量级非常大的情况下表现出的时间复杂度，所以经常会忽略常数项，所以说决定算法并不是只考虑复杂度越低越好还要综合<strong>数据规模</strong></li>
<li>化简：只保留最高次（考虑n很大况）</li>
<li>注意考虑全面’每次操作’的内涵 eg.字符串比较，有字符串自身长度m，排序后比较比直接比较更优</li>
<li>递归的时间复杂度：递归次数*递归中的操作次数；[tips]在递归中要少调用自身函数，建议单独把要调用的函数抽取出来，可以减少时间复杂度(下例时间复杂度n&#x2F;2)<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">int function4(int x, int n) &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> x;</span><br><span class="line">    int t = function4(x, n / <span class="number">2</span>);<span class="regexp">//</span> 这里相对于function3，是把这个递归操作抽取出来</span><br><span class="line">    <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> t * t * x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> t * t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<strong>补充：空间复杂度</strong><br>空间复杂度是程序运行时占用内存的大小，不是exe文件本身大小</li>
</ul>
<h1 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h1><h2 id="二分法"><a href="#二分法" class="headerlink" title="二分法"></a>二分法</h2><h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h2><p>内置函数：<code>sort(pbegin,pend);</code></p>
<h3 id="qsort函数compare"><a href="#qsort函数compare" class="headerlink" title="qsort函数compare"></a>qsort函数<code>compare</code></h3><p>qsort(a,n,bytes(type),compare);</p>
<ul>
<li>是相应的数据类型单个变量所占的字节数</li>
</ul>
<h4 id="Sort-double-array"><a href="#Sort-double-array" class="headerlink" title="Sort double array"></a>Sort double array</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">int n;</span><br><span class="line">double a[N];</span><br><span class="line">int compare(const void *e1, const void *e2)</span><br><span class="line">&#123;</span><br><span class="line">    double v1 = *((double *)e1);</span><br><span class="line">    double v2 = *((double *)e2);</span><br><span class="line">	<span class="keyword">if</span>(v1 &gt; v2) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(v1 &lt; v2) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">qsort(a, n, sizeof(double), compare);</span><br></pre></td></tr></table></figure>
<h4 id="Sort-long-long-array"><a href="#Sort-long-long-array" class="headerlink" title="Sort long long array"></a>Sort long long array</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">int n;</span><br><span class="line">long long a[N];</span><br><span class="line"></span><br><span class="line">int compare(const void *e1, const void *e2)</span><br><span class="line">&#123;</span><br><span class="line">    long long v1 = *((const long long *)e1);</span><br><span class="line">    long long v2 = *((const long long *)e2);</span><br><span class="line">	<span class="keyword">if</span>(v1 &gt; v2) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(v1 &lt; v2) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">qsort(a, n, sizeof(long long), compare);</span><br></pre></td></tr></table></figure>
<h4 id="Sort-array-of-char-array"><a href="#Sort-array-of-char-array" class="headerlink" title="Sort array of char array"></a>Sort array of char array</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">char buf[<span class="number">100</span>][<span class="number">105</span>];</span><br><span class="line">int n;</span><br><span class="line"></span><br><span class="line">qsort(buf, n, sizeof(buf[<span class="number">0</span>]), strcmp);</span><br></pre></td></tr></table></figure>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">/<span class="regexp">/ Sort char* array</span></span><br><span class="line"><span class="regexp">char *lines[100];</span></span><br><span class="line"><span class="regexp">int n;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">int compare(const void *p1, const void *p2)</span></span><br><span class="line"><span class="regexp">&#123;</span></span><br><span class="line"><span class="regexp">    char *a = *(char **)p1;</span></span><br><span class="line"><span class="regexp">    char *b = *(char **)p2;</span></span><br><span class="line"><span class="regexp">    return strcmp(a, b);</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">qsort(lines, n, sizeof(char *), compare);</span></span><br></pre></td></tr></table></figure>
<h4 id="Sort-array-of-int-array"><a href="#Sort-array-of-int-array" class="headerlink" title="Sort array of int array"></a>Sort array of int array</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">int data[<span class="number">100</span>][<span class="number">3</span>];</span><br><span class="line">int n;</span><br><span class="line"></span><br><span class="line">int compare(const void *e1, const void *e2)</span><br><span class="line">&#123;</span><br><span class="line">    int *p1 = (int *)e1;</span><br><span class="line">    int *p2 = (int *)e2;</span><br><span class="line">	<span class="keyword">if</span>(p1[<span class="number">0</span>] &gt; p2[<span class="number">0</span>]) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(p1[<span class="number">0</span>] &lt; p2[<span class="number">0</span>]) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	<span class="regexp">//</span> <span class="title class_">You</span> can use p[<span class="number">1</span>], p[<span class="number">2</span>] as well</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">qsort(buf, n, sizeof(data[<span class="number">0</span>]), compare);</span><br></pre></td></tr></table></figure>

<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h1 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h1><ol>
<li>哈希算法&#x2F;哈希函数：将任意长度的二进制值串映射为固定长度的二进制值串的映射规则；<ul>
<li>其中所依据的目录称为“键”</li>
<li>存放记录的数组称作散列表(Hash Table)</li>
</ul>
</li>
<li>哈希表是根据关键码的值而直接进行访问的数据结构<ul>
<li>比方说通过下标(key)访问数组的值时，数组可以视为哈希表,下标与数组存储的值可以成为一个键值对<code>key-value</code>,在jdk中被称为<code>Entry</code></li>
</ul>
</li>
<li>常用于快速判断一个元素是否出现在集合中（提速）</li>
<li>空间换时间</li>
</ol>
<h2 id="哈希碰撞"><a href="#哈希碰撞" class="headerlink" title="哈希碰撞"></a>哈希碰撞</h2><p>不同数据映射后成为相同的值</p>
<h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><h4 id="拉链法"><a href="#拉链法" class="headerlink" title="拉链法"></a>拉链法</h4><p>将冲突的值储存在同一列表当中，再在链表中检索</p>
<ul>
<li>适当选择哈希表大小，减小哈希表可以降内存，缩短链表可以减少时间</li>
</ul>
<h4 id="线性探测法"><a href="#线性探测法" class="headerlink" title="线性探测法"></a>线性探测法</h4><p>要求:tableSize&gt;dataSize</p>
<ul>
<li>寻找空位存放多余数据</li>
</ul>
<h2 id="常见的三种哈希结构"><a href="#常见的三种哈希结构" class="headerlink" title="常见的三种哈希结构"></a>常见的三种哈希结构</h2><p>数组、几何、映射</p>
<h3 id="集合（set）"><a href="#集合（set）" class="headerlink" title="集合（set）"></a>集合（set）</h3>]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>codings</tag>
      </tags>
  </entry>
  <entry>
    <title>Visualize</title>
    <url>/2023/%E5%AD%A6%E7%82%B9/Visualize/</url>
    <content><![CDATA[<h1 id="Seaborn"><a href="#Seaborn" class="headerlink" title="Seaborn"></a>Seaborn</h1><p><a href="https://blog.csdn.net/qq_42676511/article/details/125178293?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169822574316800185874963%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=169822574316800185874963&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-125178293-null-null.142%5Ev96%5Epc_search_result_base3&utm_term=seaborn&spm=1018.2226.3001.4187">详解seaborn，各种类型的图样！</a><br>Seaborn基本是一个建立于Matplotlib基础上的一个2D绘图库。Seaborn创建在Python核心可视化库Matplotlib的基础上，它旨在作为补充，而不是替代，但是，Seaborn具有一些非常重要的函数。让无涯教程在这里看到其中的一些。函数有助于：</p>
<ul>
<li>内置用于设置matplotlib图形样式的主题</li>
<li>可视化单变量和双变量数据</li>
<li>拟合并可视化线性回归模型</li>
<li>绘制统计时间序列数据</li>
<li>Seaborn与NumPy和Pandas数据结构配合良好</li>
<li>它带有用于为Matplotlib图形设置样式的内置主题</li>
</ul>
<h2 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h2><h3 id="导入库-数据集"><a href="#导入库-数据集" class="headerlink" title="导入库&amp;数据集"></a>导入库&amp;数据集</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">from matplotlib import pyplot as plt</span><br><span class="line">import seaborn as sb</span><br><span class="line">import numpy as np</span><br></pre></td></tr></table></figure>
<ol>
<li>默认情况下数据集作为Pandas DataFrame加载<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">df=sb.load_dataset(<span class="string">&#x27;tips&#x27;</span>)</span><br><span class="line">print df.head() <span class="comment">#可以输出列表</span></span><br></pre></td></tr></table></figure></li>
<li>查看可用数据集：<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">print sb.get_dataset_names()</span><br></pre></td></tr></table></figure></li>
<li>DataFrame以矩形网络的形式存储数据，每一行都包含一个值，每一列都是一个向量，用于保存特定变量的数据。<br>行不需要包含相同数据类型的值！数字字符逻辑都可以。</li>
</ol>
<h3 id="简单的呈现代码！"><a href="#简单的呈现代码！" class="headerlink" title="简单的呈现代码！"></a>简单的呈现代码！</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sinplot</span>(<span class="params">flip=<span class="number">1</span></span>):</span><br><span class="line">   x=np.linspace(<span class="number">0</span>, <span class="number">14</span>, <span class="number">100</span>)</span><br><span class="line">   <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">5</span>): </span><br><span class="line">      plt.plot(x, np.sin(x + i * .<span class="number">5</span>) * (<span class="number">7</span> - i) * flip)</span><br><span class="line"><span class="comment">#sb.set() #更改为Seaborn的默认值，背景上会有灰色的网格，不加就是纯白色背景</span></span><br><span class="line">sb.displot()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>Seaborn带有自定义主题和高级页面，用于自定义和控制外观。<br>注释后是默认Matplotlib图，注释前是Seaborn默认图。</p>
<h4 id="displot-histplot"><a href="#displot-histplot" class="headerlink" title="displot &amp; histplot"></a><code>displot &amp; histplot</code></h4><p><a href="https://gist.github.com/mwaskom/de44147ed2974457ad6372750bbe5751">一个对于displot&amp;histplot呈现方式的官方文档说明</a></p>
<ul>
<li><code>displot</code>可以呈现直方图(histogram)和有层理的核密度估计图(KDE kernel density estimate)，y轴是密度</li>
<li><code>histplot</code>会展现一个更标准的计数直方图，y轴是计数</li>
<li>默认情况下，<code>distplot</code> 使用 Freedman-Diaconis 规则，但显示的条形图不超过 50 个。<code>histplot</code> 完全将二进制选择委托给 numpy 的 “自动 “默认设置，它可以根据数据特征使用不同的参考规则，并且可以在大型数据集中选择非常窄的条形宽度。您可能需要指定上限（bins&#x3D;50），以完全重现以前的图表。</li>
<li>状态设置参考：<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>hist</code></td>
<td>bool</td>
<td>是否使用直方图</td>
</tr>
<tr>
<td><code>xlabel</code>&#x2F;<code>ylabel</code></td>
<td>str</td>
<td>x，y的坐标含义</td>
</tr>
<tr>
<td><code>kde</code></td>
<td>bool</td>
<td>是否启用核心密度估计，可以让直方图和曲线比较好地耦合，但是如果想要更好就写入<code>stat = &quot;density&quot;</code>;kde曲线会溢出直方图，只覆盖histplot中数据地实际范围，更宽的范围展示可以使用<code>kde_kws = dict(cut=3)</code></td>
</tr>
<tr>
<td><code>rug</code></td>
<td>bool</td>
<td>是否添加底部阴影</td>
</tr>
<tr>
<td><code>stat</code></td>
<td>density</td>
<td>纵轴默认为count 设定后为密度</td>
</tr>
<tr>
<td><code>common_norm </code></td>
<td>cool</td>
<td>若为True，则直方图高度显示频率而非计数</td>
</tr>
<tr>
<td>&#96;&#96;</td>
<td></td>
<td></td>
</tr>
</tbody></table>
</li>
<li>一种直方图与曲线更好拟合的方法<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">sns.histplot(</span><br><span class="line">    df[<span class="string">&quot;flipper_length_mm&quot;</span>], kde=<span class="title class_">True</span>,</span><br><span class="line">    stat=<span class="string">&quot;density&quot;</span>, kde_kws=dict(cut=<span class="number">3</span>),</span><br><span class="line">    alpha=.<span class="number">4</span>, edgecolor=(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, .<span class="number">4</span>),</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="kdeplot"><a href="#kdeplot" class="headerlink" title="kdeplot"></a>kdeplot</h4><ul>
<li>状态设置参考：<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>shade</code></td>
<td>bool</td>
<td>是否添加曲线下阴影</td>
</tr>
</tbody></table>
</li>
</ul>
<h2 id="界面样式设置"><a href="#界面样式设置" class="headerlink" title="界面样式设置"></a>界面样式设置</h2><h3 id="整体图的操作"><a href="#整体图的操作" class="headerlink" title="整体图的操作"></a>整体图的操作</h3><table>
<thead>
<tr>
<th>操作</th>
<th>代码</th>
<th>可设定值</th>
</tr>
</thead>
<tbody><tr>
<td>主题样式</td>
<td><code>.setstyle()</code></td>
<td>(双引号引出)darkgrid&#x2F;whitegrid&#x2F;dark&#x2F;white&#x2F;ticks</td>
</tr>
<tr>
<td>刻度删除</td>
<td><code>sb.despine()</code></td>
<td></td>
</tr>
<tr>
<td>缩放绘图元素、控制图比例</td>
<td><code>set_context</code></td>
<td>四个用于上下文的预设模板，基于相对大小，上下文命名：paper&#x2F;notebook&#x2F;talk&#x2F;poster</td>
</tr>
<tr>
<td>自定义样式</td>
<td>传参给<code>set_style()</code></td>
<td>print(sb.axes_style)</td>
</tr>
<tr>
<td>输出如下：</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">&#x27;axes.axisbelow&#x27;</span>     : <span class="title class_">False</span>,</span><br><span class="line"><span class="string">&#x27;axes.edgecolor&#x27;</span>      : <span class="string">&#x27;white&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;axes.facecolor&#x27;</span>      : <span class="string">&#x27;#EAEAF2&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;axes.grid&#x27;</span>           : <span class="title class_">True</span>,</span><br><span class="line"><span class="string">&#x27;axes.labelcolor&#x27;</span>     : <span class="string">&#x27;.15&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;axes.linewidth&#x27;</span>      : <span class="number">0.0</span>,</span><br><span class="line"><span class="string">&#x27;figure.facecolor&#x27;</span>    : <span class="string">&#x27;white&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;font.family&#x27;</span>         : [u<span class="string">&#x27;sans-serif&#x27;</span>],</span><br><span class="line"><span class="string">&#x27;font.sans-serif&#x27;</span>     : [u<span class="string">&#x27;Arial&#x27;</span>, u<span class="string">&#x27;Liberation  </span></span><br><span class="line"><span class="string">                        Sans&#x27;</span>, u<span class="string">&#x27;Bitstream Vera Sans&#x27;</span>, u<span class="string">&#x27;sans-serif&#x27;</span>],</span><br><span class="line"><span class="string">&#x27;grid.color&#x27;</span>          : <span class="string">&#x27;white&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;grid.linestyle&#x27;</span>      : u<span class="string">&#x27;-&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;image.cmap&#x27;</span>          : u<span class="string">&#x27;Greys&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;legend.frameon&#x27;</span>      : <span class="title class_">False</span>,</span><br><span class="line"><span class="string">&#x27;legend.numpoints&#x27;</span>    : <span class="number">1</span>,</span><br><span class="line"><span class="string">&#x27;legend.scatterpoints&#x27;</span>: <span class="number">1</span>,</span><br><span class="line"><span class="string">&#x27;lines.solid_capstyle&#x27;</span>: u<span class="string">&#x27;round&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;text.color&#x27;</span>          : <span class="string">&#x27;.15&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;xtick.color&#x27;</span>         : <span class="string">&#x27;.15&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;xtick.direction&#x27;</span>     : u<span class="string">&#x27;out&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;xtick.major.size&#x27;</span>    : <span class="number">0.0</span>,</span><br><span class="line"><span class="string">&#x27;xtick.minor.size&#x27;</span>    : <span class="number">0.0</span>,</span><br><span class="line"><span class="string">&#x27;ytick.color&#x27;</span>         : <span class="string">&#x27;.15&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;ytick.direction&#x27;</span>     : u<span class="string">&#x27;out&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;ytick.major.size&#x27;</span>    : <span class="number">0.0</span>,</span><br><span class="line"><span class="string">&#x27;ytick.minor.size&#x27;</span>    : <span class="number">0.0</span>&#125;</span><br></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">sb.set_style(<span class="string">&quot;darkgrid&quot;</span>, &#123;<span class="string">&#x27;axes.axisbelow&#x27;</span>: <span class="title class_">False</span>&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="调色板"><a href="#调色板" class="headerlink" title="调色板"></a>调色板</h3><ol>
<li><code>color_palette()</code>可以直接为绘图赋予颜色并添加更多的美学价值<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">seaborn.color_palette(palette=<span class="title class_">None</span>, n_colors=<span class="title class_">None</span>, desat=<span class="title class_">None</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li><code>n_colors</code>是调色板的颜色数，如果为None，则默认值取决于如何制定调色板，默认状态下为六种颜色。</li>
<li><code>desat</code>指每种颜色去饱和的比例。</li>
<li>返回值是RGB元组的列表</li>
<li>现成调色板：<code>Deep``muted``bright``pastel``dark``colorblind</code></li>
</ul>
<ol start="2">
<li><code>seaborn.palplot()</code>将调色板绘制为水平阵列。</li>
</ol>
<h4 id="定性调色板"><a href="#定性调色板" class="headerlink" title="定性调色板"></a>定性调色板</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">current_palette=sb.color_palette()</span><br><span class="line">sb.palplot(current_palette) <span class="comment">#用于水平绘制颜色阵列</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p> 默认会看到六种颜色，可以给<code>n_color</code>传参来查看所需颜色的数量</p>
<h4 id="顺序调色板"><a href="#顺序调色板" class="headerlink" title="顺序调色板"></a>顺序调色板</h4><p><strong>顺序图适合于表示范围内从相对较低值到较高值的数据分布</strong><br>给color参数上加一个“s”会绘制顺序图</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">current_palette=sb.color_palette()</span><br><span class="line">sb.palplot(sb.color_palette(&quot;Greens&quot;))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h4 id="分散调色板"><a href="#分散调色板" class="headerlink" title="分散调色板"></a>分散调色板</h4><p>不同的调色板使用两种不同的颜色，每种颜色代表值从任一方向上的公共点变化。<br>假定绘制范围为-1到1的数据，值-1到0代表一种颜色，0到+1代表另一种颜色。<br>默认情况下，值从零开始居中，您可以通过传递值来使用参数中心来控制它。</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">current_palette=sb.color_palette()</span><br><span class="line">sb.palplot(sb.color_palette(<span class="string">&quot;BrBG&quot;</span>, <span class="number">7</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>其中7表示调色板上有七种颜色。</p>
<h4 id="设置默认调色板"><a href="#设置默认调色板" class="headerlink" title="设置默认调色板"></a>设置默认调色板</h4><p>函数 <code>color_palette()</code>具有一个名为 <code>set_palette()</code>的函数。<br> <code>set_palette()</code>和 <code>color_palette()</code>的参数相同，但默认的Matplotlib参数已更改，因此调色板可用于所有绘图</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sinplot</span>(<span class="params">flip=<span class="number">1</span></span>):</span><br><span class="line">   x=np.linspace(<span class="number">0</span>, <span class="number">14</span>, <span class="number">100</span>)</span><br><span class="line">   <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">5</span>):</span><br><span class="line">      plt.plot(x, np.sin(x + i * .<span class="number">5</span>) * (<span class="number">7</span> - i) * flip)</span><br><span class="line"></span><br><span class="line">import seaborn as sb</span><br><span class="line">sb.set_style(<span class="string">&quot;white&quot;</span>)</span><br><span class="line">sb.set_palette(<span class="string">&quot;husl&quot;</span>)</span><br><span class="line">sinplot()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h4 id="绘制单变量分布"><a href="#绘制单变量分布" class="headerlink" title="绘制单变量分布"></a>绘制单变量分布</h4><p>seaborn可以帮助理解数据的单变量分布<br><code>seaborn.sidtplot()</code>提供最快查看单变量分布的方法，可以绘制适合数据和密度估计的直方图。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>remark</th>
</tr>
</thead>
<tbody><tr>
<td><code>data</code></td>
<td>一维数组或列表</td>
</tr>
<tr>
<td><code>bins</code></td>
<td><code>hist bins</code>的规格</td>
</tr>
<tr>
<td><code>hist</code></td>
<td>bool</td>
</tr>
<tr>
<td><code>kde</code></td>
<td>bool</td>
</tr>
</tbody></table>
<h1 id="matplotlib画入pyqt5"><a href="#matplotlib画入pyqt5" class="headerlink" title="matplotlib画入pyqt5"></a>matplotlib画入pyqt5</h1><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">import sys</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from <span class="title class_">PyQt5</span>.<span class="title class_">QtWidgets</span> import <span class="title class_">QApplication</span>, <span class="title class_">QMainWindow</span>, <span class="title class_">QVBoxLayout</span>, <span class="title class_">QWidget</span></span><br><span class="line">from matplotlib.backends.backend_qt5agg import <span class="title class_">FigureCanvasQTAgg</span> as <span class="title class_">FigureCanvas</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MatplotlibWindow</span>(<span class="title class_">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">        <span class="variable language_">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params"><span class="variable language_">self</span></span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;Matplotlib in PyQt&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建Matplotlib图形</span></span><br><span class="line">        <span class="variable language_">self</span>.figure = plt.figure()</span><br><span class="line">        <span class="variable language_">self</span>.canvas = <span class="title class_">FigureCanvas</span>(<span class="variable language_">self</span>.figure)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建一个垂直布局并将Matplotlib图形添加到其中</span></span><br><span class="line">        layout = <span class="title class_">QVBoxLayout</span>()</span><br><span class="line">        layout.addWidget(<span class="variable language_">self</span>.canvas)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建一个QWidget并将布局设置为其主布局</span></span><br><span class="line">        main_widget = <span class="title class_">QWidget</span>(<span class="variable language_">self</span>)</span><br><span class="line">        main_widget.setLayout(layout)</span><br><span class="line">        <span class="variable language_">self</span>.setCentralWidget(main_widget)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建一个Matplotlib子图</span></span><br><span class="line">        <span class="variable language_">self</span>.ax = <span class="variable language_">self</span>.figure.add_subplot(<span class="number">111</span>)</span><br><span class="line">        <span class="variable language_">self</span>.ax.set_title(<span class="string">&#x27;Matplotlib in PyQt&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 绘制一个简单的图形</span></span><br><span class="line">        <span class="variable language_">self</span>.ax.plot([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">10</span>, <span class="number">5</span>, <span class="number">20</span>, <span class="number">8</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 更新Matplotlib图形</span></span><br><span class="line">        <span class="variable language_">self</span>.canvas.draw()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    app = <span class="title class_">QApplication</span>(sys.argv)</span><br><span class="line">    window = <span class="title class_">MatplotlibWindow</span>()</span><br><span class="line">    window.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="ITK"><a href="#ITK" class="headerlink" title="ITK"></a>ITK</h1><p><a href="https://developer.aliyun.com/article/930218">ITK在cmake上配置的一个非常棒的教程</a></p>
<h1 id="VTK"><a href="#VTK" class="headerlink" title="VTK"></a>VTK</h1><h2 id=""><a href="#" class="headerlink" title=""></a></h2><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import nibabel as nib</span><br><span class="line">from ipywidgets import interact, interactive, <span class="title class_">IntSlider</span>, <span class="title class_">ToggleButtons</span></span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import matplotlib</span><br><span class="line">matplotlib.use(<span class="string">&#x27;TkAgg&#x27;</span>)</span><br><span class="line"><span class="comment">#%matplotlib inline</span></span><br><span class="line">import seaborn as sns</span><br><span class="line">sns.set_style(<span class="string">&#x27;darkgrid&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">explore_3dimage</span>(<span class="params">layer</span>):</span><br><span class="line">    plt.figure(figsize=(<span class="number">10</span>, <span class="number">5</span>))</span><br><span class="line">    plt.imshow(image_data[<span class="symbol">:</span>, <span class="symbol">:</span>, layer], cmap=<span class="string">&#x27;gray&#x27;</span>);</span><br><span class="line">    plt.title(<span class="string">&#x27;Explore Layers of adrenal&#x27;</span>, fontsize=<span class="number">20</span>)</span><br><span class="line">    plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> layer</span><br><span class="line"></span><br><span class="line">image_path = <span class="string">&quot;./brain1_image.nii.gz&quot;</span></span><br><span class="line">image_obj = nib.load(image_path)</span><br><span class="line">print(f<span class="string">&#x27;Type of the image &#123;type(image_obj)&#125;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">image_data = image_obj.get_fdata()</span><br><span class="line">type(image_data)</span><br><span class="line"></span><br><span class="line">height, width, depth = image_data.shape</span><br><span class="line">print(f<span class="string">&quot;The image object height: &#123;height&#125;, width:&#123;width&#125;, depth:&#123;depth&#125;&quot;</span>)</span><br><span class="line">print(f<span class="string">&#x27;image value range: [&#123;image_data.min()&#125;, &#123;image_data.max()&#125;]&#x27;</span>)</span><br><span class="line">print(image_obj.header.keys())</span><br><span class="line"></span><br><span class="line">pixdim =  image_obj.header[<span class="string">&#x27;pixdim&#x27;</span>]</span><br><span class="line">print(f<span class="string">&#x27;z轴分辨率： &#123;pixdim[3]&#125;&#x27;</span>)</span><br><span class="line">print(f<span class="string">&#x27;in plane 分辨率： &#123;pixdim[1]&#125; * &#123;pixdim[2]&#125;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">z_range = pixdim[<span class="number">3</span>] * depth</span><br><span class="line">x_range = pixdim[<span class="number">1</span>] * height</span><br><span class="line">y_range = pixdim[<span class="number">2</span>] * width</span><br><span class="line">print(x_range, y_range, z_range)</span><br><span class="line"></span><br><span class="line">maxval = <span class="number">25</span></span><br><span class="line">i = np.random.randint(<span class="number">0</span>, maxval)</span><br><span class="line"><span class="comment"># Define a channel to look at</span></span><br><span class="line">print(f<span class="string">&quot;Plotting z Layer &#123;i&#125; of Image&quot;</span>)</span><br><span class="line">plt.imshow(image_data[<span class="number">0</span>, <span class="symbol">:</span>, <span class="symbol">:</span>], cmap=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.axis(<span class="string">&#x27;off&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#interact(explore_3dimage, layer=(0, image_data.shape[-1]));</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>




<h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><h2 id="-2"><a href="#-2" class="headerlink" title=""></a></h2><h2 id="一点报错"><a href="#一点报错" class="headerlink" title="一点报错"></a>一点报错</h2><blockquote>
<p>module ‘backend_interagg’ has no attribute ‘FigureCanvas’. Did you mean: ‘FigureCanvasAgg’?</p>
</blockquote>
<p>解决：加入代码</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">import matplotlib</span><br><span class="line">matplotlib.use(<span class="string">&#x27;TkAgg&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/qlkaicx/article/details/134068734">解释</a><br><code>matplotlib.use(&#39;TkAgg&#39;)</code> 这行代码是用于设置 Matplotlib 库的后端。后端是用于实现图形绘制和用户界面的库。Matplotlib 支持多种后端，例如 <code>‘TkAgg’</code>、<code>‘Qt5Agg’</code>、<code>‘GTK3Agg’</code> 等。</p>
<p>在这行代码中，<code>‘TkAgg’</code> 是后端的名称，而 <code>matplotlib.use()</code> 函数用于指定使用哪种后端。在这个例子中，你告诉 Matplotlib 使用 <code>‘TkAgg’</code> 后端。</p>
<p>Matplotlib 默认使用 <code>‘TkAgg’ </code>后端，但有时你可能希望更改默认后端以利用特定 GUI 工具包的特性。例如，如果你希望使用 Qt5 而不是 Tkinter，你可以通过调用<code> matplotlib.use(&#39;Qt5Agg&#39;)</code> 来实现。</p>
<p>需要注意的是，更改后端会影响所有后续的图形绘制，因此如果你在代码的不同部分使用不同的后端，你需要在每个需要使用特定后端的代码部分之前调用 <code>matplotlib.use()</code>。</p>
]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>数据处理</tag>
        <tag>可视化</tag>
      </tags>
  </entry>
  <entry>
    <title>coding_records</title>
    <url>/2024/%E5%AD%A6%E7%82%B9/coding-records/</url>
    <content><![CDATA[<h1 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h1><h2 id="二分"><a href="#二分" class="headerlink" title="二分"></a>二分</h2><h3 id="35-搜索插入位置（升序不重复）"><a href="#35-搜索插入位置（升序不重复）" class="headerlink" title="35. 搜索插入位置（升序不重复）"></a>35. 搜索插入位置（升序不重复）</h3><p>给定一个排序数组和一个目标值，在数组中找到目标值，并返回其索引。如果目标值不存在于数组中，返回它将会被按顺序插入的位置。</p>
<ul>
<li>建议可以复刻一下算法过程，实际上当target &lt; nums[mid] 时，返回值并不需要-1</li>
<li><strong><code>.size()</code>返回的是长度，要-1！</strong><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    int searchInsert(vector&lt;int&gt;&amp; nums, int target) &#123;</span><br><span class="line">        int l=<span class="number">0</span>, r=nums.size()-<span class="number">1</span>;    <span class="regexp">//</span>注意size()</span><br><span class="line">        int flag = <span class="number">0</span>;</span><br><span class="line">        int mid = (l+r) /<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] == target)&#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &lt; target)</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(l&lt;=r) mid = (l+r) /<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] &gt; target)&#123;</span><br><span class="line">            <span class="keyword">return</span> mid; <span class="regexp">//</span>就是这里！画图复现一边代码就能看出来这里不-<span class="number">1</span>！</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            <span class="keyword">return</span> mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="34-搜索指定数的重复区间（上下界bysearch）"><a href="#34-搜索指定数的重复区间（上下界bysearch）" class="headerlink" title="34. 搜索指定数的重复区间（上下界bysearch）"></a>34. 搜索指定数的重复区间（上下界bysearch）</h3><h4 id="常规二分（两遍时间复杂度不变）"><a href="#常规二分（两遍时间复杂度不变）" class="headerlink" title="常规二分（两遍时间复杂度不变）"></a>常规二分（两遍时间复杂度不变）</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    vector&lt;int&gt; searchRange(vector&lt;int&gt;&amp; nums, int target) &#123;</span><br><span class="line">        int l = <span class="number">0</span>,r = nums.size()-<span class="number">1</span>;</span><br><span class="line">        int mid1 = (l+r) / <span class="number">2</span>;</span><br><span class="line">        int mid2 = (l+r) / <span class="number">2</span>;</span><br><span class="line">        int f = <span class="number">0</span>,ans1,ans2;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid1] == target) ans1 = mid1,f=<span class="number">1</span>;   <span class="regexp">//</span>需要判定区间边界是否要包含在内</span><br><span class="line">            <span class="keyword">if</span>( nums[mid1] &gt;= target)</span><br><span class="line">                r = mid1 -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                l = mid1 + <span class="number">1</span>;</span><br><span class="line">            mid1 = (l+r) /<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        l = <span class="number">0</span>,r = nums.size()-<span class="number">1</span>;    <span class="regexp">//</span>重复使用变量需要初始化</span><br><span class="line">        <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid2]==target)</span><br><span class="line">                ans2 = mid2;</span><br><span class="line">            <span class="keyword">if</span>( nums[mid2] &lt;= target)</span><br><span class="line">                l = mid2 + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                r = mid2 -<span class="number">1</span>;</span><br><span class="line">            mid2 = (l+r) /<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(f == <span class="number">1</span>)              /<span class="regexp">/不知道为啥这里判定就是会报错。。</span></span><br><span class="line"><span class="regexp">            return &#123;ans1, ans2&#125;;</span></span><br><span class="line"><span class="regexp">        return &#123;-1,-1&#125;;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>
<h4 id="bysearch解法"><a href="#bysearch解法" class="headerlink" title="bysearch解法"></a>bysearch解法</h4><p>思路：找到一个大于等于target的最小下标，再找一个大于target的最小下标</p>
<ul>
<li>把不一样的问题整理成一样的问题可以减少代码量<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123; </span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    int binarySearch(vector&lt;int&gt;&amp; nums, int target, bool type)&#123;</span><br><span class="line">        <span class="regexp">//bool</span>用来判断是大于等于还是大于,type=<span class="number">1</span>时筛选大于等于</span><br><span class="line">        int l = <span class="number">0</span>,r = nums.size()-<span class="number">1</span>,ans=-<span class="number">1</span>;</span><br><span class="line">        int mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid]==target) ans=mid;<span class="regexp">//mid</span>是一个中间量，需要ans来记录符合条件的值</span><br><span class="line">            <span class="keyword">if</span>(nums[mid]&gt;target |<span class="params"></span>| (type &amp;&amp; nums[mid] &gt;= target))&#123;</span><br><span class="line">                r = mid -<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                l = mid +<span class="number">1</span>;</span><br><span class="line">            mid =(l+r)/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>  ans;</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;int&gt; searchRange(vector&lt;int&gt;&amp; nums, int target) &#123;</span><br><span class="line">        int left = binarySearch(nums,target,<span class="number">1</span>);</span><br><span class="line">        int right = binarySearch(nums,target,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(left &gt;= <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> &#123;left,right&#125;; <span class="regexp">//vector</span>类型的返回方式</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            <span class="keyword">return</span> &#123;-<span class="number">1</span>,-<span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="977-有序数组的平方（双指针）"><a href="#977-有序数组的平方（双指针）" class="headerlink" title="977.有序数组的平方（双指针）"></a>977.有序数组的平方（双指针）</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    vector&lt;int&gt; sortedSquares(vector&lt;int&gt;&amp; nums) &#123;</span><br><span class="line">        int l = <span class="number">0</span>, r = nums.size()-<span class="number">1</span>;</span><br><span class="line">        vector&lt;int&gt; ans(nums.size());</span><br><span class="line">        int i = nums.size()-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">            int res1 = nums[l]*nums[l];</span><br><span class="line">            int res2 = nums[r]*nums[r];</span><br><span class="line">            <span class="keyword">if</span>(res1 &gt; res2)&#123;</span><br><span class="line">                ans[i] = res1;</span><br><span class="line">                l++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                ans[i]=res2;</span><br><span class="line">                r--;</span><br><span class="line">            &#125;</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="滑动窗口"><a href="#滑动窗口" class="headerlink" title="滑动窗口"></a>滑动窗口</h3><h4 id="209-长度最小的子数组"><a href="#209-长度最小的子数组" class="headerlink" title="209.长度最小的子数组"></a>209.长度最小的子数组</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    int minSubArrayLen(int s, vector&lt;int&gt;&amp; nums) &#123;</span><br><span class="line">        int result = <span class="variable constant_">INT32_MAX</span>;</span><br><span class="line">        int sum = <span class="number">0</span>; <span class="regexp">//</span> 滑动窗口数值之和</span><br><span class="line">        int i = <span class="number">0</span>; <span class="regexp">//</span> 滑动窗口起始位置</span><br><span class="line">        int subLength = <span class="number">0</span>; <span class="regexp">//</span> 滑动窗口的长度</span><br><span class="line">        <span class="keyword">for</span> (int j = <span class="number">0</span>; j &lt; nums.size(); j++) &#123;</span><br><span class="line">            sum += nums[j];</span><br><span class="line">            <span class="regexp">//</span> 注意这里使用<span class="keyword">while</span>，每次更新 i（起始位置），并不断比较子序列是否符合条件</span><br><span class="line">            <span class="keyword">while</span> (sum &gt;= s) &#123;</span><br><span class="line">                subLength = (j - i + <span class="number">1</span>); <span class="regexp">//</span> 取子序列的长度</span><br><span class="line">                result = result &lt; subLength ? result : subLength;</span><br><span class="line">                sum -= nums[i++]; <span class="regexp">//</span> 这里体现出滑动窗口的精髓之处，不断变更i（子序列的起始位置）</span><br><span class="line">                /<span class="regexp">/先减随后i自加</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/ 如果result没有被赋值的话，就返回0，说明没有符合条件的子序列</span></span><br><span class="line"><span class="regexp">        return result == INT32_MAX ? 0 : result;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>
<h5 id="一个我写的的代码"><a href="#一个我写的的代码" class="headerlink" title="一个我写的的代码"></a>一个我写的的代码</h5><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    int minSubArrayLen(int target, vector&lt;int&gt;&amp; nums) &#123;</span><br><span class="line">        int i=<span class="number">0</span>,ans=<span class="number">100001</span>;</span><br><span class="line">        int sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(int j=<span class="number">0</span>;j&lt;nums.size();j++)&#123;</span><br><span class="line">            sum += nums[j];</span><br><span class="line">            <span class="keyword">while</span>(sum&gt;=target &amp;&amp; i&lt;=j)&#123;</span><br><span class="line">                int count = j-i+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span>(ans&gt;count) ans=count; <span class="regexp">//</span>注意先判定更新ans再操作</span><br><span class="line">                sum -= nums[i];</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ans==<span class="number">100001</span>) ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="438-找到字符串中所有字母异位词"><a href="#438-找到字符串中所有字母异位词" class="headerlink" title="438.找到字符串中所有字母异位词"></a>438.找到字符串中所有字母异位词</h4><h5 id="啊啊啊啊啊啊啊啊啊啊啊啊为什么不对啊啊啊啊啊啊啊啊啊啊啊啊"><a href="#啊啊啊啊啊啊啊啊啊啊啊啊为什么不对啊啊啊啊啊啊啊啊啊啊啊啊" class="headerlink" title="啊啊啊啊啊啊啊啊啊啊啊啊为什么不对啊啊啊啊啊啊啊啊啊啊啊啊"></a>啊啊啊啊啊啊啊啊啊啊啊啊为什么不对啊啊啊啊啊啊啊啊啊啊啊啊</h5><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    vector&lt;int&gt; findAnagrams(string s, string p) &#123;</span><br><span class="line">        int m=s.length(),n=p.length();</span><br><span class="line">        int pp=<span class="number">0</span>;</span><br><span class="line">        vector&lt;int&gt; ans;</span><br><span class="line">        <span class="keyword">while</span>(pp&lt;(m-n))&#123;</span><br><span class="line">            int a[<span class="number">30</span>]=&#123;<span class="number">0</span>&#125;,flag=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(int i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">                a[p[i]-<span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(int i=pp;i&lt;pp+n-<span class="number">1</span>;i++)&#123;</span><br><span class="line">                a[p[i]]--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(int i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i]!=<span class="number">0</span>) &#123;</span><br><span class="line">                    flag=<span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">                ans.push_back(pp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h4 id="904-水果成篮-好难捏"><a href="#904-水果成篮-好难捏" class="headerlink" title="904.水果成篮(好难捏)"></a><strong>904.<a href="https://leetcode.cn/problems/fruit-into-baskets/description/">水果成篮(好难捏)</a></strong></h4><h5 id="官方解"><a href="#官方解" class="headerlink" title="官方解"></a>官方解</h5><p>我们可以使用滑动窗口解决本题，$\textit{left}$ 和 $\textit{right}$ 分别表示满足要求的窗口的左右边界，同时我们使用哈希表存储这个窗口内的数以及出现的次数。</p>
<p>我们每次将 right\textit{right}right 移动一个位置，并将 fruits[right]$\textit{fruits}$[$\textit{right}$]fruits[right] 加入哈希表。如果此时哈希表不满足要求（即哈希表中出现超过两个键值对），那么我们需要不断移动 left\textit{left}left，并将 $fruits[left]\textit{fruits}[\textit{left}]fruits[left]$ 从哈希表中移除，直到哈希表满足要求为止。</p>
<p>需要注意的是，将 $fruits[left]\textit{fruits}[\textit{left}]fruits[left]$ 从哈希表中移除后，如果 $fruits[left]\textit{fruits}[\textit{left}]fruits[left]$ 在哈希表中的出现次数减少为 000，需要将对应的键值对从哈希表中移除。</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    int totalFruit(vector&lt;int&gt;&amp; fruits) &#123;</span><br><span class="line">        int n = fruits.size();</span><br><span class="line">        unordered_map&lt;int, int&gt; cnt;</span><br><span class="line"></span><br><span class="line">        int left = <span class="number">0</span>, ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (int right = <span class="number">0</span>; right &lt; n; ++right) &#123;</span><br><span class="line">            ++cnt[fruits[right]];</span><br><span class="line">            <span class="keyword">while</span> (cnt.size() &gt; <span class="number">2</span>) &#123;</span><br><span class="line">                auto it = cnt.find(fruits[left]);</span><br><span class="line">                --it-&gt;second;</span><br><span class="line">                <span class="keyword">if</span> (it-&gt;second == <span class="number">0</span>) &#123;</span><br><span class="line">                    cnt.erase(it);</span><br><span class="line">                &#125;</span><br><span class="line">                ++left;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = max(ans, right - left + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">作者：力扣官方题解</span><br><span class="line">链接：<span class="symbol">https:</span>/<span class="regexp">/leetcode.cn/problems</span><span class="regexp">/fruit-into-baskets/solutions</span><span class="regexp">/1893352/shui</span>-guo-cheng-lan-by-leetcode-solution-1uyu/</span><br><span class="line">来源：力扣（<span class="title class_">LeetCode</span>）</span><br><span class="line">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure>
<h5 id="详解"><a href="#详解" class="headerlink" title="详解"></a>详解</h5><p>无注释版</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    int totalFruit(vector&lt;int&gt;&amp; fruits) &#123;</span><br><span class="line">        <span class="keyword">if</span>(fruits.size()&lt;<span class="number">3</span>) <span class="keyword">return</span> fruits.size();</span><br><span class="line">        int mn=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(int j=<span class="number">0</span>,f1=<span class="number">0</span>,f2=<span class="number">0</span>,t=<span class="number">0</span>;j&lt;fruits.size();j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(fruits[j]!=fruits[f1]&amp;&amp;fruits[j]!=fruits[f2])&#123;</span><br><span class="line">                <span class="keyword">if</span>(f1!=f2) f1=t;</span><br><span class="line">                f2=j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(fruits[t]!=fruits[j]) t=j;</span><br><span class="line">            mn=mn&gt;(j-f1+<span class="number">1</span>)<span class="string">?m</span><span class="symbol">n:</span>(j-f1+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>有注释版</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    int totalFruit(vector&lt;int&gt;&amp; fruits) &#123;</span><br><span class="line">        <span class="regexp">//</span>当fruits数组长度≤<span class="number">2</span>，则直接返回fruits数组长度</span><br><span class="line">        <span class="keyword">if</span>(fruits.size()&lt;<span class="number">3</span>) <span class="keyword">return</span> fruits.size();</span><br><span class="line"><span class="regexp">//ans</span>为结果，即fruits数组中包含两个不同水果类型的最大子序列长度</span><br><span class="line">        int ans=<span class="number">0</span>;</span><br><span class="line"><span class="regexp">/*j为遍历fruits数组的指针，也是滑动窗口的右边界，f1,f2分别为第一个和第二个篮子</span></span><br><span class="line"><span class="regexp">的起始索引，f1同时也是滑动窗口的左边界，t为未来两个篮子里的第一个篮子的起始索</span></span><br><span class="line"><span class="regexp">引*/</span></span><br><span class="line">        <span class="keyword">for</span>(int j=<span class="number">0</span>,f1=<span class="number">0</span>,f2=<span class="number">0</span>,t=<span class="number">0</span>;j&lt;fruits.size();j++)</span><br><span class="line">        &#123;</span><br><span class="line"><span class="regexp">/*当f1=f2时，fruits[j]!=fruits[f1]&amp;&amp;fruits[j]!=fruits[f2]说明遇到的是第二个篮子</span></span><br><span class="line"><span class="regexp">要装的第二种水果；当f1!=f2时，fruits[j]!=fruits[f1]&amp;&amp;fruits[j]!=fruits[f2]说明</span></span><br><span class="line"><span class="regexp">遇到的是第三种水果*/</span></span><br><span class="line">            <span class="keyword">if</span>(fruits[j]!=fruits[f1]&amp;&amp;fruits[j]!=fruits[f2])</span><br><span class="line">            &#123;</span><br><span class="line"><span class="regexp">/*当f1=f2时，说明第一个篮子已经装了一种水果，第二个篮子里还没有装，不更新f1，</span></span><br><span class="line"><span class="regexp">只更新f2，即往第二个篮子里装第二种水果；</span></span><br><span class="line"><span class="regexp">当f1!=f2时，fruits[j]!=fruits[f1]&amp;&amp;fruits[j]!=fruits[f2]说明遇到的是第三种水果，</span></span><br><span class="line"><span class="regexp">则更新f1和f2，即当前两个篮子的两种水果已装满，更新f1和f2为未来两个篮子里的两种</span></span><br><span class="line"><span class="regexp">水果*/</span></span><br><span class="line">                <span class="keyword">if</span>(f1!=f2) f1=t;</span><br><span class="line">                f2=j;</span><br><span class="line">            &#125;</span><br><span class="line">/*t寻找未来两个篮子中第一个篮子要装的一种水果的起始索引，每次t与当前的j作对比，</span><br><span class="line">当fruits[t]!=fruits[j]时，更新t=j*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">            if(fruits[t]!=fruits[j]) t=j;</span></span><br><span class="line"><span class="regexp">/</span>*更新当前子序列的长度，即每次计算装入两个篮子中的水果总数目*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">            ans=ans&gt;(j-f1+1)?mn:(j-f1+1);</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">        return ans;/</span><span class="regexp">/返回最终结果ans</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>
<h5 id="一个部分错误的代码"><a href="#一个部分错误的代码" class="headerlink" title="一个部分错误的代码"></a>一个部分错误的代码</h5><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    int totalFruit(vector&lt;int&gt;&amp; fruits) &#123;</span><br><span class="line">        int tr1,tr2,i=<span class="number">0</span>;</span><br><span class="line">        int ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(int j=<span class="number">1</span>;j&lt;fruits.size();j++)&#123;</span><br><span class="line">            int count=<span class="number">1</span>;</span><br><span class="line">		    tr1 = fruits[i]; </span><br><span class="line">		    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(fruits[j]!=tr1)&#123;</span><br><span class="line">                    count++;<span class="regexp">//</span>用两个数表示两个果很容易错</span><br><span class="line">                    <span class="keyword">if</span>(count == <span class="number">2</span>) </span><br><span class="line">                        tr2 = fruits[j];</span><br><span class="line">                    <span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="keyword">if</span>(fruits[j]!=tr2)</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(j==fruits.size()-<span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                j++;</span><br><span class="line">		    &#125;</span><br><span class="line">        int length = j-i+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(length&gt;ans) </span><br><span class="line">            ans=length;</span><br><span class="line">        i++;    <span class="regexp">//j</span>在到达最后一位时自动退出循环了，但是有可能j不动i后移一位时会得到最长</span><br><span class="line">                /<span class="regexp">/这个故事告诉我们要在while窗口中更新i</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    return ans;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>
<h3 id="76-最小覆盖字串"><a href="#76-最小覆盖字串" class="headerlink" title="76.最小覆盖字串"></a>76.<a href="https://leetcode.cn/problems/minimum-window-substring/">最小覆盖字串</a></h3><h1 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h1><p>判断集合中某个元素存在性</p>
<h2 id="49-字母异位词分组"><a href="#49-字母异位词分组" class="headerlink" title="49.字母异位词分组"></a>49.<a href="https://leetcode.cn/problems/group-anagrams/description/">字母异位词分组</a></h2><h3 id="官方题解"><a href="#官方题解" class="headerlink" title="官方题解"></a>官方题解</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    vector&lt;vector&lt;string&gt;&gt; groupAnagrams(vector&lt;string&gt;&amp; strs) &#123;</span><br><span class="line">        unordered_map&lt;string, vector&lt;string&gt;&gt; mp;</span><br><span class="line">        <span class="keyword">for</span> (string&amp; <span class="symbol">str:</span> strs) &#123;</span><br><span class="line">            string key = str;</span><br><span class="line">            sort(key.<span class="keyword">begin</span>(),key.<span class="keyword">end</span>());</span><br><span class="line">            mp[key].emplace_back(str);</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;vector&lt;string&gt;&gt;ans;</span><br><span class="line">        <span class="keyword">for</span>(auto it=mp.<span class="keyword">begin</span>();it!=mp.<span class="keyword">end</span>();++it)&#123;</span><br><span class="line">            ans.emplace_back(it-&gt;second);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="438-找到字符串中所有的字母异位词"><a href="#438-找到字符串中所有的字母异位词" class="headerlink" title="438. 找到字符串中所有的字母异位词"></a>438. <a href="https://leetcode.cn/problems/find-all-anagrams-in-a-string/description/">找到字符串中所有的字母异位词</a></h2><h3 id="啊啊啊啊啊改了无数次"><a href="#啊啊啊啊啊改了无数次" class="headerlink" title="啊啊啊啊啊改了无数次"></a>啊啊啊啊啊改了无数次</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    vector&lt;int&gt; findAnagrams(string s, string p) &#123;</span><br><span class="line">        int m=s.size(),n=p.size();</span><br><span class="line">        int pp=<span class="number">0</span>,count=<span class="number">0</span>;</span><br><span class="line">        vector&lt;int&gt; ans;</span><br><span class="line">        <span class="keyword">while</span>(pp&lt;(m-n+<span class="number">1</span>))&#123;  <span class="regexp">//</span>都是循环条件没找好</span><br><span class="line">            int a[<span class="number">30</span>]=&#123;<span class="number">0</span>&#125;,flag=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(int i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">                a[p[i]-<span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(int i=pp;i&lt;pp+n;i++)&#123;</span><br><span class="line">                a[s[i]-<span class="string">&#x27;a&#x27;</span>]--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(int i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i]!=<span class="number">0</span>) &#123;</span><br><span class="line">                    flag=<span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">                ans.push_back(pp);</span><br><span class="line">            &#125;</span><br><span class="line">            pp++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h1 id="模拟"><a href="#模拟" class="headerlink" title="模拟"></a>模拟</h1><p>##循环</p>
<h3 id="螺旋矩阵"><a href="#螺旋矩阵" class="headerlink" title="螺旋矩阵"></a>螺旋矩阵</h3><ol>
<li>循环不变量，区间左右开闭的选择守恒</li>
<li>注意边界限定，以及lr同时赋begin值</li>
<li>如果n为奇数的话，需要单独给矩阵最中间的位置赋值<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="symbol">public:</span></span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; generateMatrix(int n) &#123;</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; a(n, vector&lt;int&gt;(n, <span class="number">0</span>));    <span class="regexp">//</span> vector类型创建方法</span><br><span class="line">        int l=<span class="number">0</span>,r=<span class="number">0</span>,i=<span class="number">1</span>;</span><br><span class="line">        int <span class="keyword">begin</span>=<span class="number">0</span>,<span class="keyword">end</span>=n-<span class="number">1</span>;    <span class="regexp">//</span></span><br><span class="line">        int loop=n/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">while</span>(loop--)&#123;  <span class="regexp">//</span></span><br><span class="line">            l=<span class="keyword">begin</span>,r=<span class="keyword">begin</span>;    <span class="regexp">//</span></span><br><span class="line">            <span class="keyword">for</span>(;r&lt;<span class="keyword">end</span>;r++)&#123;</span><br><span class="line">                a[l][r] = i;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(;l&lt;<span class="keyword">end</span>;l++)&#123;</span><br><span class="line">                a[l][r] = i;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(;r&gt;<span class="keyword">begin</span>;r--)&#123;</span><br><span class="line">                a[l][r] = i;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(;l&gt;<span class="keyword">begin</span>;l--)&#123;</span><br><span class="line">                a[l][r] = i;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">begin</span>++;</span><br><span class="line">            <span class="keyword">end</span>--;</span><br><span class="line">        &#125;</span><br><span class="line">        int mid=n/<span class="number">2</span>;    </span><br><span class="line">        <span class="keyword">if</span> (n % <span class="number">2</span>) &#123;    <span class="regexp">//</span></span><br><span class="line">            a[mid][mid] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>学点</category>
      </categories>
  </entry>
  <entry>
    <title>影像组学</title>
    <url>/2023/%E5%AD%A6%E7%82%B9/%E5%BD%B1%E5%83%8F%E7%BB%84%E5%AD%A6/</url>
    <content><![CDATA[<p><a href="https://ieeexplore.ieee.org/ielx7/7433213/8657419/08657645.pdf?tag=1">一个对比AI影像和传统影像的论文，介绍各自的特征</a><br>深度学习简单直接自动化，大力出奇迹；影像组学步步为营靠人工，识珠靠慧眼。两种方法本质上都依赖大数据，都可以划分为图像预处理、特征筛选和特征建模三个阶段。</p>
<h1 id="传统影像组学"><a href="#传统影像组学" class="headerlink" title="传统影像组学"></a>传统影像组学</h1><p>方法上，影像组学提取传统的图像特征，包括形状、灰度、纹理等，采用传统统计（模式识别）模型来分类和预测，如支持向量机、随机森林、XGBoost等；<br><strong>Overview</strong><br><img src="https://pic4.zhimg.com/v2-f6a1971f7bd966f887c80a6b6afdce53_r.jpg" alt="Img"></p>
<h1 id="AI影像组学"><a href="#AI影像组学" class="headerlink" title="AI影像组学"></a>AI影像组学</h1><h2 id="深度学习人工智能模型"><a href="#深度学习人工智能模型" class="headerlink" title="深度学习人工智能模型"></a>深度学习人工智能模型</h2><p><a href="https://zhuanlan.zhihu.com/p/459735826">放射组学基于人工智能治疗预后</a><br>DL方法基于深度神经网络进行模式识别，模式识别通常包括一系列可训练的非线性操作，称为层，每个层将输入数据转换为便于模式识别的表示。随着越来越多的层对输入数据应用转换，这些数据越来越多地抽象为深层特征表示。由此产生的深层特征最终可以由网络的最后一层转化为所需的输出，例如治疗结果的可能性或肿瘤的分子亚型。深度学习是一个广泛的、技术性的、动态发展的领域。我们简要介绍了基于预测的AI影像学中最常见的主题，并对深层神经网络的类型、常用框架、解决数据局限性的方法进行了更详细的补充讨论。所有这些问题在别的研究中都有综述。</p>
<h2 id="VGG实现特征提取"><a href="#VGG实现特征提取" class="headerlink" title="VGG实现特征提取"></a>VGG实现特征提取</h2><h3 id="常用代码-注解"><a href="#常用代码-注解" class="headerlink" title="常用代码&amp;注解"></a>常用代码&amp;注解</h3><h4 id="查看模型结构"><a href="#查看模型结构" class="headerlink" title="查看模型结构"></a>查看模型结构</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看模型整体结构</span></span><br><span class="line">structure = torch.nn.<span class="title class_">Sequential</span>(*list(vgg_model.children())[<span class="symbol">:</span>])</span><br><span class="line">print(structure)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 查看模型各部分名称</span></span><br><span class="line">print(<span class="string">&#x27;模型各部分名称&#x27;</span>, vgg_model._modules.keys())</span><br></pre></td></tr></table></figure>
<p>运行后可知：</p>
<ul>
<li><p>vgg19整体结构分为三大部分：</p>
<ul>
<li>‘features’：上面输出的VGG19模型结构中的第一个Sequential，包含（0）-（36）层；</li>
<li>‘avgpool’：VGG19模型结构的第二个部分AdaptiveAvgPool2d；</li>
<li>‘classifier’：VGG19模型结构的最后一个部分Sequential，包含（0）-（6）层。注意其中Linear特征维度是1000，其余均为4096.</li>
</ul>
</li>
</ul>
<h4 id="修改模型结构"><a href="#修改模型结构" class="headerlink" title="修改模型结构"></a>修改模型结构</h4><ol>
<li><p>可以获取各个部分，切割层数</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 获取vgg19模型的第一个Sequential, 也就是features部分.</span></span><br><span class="line">features = torch.nn.<span class="title class_">Sequential</span>(*list(vgg_model.children())[<span class="number">0</span>])</span><br><span class="line">print(<span class="string">&#x27;features of vgg19: &#x27;</span>, features)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 获取vgg19模型的最后一个Sequential, 也就是classifier部分.</span></span><br><span class="line">classifier = torch.nn.<span class="title class_">Sequential</span>(*list(vgg_model.children())[-<span class="number">1</span>])</span><br><span class="line">print(<span class="string">&#x27;classifier of vgg19: &#x27;</span>, classifier)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 在获取到最后一个classifier部分的基础上, 再切割模型, 去掉最后一层.</span></span><br><span class="line">new_classifier = torch.nn.<span class="title class_">Sequential</span>(*list(vgg_model.children())[-<span class="number">1</span>][<span class="symbol">:</span><span class="number">6</span>])</span><br><span class="line">print(<span class="string">&#x27;new_classifier: &#x27;</span>, new_classifier)</span><br></pre></td></tr></table></figure></li>
<li><p>用new_classifier替换vgg19原始模型中的分类器( classifier )部分，就得到了输出维度是4096的VGG19模型</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">import torch</span><br><span class="line">import torchvision.models as models</span><br><span class="line">from torchvision import transforms</span><br><span class="line">from <span class="variable constant_">PIL</span> import <span class="title class_">Image</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 获取vgg19原始模型, 输出图像维度是1000.</span></span><br><span class="line">vgg_model_1000 = models.vgg19(pretrained=<span class="title class_">True</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 下面三行代码功能是:得到修改后的vgg19模型.</span></span><br><span class="line"><span class="comment"># 具体实现是: 去掉vgg19原始模型的第三部分classifier的最后一个全连接层, </span></span><br><span class="line"><span class="comment"># 用新的分类器替换原始vgg19的分类器，使输出维度是4096.</span></span><br><span class="line">vgg_model_4096 = models.vgg19(pretrained=<span class="title class_">True</span>)</span><br><span class="line">new_classifier = torch.nn.<span class="title class_">Sequential</span>(*list(vgg_model_4096.children())[-<span class="number">1</span>][<span class="symbol">:</span><span class="number">6</span>])</span><br><span class="line">vgg_model_4096.classifier = new_classifier</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 获取和处理图像</span></span><br><span class="line">image_dir = <span class="string">&#x27;/mnt/image_test.jpg&#x27;</span></span><br><span class="line">im = <span class="title class_">Image</span>.open(image_dir)</span><br><span class="line">trans = transforms.<span class="title class_">Compose</span>([</span><br><span class="line">        transforms.<span class="title class_">Resize</span>((<span class="number">224</span>, <span class="number">224</span>)),</span><br><span class="line">        transforms.<span class="title class_">ToTensor</span>(),</span><br><span class="line">        transforms.<span class="title class_">Normalize</span>(mean=[<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>], std=[<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>])</span><br><span class="line">])</span><br><span class="line">im = trans(im)</span><br><span class="line">im.unsqueeze_(dim=<span class="number">0</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 使用vgg19得到图像特征.</span></span><br><span class="line"><span class="comment"># 原始vgg19模型</span></span><br><span class="line">image_feature_1000 = vgg_model_1000(im).data[<span class="number">0</span>]</span><br><span class="line">print(<span class="string">&#x27;dim of vgg_model_1000: &#x27;</span>, image_feature_1000.shape)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 修改后的vgg19模型</span></span><br><span class="line">image_feature_4096 = vgg_model_4096(im).data[<span class="number">0</span>]</span><br><span class="line">print(<span class="string">&#x27;dim of vgg_model_4096: &#x27;</span>, image_feature_4096.shape)</span><br></pre></td></tr></table></figure>
</li>
<li><p>简化版本：只需要原始vgg19模型的第一个部分features部分的输出结果.但是只适用于联网加载的vgg19模型（即设置了pretrained&#x3D;True的模型），不适用于使用了本地vgg19模型的vgg_model</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 获取vgg19原始模型的features部分的前34个结构, 得到新的vgg_model模型.</span></span><br><span class="line">vgg_model = models.vgg19(pretrained=<span class="title class_">True</span>).features[<span class="symbol">:</span><span class="number">34</span>]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 但是下面的代码只能得到classifier部分的前40个, </span></span><br><span class="line"><span class="comment"># 而不能得到包含features及avgpool及classifier的一共前40个结构.</span></span><br><span class="line"><span class="comment"># 所以这个方法不能实现输出4096维度图像特征的目标．</span></span><br><span class="line"><span class="comment"># vgg_model = models.vgg19(pretrained=True).classifier[:40]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>一些小tips</p>
<ol>
<li>修改特征类型 <figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">    把<span class="string">`VGG16_Weights.IMAGENET1K_FEATURES`</span></span><br><span class="line">改成<span class="string">`VGG16_Weights.IMAGENET1K_V1`</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h2 id="用于预测的卷积神经网络"><a href="#用于预测的卷积神经网络" class="headerlink" title="用于预测的卷积神经网络"></a>用于预测的卷积神经网络</h2><p>在放射学中，大多数基于DL的生物标记物应用都使用卷积神经网络从成像数据得出预测（图3a）。<strong>卷积神经网络是神经网络的一种特殊形式，用于学习图像的空间特征</strong>，并且由于它们在诊断任务中的表现，受到了广泛的关注。在几项引人注目的研究中，基于CNN的模型在诊断胸片和CT以及数字乳房X光摄影方面甚至超过了专业的人类专家。正如CNN已被证明能够学习指示恶性肿瘤的图像特征一样，越来越多的研究表明，它们可以根据与预后、风险和分子特征相关的肿瘤性质的细微差异对患者进行分型（图3a）。当使用患者结果数据进行训练时，CNN的卷积层可以学会识别反映预后的新成像表型。CNN可以应用于2D或3D输入，并且可以使用多个输入，以便从图像类型的组合中学习，例如<strong>多参数或动态MRI扫描</strong>。大量的CNN结构可以选择来用于基于AI的生物标记物研究（补充表2）。补充框2中进一步详细讨论了它们的原理和优势。<br><img src="https://pic3.zhimg.com/80/v2-0d05d6872495dc94b788d526756f9c2e_1440w.webp" alt="Img"></p>
<ul>
<li><p>用于预测的卷积神经网络（CNN）模型示例。输入图像或体积通过CNN层，CNN层执行操作并将其转换为目标输出向量。卷积层是将成像数据转换为深度特征表示的一组操作。每个过滤器通过图像，并与非线性激活函数配对，以强调特定任务感兴趣的视觉模式。随着更多的卷积层层叠，CNN可以在图像中学习到更复杂的视觉模式。在整个CNN分类器中，深度特征通过池化操作定期聚合。经过卷积层和池化层处理后，深度特征表示最终被展平为向量。接下来，完全连接的层将这些CNN衍生的图像特征转换为对应于目标输出的向量。这些模型可用于预测治疗反应、预测、肿瘤亚型和生物标志物的分类以及生理值的预测。</p>
</li>
<li><p>全卷积神经网络是一种CNN类型，只包含产生图像输出的卷积层，如肿瘤位置图。</p>
</li>
<li><p>完全连接的网络可以根据非图像数据进行训练，如影像组学特征和临床变量。</p>
</li>
<li><p>当对模型进行结果预测训练时，对大量数据的需求可能会存在局限性，在这种情况下，可行的患者数据可能比诊断研究更加有限。幸运的是，尽管训练数据很少，但有几种方法可以利用神经网络的优势。例如，<strong>迁移学习，其中针对一个模式识别任务训练的模型被重新调整用途以执行新任务，经常用于在训练数据大幅减少的情况下实现强大的CNN性能</strong>其他方法可用于处理有限或有缺陷的训练数据。</p>
</li>
</ul>
<h2 id="一些论文"><a href="#一些论文" class="headerlink" title="一些论文"></a>一些论文</h2><h3 id="一个特征提取网络的介绍"><a href="#一个特征提取网络的介绍" class="headerlink" title="一个特征提取网络的介绍"></a><a href="https://blog.csdn.net/cc1609130201/article/details/130921342?ops_request_misc=&request_id=&biz_id=102&utm_term=MRIVGG-Net&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-130921342.142%5Ev96%5Epc_search_result_base3&spm=1018.2226.3001.4187">一个特征提取网络的介绍</a></h3><p><strong>Deep Feature——用深度网络来提取特征</strong></p>
<h3 id="Pure-DL直接使用Autoencoder来提取特征，然后直接进行分类。"><a href="#Pure-DL直接使用Autoencoder来提取特征，然后直接进行分类。" class="headerlink" title="Pure DL直接使用Autoencoder来提取特征，然后直接进行分类。"></a><a href="http://devinderkumar.com/slides/crv_2015.pdf">Pure DL</a>直接使用Autoencoder来提取特征，然后直接进行分类。</h3><p>采用LIDC中已经标记（分割）好的肺结节病灶区域作为ROI，对ROI的最小包围矩形区域进行尺寸归一化，然后输入一个5层Autoencoder网络进行特征编码，对Autoencoder网络进行训练。之后，使用训练优化完成后的5层网络中的第4层网络输出，共200个特征向量，输入一个二值分类树，区分肺结节良恶性。<br><img src="https://pic1.zhimg.com/80/v2-0e0f70828404e5f5726e06d034bee348_1440w.webp" alt="Img"><br>但是这种方法准确度有待考量。</p>
<h3 id="！DL-Tr可以预测生存周期"><a href="#！DL-Tr可以预测生存周期" class="headerlink" title="！DL+Tr可以预测生存周期"></a>！<a href="https://pubmed.ncbi.nlm.nih.gov/28871110/">DL+Tr</a>可以预测生存周期</h3><p>在传统的影像组学三大件（形状、灰度、纹理）之上，又添加了来自于深度学习网络的深度特征（Deep Feature）。所使用的深度学习网络包含5个卷积层和3个全连接层。倒数第二个（full7）和倒数第三个（full6）全连接层的输出，共8192个特征，与其他影像组学特征一起输入预测模型，来预测多形性成胶质细胞瘤患者的生存周期<br><img src="https://pic1.zhimg.com/80/v2-5d2b1d2feeaedce0ff8e73abb6e0d944_1440w.webp" alt="Img"></p>
<h3 id="！DRL"><a href="#！DRL" class="headerlink" title="！DRL"></a>！<a href="https://www.nature.com/articles/s41598-017-05848-2">DRL</a></h3><p>直接采用CNN网络的输出作为特征，连接传统的分类器（预测器）进行分类和预测。作者在MR多模态影像上，测试和验证了DLR预测低级别胶质瘤突变分级的准确性。下方依次给出的是整体流程图，以及将DLR与传统影像组学方法的特异性、敏感性等对比、ROC对比。从对比可以看出，DLR方法在各项指标中几乎全面胜出。并且，对比中发现，采用多模态影像，并且对特征进行进一步筛选，得到的各项指标是最高的。<br><img src="https://pic2.zhimg.com/80/v2-9c5310d71e5e428662db1243f000b615_1440w.webp" alt="Img"><br><img src="https://pic1.zhimg.com/80/v2-558358a40a38f506aa5588d0e33a777c_1440w.webp" alt="Img"><br><img src="https://pic1.zhimg.com/80/v2-59d63f7881800e9147150a997646d6f4_1440w.webp" alt="Img"></p>
<h3 id="VGG-16-Architecture-for-MRI-Brain-Tumor-Image-Classification"><a href="#VGG-16-Architecture-for-MRI-Brain-Tumor-Image-Classification" class="headerlink" title="VGG-16 Architecture for MRI Brain Tumor Image Classification"></a><a href="https://link.springer.com/chapter/10.1007/978-981-19-8338-2_26">VGG-16 Architecture for MRI Brain Tumor Image Classification</a></h3><ul>
<li>初始阶段是对样本图像进行预处理，然后使用池化层进行过滤，使用卷积层进行特征提取，最后使用架构模型的 FC 层进行分类。来自分子脑肿瘤数据库（REpository of Molecular BRAin Neoplasia DaTa，REMBRANDT）的核磁共振图像使用了预先训练好的模型架构，如视觉几何组（VGG）VGG-19、VGG-16、Inception-V3、Inception-V2、残差网络（ResNet）ResNet-18 和 ResNet-50。</li>
<li>The use of DL and TL methods to diagnose and classify brain tumors using MRI brain images has been proved to be a promising methodology.<strong>contains many CNN designs, including ResNet,Inception, and VGG networks.</strong></li>
<li>Figure 2 illustrates the CNN model’s architecture for brain tumor categorization.<img src="https://media.springernature.com/lw685/springer-static/image/chp%3A10.1007%2F978-981-19-8338-2_26/MediaObjects/518611_1_En_26_Fig2_HTML.png?as=webp" alt="Img"><ul>
<li>从大脑图像中提取的深度特征被输入到设计的具有预训练特征的 CNN 模型中。**(GoogleNet)Inception-v2、Inception-V3、ResNet-18 [14]、ResNet-50 VGG-19 和 VGG-16 是本研究中使用的六个预训练 CNN 模型**。</li>
<li>最初，VGG-16 和 VGG-19 架构模型都将核磁共振成像脑图像作为输入。深度特征从网络的卷积层和最大池化层提取。随着深度的增加，分类误差也随之减少，直到达到 19 层时，分类误差才趋于饱和。研究人员还验证了深度在图形表示法中的重要性。</li>
<li>CNN performs better in larger datasets than the smaller ones. When it is not possible to produce a big training dataset, TL can be utilized.</li>
</ul>
</li>
<li>Conclusion: 具有 16 个网络层的 <strong>VGG-16</strong> 架构在将 MR 脑图像分类为肿瘤或正常图像方面提供了更高的准确度、精确度、F1 分数和召回率。</li>
</ul>
<h1 id="二者比较"><a href="#二者比较" class="headerlink" title="二者比较"></a>二者比较</h1><p>深度学习并没有完全取代影像组学。主要的原因还是数据集规模的限制。</p>
<p>深度学习能够大幅提高分类或预测模型的准确性，但这是有代价的。相比影像组学，深度学习方法需要更多的训练数据。但影像组学所研究的问题往往是某种肿瘤的分期或分型，或者是预后生存率，此类问题的训练数据（Grand Truth数据）收集成本是非常高昂的，一般需要病理或术后随访来进行验证。因此，训练数据集的规模通常数量级在几百，与深度学习常见的数千、上万级数据集相差很远。</p>
<p>可以采用深度学习中普遍采用的数据增强手段（Data Augmented）了。这在一定程度上弥补了数据缺口。而数据增强在传统的影像组学中是无法采用的。</p>
]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>影像组学</tag>
      </tags>
  </entry>
  <entry>
    <title>集成学习</title>
    <url>/2024/%E5%AD%A6%E7%82%B9/%E9%9B%86%E6%88%90%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<h1 id="个体与集成"><a href="#个体与集成" class="headerlink" title="个体与集成"></a>个体与集成</h1><ol>
<li>集成学习(ensemble learning)通过构建数个个体学习器来完成学习任务，每个个体学习器都是经过训练的算法；</li>
<li>集成的个体算法类型相同的（均为决策树或者均为神经网络等等）被称为“同质”(homogeneous)，反之为“异质”(heterogenous)。<ul>
<li>同质中的个体学习器称为“基学习器”(base learner)，相应的算法称为“基学习算法”(base learning algorithm)</li>
<li>异质中的个体称为“组件学习器”(component learner)，或者直接称之为个体学习器</li>
</ul>
</li>
<li>集成学习对性能提高的研究主要针对“弱学习器”(weak learner)，但是在实际应用中，为了个体学习器尽可能少，还是会使用学习能力更强的学习器。<ul>
<li>弱学习器是略优于随机猜测的学习器</li>
</ul>
</li>
</ol>
<h2 id="研究核心"><a href="#研究核心" class="headerlink" title="研究核心"></a>研究核心</h2><p>要获得好的集成，个体学习器应当“好而不同”：准确性+多样性(diversity);</p>
<ul>
<li>随着继承中个体分类器数目的增大，集成错误率指数级下降，最终趋于0；</li>
<li>但是以上结论基于假设：学习器间的误差相互独立，但由于训练目标是解决同一个问题，所以不可能相互独立，因此可以看出，集成过程中准确性和多样性是类似于查准率和查全率的关系<br><strong>因此，如何产生并结合“好而不同”的学习器，是集成学习的核心。</strong></li>
</ul>
<h1 id="集成学习方法"><a href="#集成学习方法" class="headerlink" title="集成学习方法"></a>集成学习方法</h1><p>分为两类：</p>
<ol>
<li>序列化：个体学习器间存在强依赖关系，必须串行生成；Boosting</li>
<li>并行化： 不存在强依赖关系，可以同时生成；Bagging &amp; Random Forest</li>
</ol>
<h2 id="Boosting"><a href="#Boosting" class="headerlink" title="Boosting"></a>Boosting</h2><p>可以将弱学习器提升为强学习器</p>
<h3 id="workflow"><a href="#workflow" class="headerlink" title="workflow"></a>workflow</h3><p>前提：base间强依赖 &amp; 串行序列化</p>
<ol>
<li>训练一个base</li>
<li>根据base的表现对训练样本分布进行调整，错误样本关注增加</li>
<li>基于调整后的样本训练一个base，知道base数为预定超参数n</li>
</ol>
<h3 id="AddBoost"><a href="#AddBoost" class="headerlink" title="AddBoost"></a>AddBoost</h3><h2 id="Bagging与随机森林"><a href="#Bagging与随机森林" class="headerlink" title="Bagging与随机森林"></a>Bagging与随机森林</h2><ol>
<li>不存在强依赖关系&amp;同时生成的并行式关系</li>
</ol>
]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>Machine learning</tag>
      </tags>
  </entry>
  <entry>
    <title>面向对象的Python</title>
    <url>/2023/%E5%AD%A6%E7%82%B9/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84Python/</url>
    <content><![CDATA[<h1 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h1><h2 id="一个简单的小例子"><a href="#一个简单的小例子" class="headerlink" title="一个简单的小例子"></a>一个简单的小例子</h2><ol>
<li>通过函数，传入可变参数，最后输出值return是字典，不需要传入的参数是预设的。</li>
<li>自动给相同类型属性的变量赋值</li>
<li>实体，属性，功能….<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">attack_vals = &#123;</span><br><span class="line">    <span class="string">&quot;A&quot;</span><span class="symbol">:</span><span class="number">30</span>,</span><br><span class="line">    <span class="string">&quot;B&quot;</span><span class="symbol">:</span><span class="number">50</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dog</span>(<span class="params">name,d_type</span>)<span class="symbol">:</span><span class="comment">#传参的模板</span></span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span><span class="symbol">:name</span>,</span><br><span class="line">        <span class="string">&quot;d_type&quot;</span><span class="symbol">:d_type</span>,</span><br><span class="line">        <span class="string">&quot;attack_val&quot;</span><span class="symbol">:</span><span class="number">30</span>,</span><br><span class="line">        <span class="string">&quot;life_val&quot;</span><span class="symbol">:</span><span class="number">100</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">#自动给相同类型属性的变量赋值</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dog_bite</span>(<span class="params">person_obj</span>) <span class="comment">#编辑对象的特定动作，绑定不出错儿~</span></span><br><span class="line">        person_obj[<span class="string">&quot;life_val&quot;</span>] -= data[<span class="string">&quot;attack_val&quot;</span>] <span class="comment">#执行动作</span></span><br><span class="line">    <span class="comment">#由于data就是在这个函数里定义的，所以直接调用data就可以</span></span><br><span class="line">    <span class="comment">#将函数定义在“狗”的内部，避免被错误地调用</span></span><br><span class="line">    data[<span class="string">&quot;bite&quot;</span>] = dog_bite</span><br><span class="line">    <span class="comment">#确保外部可以顺利调用</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> d_type <span class="keyword">in</span> <span class="symbol">attack_vals:</span></span><br><span class="line">        data[attack_val] = attack_vals[d_type]</span><br><span class="line">    <span class="symbol">else:</span></span><br><span class="line">        data[attack_val] = <span class="number">15</span> <span class="comment">#给没有名字的一个默认值</span></span><br><span class="line">    <span class="keyword">return</span> data <span class="comment">#输出字典类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#以此类推可以生成多个实体</span></span><br><span class="line">d1 = dog(<span class="string">&quot;lym&quot;</span>,<span class="string">&quot;A&quot;</span>)</span><br><span class="line">d1[<span class="string">&quot;bite&quot;</span>](person) <span class="comment">#调用dog_bite函数</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="面向过程-面向对象"><a href="#面向过程-面向对象" class="headerlink" title="面向过程 &amp; 面向对象"></a>面向过程 &amp; 面向对象</h2><h3 id="面向过程编程-Procedural-Programming"><a href="#面向过程编程-Procedural-Programming" class="headerlink" title="面向过程编程(Procedural Programming)"></a>面向过程编程(Procedural Programming)</h3><ul>
<li>top-down language，程序从上到下一步步执行，解决问题（分解问题思想）</li>
<li>简单的小脚本，可扩展性差</li>
</ul>
<h3 id="面向对象编程-Object-oriented-Programming"><a href="#面向对象编程-Object-oriented-Programming" class="headerlink" title="面向对象编程(Object-oriented Programming)"></a>面向对象编程(Object-oriented Programming)</h3><h4 id="class-类"><a href="#class-类" class="headerlink" title="class : 类"></a><code>class</code> : 类</h4><ol>
<li>首字母大写+驼峰命名法；</li>
<li><strong>属性</strong>：类中的变量；<br>属性只能通过实例来调用<code>实例.属性</code>；</li>
</ol>
<ul>
<li>类下直接定义的属性：公共属性，每一个实例会共享这个值。<br>公共属性可以直接在外部修改，对单独的实例进行修改就可以~</li>
<li><strong>初始化方法\构造方法\构造函数</strong>：<br>实例化时会自动执行，进行一些初始化工作。</li>
</ul>
<ol>
<li>用于构造一些私有化属性（传到参数里）；<br>实例属性只被实例享有，不会存到类里，调用报错。<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="symbol">A:</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"><span class="variable language_">self</span>,attribute1,attribute2</span>):</span><br><span class="line">        <span class="comment">#如果真正把属性传到实例，要把两个值和实例绑定：</span></span><br><span class="line">        <span class="variable language_">self</span>.a1 = attribute1</span><br><span class="line">        <span class="variable language_">self</span>.a2 = attribute2</span><br><span class="line">        <span class="comment">#在本函数中可以直接调用，不加实例；</span></span><br><span class="line">        <span class="comment">#外部调用attribute1，2时调用方式与公共相同相同；</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#实例化时传入参数：</span></span><br><span class="line">exm = A(attA,attB)</span><br></pre></td></tr></table></figure></li>
<li></li>
<li><strong>方法</strong>： 类中的函数、功能；<br><code>self</code>： 代表实例本身,必须是方法中第一个参数；</li>
<li>实例化：将类变为实体</li>
</ol>
]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>Python 面向对象</tag>
      </tags>
  </entry>
  <entry>
    <title>数值计算方法</title>
    <url>/2024/%E5%AD%A6%E7%82%B9/%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><h2 id="误差"><a href="#误差" class="headerlink" title="误差"></a>误差</h2><ol>
<li>对于十字相乘法类的二次方程，如果两根相差过大，会发现<strong>求根公式</strong>算小根是错误的：或许结论推理也不能</li>
<li>如何运算精确度更高？</li>
</ol>
<h3 id="误差的来源"><a href="#误差的来源" class="headerlink" title="误差的来源"></a>误差的来源</h3><ol>
<li>模型误差：分析方法近似造成的误差eg.物理中的理想化模型</li>
<li>观测误差：测量过程中不可消除的误差，与设备、方式有问题</li>
<li><strong>截断误差</strong>：数学计算方法中常见，数学中的“无穷”需要转化为计算机中的“有穷”；比如说无穷大化为一个极大数值，无穷小数转为多位的有限小数。表示为：<br>$$</li>
</ol>
<p>$$<br>    * 泰勒展开，级数展开<br>4. 舍入误差：计算机中由于数据类型的长度有限，在实际位数超过该长度时，<br>在本课误差估计中，假定数学模型合理，测定值精确，主要讨论<strong>截断误差和舍入误差</strong></p>
<h3 id="绝对误差、相对误差与有效数字"><a href="#绝对误差、相对误差与有效数字" class="headerlink" title="绝对误差、相对误差与有效数字"></a>绝对误差、相对误差与有效数字</h3><h4 id="绝对误差"><a href="#绝对误差" class="headerlink" title="绝对误差"></a>绝对误差</h4><p>$x^*$为准确值x的一个近似值，则称$x-x^*$为近似值$x^*$的绝对误差，简称误差，表示为$\epsilon$:<br>$$ \epsilon&#x3D;x-x^*$$<br>$|\epsilon|$的大小显示出近似值的准确程度，同一量的不同近似中，$|\epsilon|$越小，近似值准确度越高</p>
<h4 id="绝对误差限"><a href="#绝对误差限" class="headerlink" title="绝对误差限"></a>绝对误差限</h4><p>实践中无法确定x，但是可以确定<strong>误差绝对值</strong>的上限，从而确定准确值的范围，定义满足如下不等式的正数称为近似值的误差限：<br>$$ x^*-\epsilon \le x \le x^*+\epsilon $$<br>也可以表示为$x&#x3D;x^*\pm \epsilon$</p>
<h4 id="相对误差-epsilon"><a href="#相对误差-epsilon" class="headerlink" title="相对误差$\epsilon^*$"></a>相对误差$\epsilon^*$</h4><p>绝对误差与真值之比，称为<strong>近似值</strong>的相对误差（为了增强可操作性）<br>$$ \epsilon_r(x)&#x3D;\frac{\epsilon(x)}{x}&#x3D;\frac{x-x^*}{x} $$<br>    * 相对误差可以体现误差绝对大小与测量度相对大小关系，也就是说误差的绝对大小并不能决定精度<br>然而实际问题中x未知，因而常将近似值替换准确值来计算相对误差，衡量准确程度：<br>$$ \epsilon^*_r(x)&#x3D;\frac{\epsilon(x)}{x^*}&#x3D;\frac{x-x^*}{x^*} $$</p>
<h4 id="相对误差限"><a href="#相对误差限" class="headerlink" title="相对误差限"></a>相对误差限</h4><p>类似于绝对误差限，满足下列不等式的正数$\epsilon_r$为<strong>近似值</strong>的相对误差限<br>$$ \epsilon^*_r(x)&#x3D;|\frac{\epsilon(x)}{x^*}|&#x3D;|\frac{x-x^*}{x^*}| \le \epsilon_r $$</p>
<h4 id="有效数字"><a href="#有效数字" class="headerlink" title="有效数字"></a>有效数字</h4><p>近似值的误差限是其某一位上的<strong>半个单位</strong>时，称其“准确”到这意味，且从该位其到前面第一位<strong>非零数字</strong>为止<strong>所有数字</strong>都称为有效数字。<br>一般说，设有一个数x，其近似值的规格化形式为：<br>$$ $$</p>
<div class="note info">
            <p><strong>注意</strong>：</p><ol><li>绝对误差有单位，相对误差由于做了除法是没有单位的，常用百分号表示</li><li>四舍五入时，绝对误差限不超过末位数的半个单位</li><li>有效数字：</li></ol><ul><li>203和0.203有效数字均为n&#x3D;3，只是m不同</li><li>为什么强调采用标准式写法：9000的有效数字位数不一定为4，我们无法确定这是测定准确结果还是仅将0用于占位</li></ul>
          </div>
<h4 id="有效数字与误差的关系"><a href="#有效数字与误差的关系" class="headerlink" title="有效数字与误差的关系"></a>有效数字与误差的关系</h4><p>相对误差回推有效数字</p>
<h3 id="数值运算中应注意的几个原则"><a href="#数值运算中应注意的几个原则" class="headerlink" title="数值运算中应注意的几个原则"></a>数值运算中应注意的几个原则</h3><ol>
<li>选用数值稳定性好的算法</li>
</ol>
<ul>
<li>什么是稳定性好</li>
<li>如何判断一种算法具有良好的稳定性？<br> 假定数值具有初始误差$$，考察由$$引起的误差累计是否会增长，如果不增长则认为是稳定的，如果严重增长则认为不稳定</li>
<li>如果改变为一种正确的算法，或许相同的计算类型稳定性可以增强（比如说改变递推方式，可以得到越来越精确的值）</li>
<li>重要的是<strong>误差传递的方式</strong></li>
</ul>
<ol start="2">
<li>避免两个（有效位数）相近的数相减（会严重消损有效数字）</li>
</ol>
<ul>
<li>分母“无理化”</li>
<li>降幂公式逆运算</li>
</ul>
<h3 id="有效数字的运算规则"><a href="#有效数字的运算规则" class="headerlink" title="有效数字的运算规则"></a>有效数字的运算规则</h3><ol>
<li>加减运算</li>
<li>乘除运算</li>
</ol>
]]></content>
      <categories>
        <category>学点</category>
      </categories>
  </entry>
  <entry>
    <title>DjangoBaisc</title>
    <url>/2024/%E5%AD%A6%E7%82%B9/DjangoBaisc/</url>
    <content><![CDATA[<p>丢一个<a href="https://www.djangoproject.com/download/">官网教程</a></p>
<h1 id="Get-Started！"><a href="#Get-Started！" class="headerlink" title="Get Started！"></a>Get Started！</h1><h2 id="安装-初始化"><a href="#安装-初始化" class="headerlink" title="安装&amp;初始化"></a>安装&amp;初始化</h2><ol>
<li>超级无敌推荐git下载，不需要任何环境变量一次成功。在你准备好的虚拟环境下：<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">git clone <span class="symbol">https:</span>/<span class="regexp">/github.com/django</span><span class="regexp">/django.git</span></span><br></pre></td></tr></table></figure></li>
<li>虚拟环境中建立一个django的新项目<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">django-admin startproject [你的项目名]</span><br></pre></td></tr></table></figure>
这时候新项目的目录如下:<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysite/</span><br><span class="line">    manage.py</span><br><span class="line">    mysite/</span><br><span class="line">        __init__.py</span><br><span class="line">        settings.py</span><br><span class="line">        urls.py</span><br><span class="line">        asgi.py</span><br><span class="line">        wsgi.py</span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li><code>setting.py</code>指定Django如何与你的系统交互以及你如何管理项目</li>
<li><code>urls.py</code>告诉Django应创建哪些网页来响应浏览器请求</li>
<li><code>wsgi.py</code>帮助Django提供他创建的文件(web sever gateway interface)</li>
<li><code>db.sqlite3</code>是你的数据库，用于储存Django大部分与项目有关的信息</li>
</ul>
<ol start="3">
<li>创建应用程序<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">python manage.py startapp [程序名]</span><br></pre></td></tr></table></figure></li>
<li>查看你的项目<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">python manage.py runserver</span><br></pre></td></tr></table></figure>
注意<code>Quit the server with CTRL-BREAK.</code>就是说停止运行就是Ctrl+C</li>
</ol>
<h2 id="编写你的应用程序"><a href="#编写你的应用程序" class="headerlink" title="编写你的应用程序"></a>编写你的应用程序</h2><p>我的项目名是myFirstDjango，程序名是blogs</p>
<h3 id="定义模型"><a href="#定义模型" class="headerlink" title="定义模型"></a>定义模型</h3><p>打开<code>blogs</code>下的<code>models.py</code>，我们就在这里创建模型；模型告诉Django如何处理应用程序中存储的数据。在代码层面，模型就是一个类，就像前边讨论的每个类一样，包含属性和方法。</p>
]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>降维学习与度量学习</title>
    <url>/2024/%E5%AD%A6%E7%82%B9/%E9%99%8D%E7%BB%B4%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%BA%A6%E9%87%8F%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<h2 id="流形学习"><a href="#流形学习" class="headerlink" title="流形学习"></a>流形学习</h2><h3 id="代码总结"><a href="#代码总结" class="headerlink" title="代码总结"></a>代码总结</h3>]]></content>
      <categories>
        <category>学点</category>
      </categories>
      <tags>
        <tag>Machine learning</tag>
      </tags>
  </entry>
</search>
